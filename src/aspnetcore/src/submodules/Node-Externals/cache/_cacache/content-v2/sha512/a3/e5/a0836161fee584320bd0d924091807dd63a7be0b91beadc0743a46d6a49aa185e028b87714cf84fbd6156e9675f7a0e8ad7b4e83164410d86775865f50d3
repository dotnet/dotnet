{"_id":"node-fetch","_rev":"383d4a06-14f2-42c1-89b3-562078e25326","name":"node-fetch","dist-tags":{"latest":"3.3.2","next":"3.0.0-beta.10","cjs":"2.6.7","beta":"4.0.0-beta.4","release-2.x":"2.7.0"},"versions":{"0.1.0":{"_id":"node-fetch@0.1.0","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"0.1.0","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js"},"directories":{},"devDependencies":{"bluebird":"^2.9.1","chai":"^1.10.0","chai-as-promised":"^4.1.1","mocha":"^2.1.0","promise":"^6.1.0"},"dependencies":{"encoding":"^0.1.11"},"main":"index.js","dist":{"shasum":"26c6afcd56ff31a8de2643a4cba6438dfa844bf9","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-0.1.0.tgz"},"gitHead":"5cb7365d5cbf1dabffed31f6dfe6f996cbbfb7c2","_from":".","_npmVersion":"2.0.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}]},"1.0.0":{"_id":"node-fetch@1.0.0","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"1.0.0","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^2.9.1","chai":"^1.10.0","chai-as-promised":"^4.1.1","coveralls":"^2.11.2","istanbul":"^0.3.5","mocha":"^2.1.0","promise":"^6.1.0","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11"},"main":"index.js","dist":{"shasum":"342cc3ff90d200d6710ffcba132af37f385df2d8","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.0.0.tgz"},"gitHead":"95ad88e527455bdef40c69d936e4bf1da2fae307","_from":".","_npmVersion":"2.0.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}]},"1.0.1":{"_id":"node-fetch@1.0.1","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"1.0.1","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^2.9.1","chai":"^1.10.0","chai-as-promised":"^4.1.1","coveralls":"^2.11.2","istanbul":"^0.3.5","mocha":"^2.1.0","promise":"^6.1.0","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11"},"main":"index.js","dist":{"shasum":"ecbccd80d52708f9c0bb6a900ba60672c743b243","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.0.1.tgz"},"gitHead":"4532ad699ecf290202a2c2bdab9c6c6cc8570d16","_from":".","_npmVersion":"2.0.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}]},"1.0.2":{"_id":"node-fetch@1.0.2","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"1.0.2","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^2.9.1","chai":"^1.10.0","chai-as-promised":"^4.1.1","coveralls":"^2.11.2","istanbul":"^0.3.5","mocha":"^2.1.0","promise":"^6.1.0","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11"},"main":"index.js","dist":{"shasum":"ead209298a4dbb0a0ea151745ff641db67747953","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.0.2.tgz"},"gitHead":"f0bca7ee663879e5d50814048d9a4cec333d271d","_from":".","_npmVersion":"2.0.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}]},"1.0.3":{"_id":"node-fetch@1.0.3","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"1.0.3","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^2.9.1","chai":"^1.10.0","chai-as-promised":"^4.1.1","coveralls":"^2.11.2","istanbul":"^0.3.5","mocha":"^2.1.0","promise":"^6.1.0","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11"},"main":"index.js","dist":{"shasum":"7c3bcc966ebaa5fbf9c650423f2bbf204abf0c52","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.0.3.tgz"},"gitHead":"6705b3cdaf3e0b472623e7d271ca686a97e61276","_from":".","_npmVersion":"2.0.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}]},"1.0.4":{"_id":"node-fetch@1.0.4","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.0.4","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^2.9.1","chai":"^1.10.0","chai-as-promised":"^4.1.1","coveralls":"^2.11.2","istanbul":"^0.3.5","mocha":"^2.1.0","promise":"^6.1.0","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11"},"main":"index.js","dist":{"shasum":"e324813be355fb832bdfce68b959f8d7707dbc9b","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.0.4.tgz"},"gitHead":"6172067d1ef9704b9af97de2554d912572801360","_from":".","_npmVersion":"2.0.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}]},"1.0.5":{"_id":"node-fetch@1.0.5","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.0.5","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^2.9.1","chai":"^1.10.0","chai-as-promised":"^4.1.1","coveralls":"^2.11.2","istanbul":"^0.3.5","mocha":"^2.1.0","promise":"^6.1.0","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11"},"main":"index.js","dist":{"shasum":"320ca8a3e584267df3bd22bd10489b3868e4c8d8","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.0.5.tgz"},"gitHead":"220506757b4d1bd91f0724b5c781430867736e65","_from":".","_npmVersion":"2.7.1","_nodeVersion":"1.5.1","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}]},"1.0.6":{"_id":"node-fetch@1.0.6","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.0.6","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^2.9.1","chai":"^1.10.0","chai-as-promised":"^4.1.1","coveralls":"^2.11.2","istanbul":"^0.3.5","mocha":"^2.1.0","promise":"^6.1.0","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11"},"main":"index.js","dist":{"shasum":"2299d61ffd5ba0abc4440cd782ea9125ea96fd11","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.0.6.tgz"},"gitHead":"f04609055c0d3c4543ba743abe6d94902c8a9c7f","_from":".","_npmVersion":"2.7.1","_nodeVersion":"1.5.1","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}]},"1.1.0":{"_id":"node-fetch@1.1.0","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.1.0","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^2.9.1","chai":"^1.10.0","chai-as-promised":"^4.1.1","coveralls":"^2.11.2","istanbul":"^0.3.5","mocha":"^2.1.0","promise":"^6.1.0","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11"},"main":"index.js","dist":{"shasum":"92a8f0407e5d153494f45f8d05a0c1688f8986ab","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.1.0.tgz"},"gitHead":"c363782b0a88af99963c4b4cc58d472f11bc4375","_from":".","_npmVersion":"2.7.6","_nodeVersion":"1.7.1","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}]},"1.1.1":{"_id":"node-fetch@1.1.1","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.1.1","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^2.9.1","chai":"^1.10.0","chai-as-promised":"^4.1.1","coveralls":"^2.11.2","istanbul":"^0.3.5","mocha":"^2.1.0","promise":"^6.1.0","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11"},"main":"index.js","dist":{"shasum":"0f7ffe76f12bb386757ccd566ced04b7d6c3cc06","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.1.1.tgz"},"gitHead":"c02cb4229d46ff653e33f9ae75cc450c1c608c2c","_from":".","_npmVersion":"2.7.6","_nodeVersion":"1.7.1","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}]},"1.1.2":{"_id":"node-fetch@1.1.2","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.1.2","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^2.9.1","chai":"^1.10.0","chai-as-promised":"^4.1.1","coveralls":"^2.11.2","istanbul":"^0.3.5","mocha":"^2.1.0","promise":"^6.1.0","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11"},"main":"index.js","dist":{"shasum":"cf369f6dd45415dcbebf9aaeb7d7e8ad18dec9ab","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.1.2.tgz"},"gitHead":"377bce655fbd62f08ebcbc30c261ab9acccc52c9","_from":".","_npmVersion":"2.7.0","_nodeVersion":"1.5.1","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}]},"1.2.0":{"_id":"node-fetch@1.2.0","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.2.0","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^2.9.1","chai":"^1.10.0","chai-as-promised":"^4.1.1","coveralls":"^2.11.2","istanbul":"^0.3.5","mocha":"^2.1.0","promise":"^6.1.0","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11"},"main":"index.js","dist":{"shasum":"2051585c4f4ed0265805a0b783d15bb81634ca7c","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.2.0.tgz"},"gitHead":"60f819f0a0fc4779a5f61a8a3db2faa5459e63f7","_from":".","_npmVersion":"2.7.6","_nodeVersion":"1.7.1","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}]},"1.2.1":{"_id":"node-fetch@1.2.1","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.2.1","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^2.9.1","chai":"^1.10.0","chai-as-promised":"^4.1.1","coveralls":"^2.11.2","istanbul":"^0.3.5","mocha":"^2.1.0","promise":"^6.1.0","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11"},"main":"index.js","dist":{"shasum":"8404802c3346c1e8776e3699c0f32df9be13cbed","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.2.1.tgz"},"gitHead":"177d42e00168c87e9ce830a2b796c81a4b8f6ac6","_from":".","_npmVersion":"2.7.6","_nodeVersion":"1.7.1","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}]},"1.3.0":{"_id":"node-fetch@1.3.0","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.3.0","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^2.9.1","chai":"^1.10.0","chai-as-promised":"^4.1.1","coveralls":"^2.11.2","istanbul":"^0.3.5","mocha":"^2.1.0","promise":"^6.1.0","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11"},"main":"index.js","dist":{"shasum":"655fd3a0c5d86bf452f63b5a959d15498678befe","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.3.0.tgz"},"gitHead":"32b60634434a63865ea3f79edb33d17e40876c9f","_from":".","_npmVersion":"2.8.3","_nodeVersion":"1.8.1","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}]},"1.3.1":{"_id":"node-fetch@1.3.1","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.3.1","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^2.9.1","chai":"^1.10.0","chai-as-promised":"^4.1.1","coveralls":"^2.11.2","istanbul":"^0.3.5","mocha":"^2.1.0","promise":"^6.1.0","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11"},"main":"index.js","dist":{"shasum":"e95c3796272295061222ba67644577959bd4faab","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.3.1.tgz"},"gitHead":"b5579eb34d13cc3422dfb3c9d3a6d262f3200019","_from":".","_npmVersion":"2.11.1","_nodeVersion":"2.3.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}]},"1.3.2":{"_id":"node-fetch@1.3.2","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.3.2","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^2.9.1","chai":"^1.10.0","chai-as-promised":"^4.1.1","coveralls":"^2.11.2","form-data":"^1.0.0-rc1","istanbul":"^0.3.5","mocha":"^2.1.0","parted":"^0.1.1","promise":"^6.1.0","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11"},"main":"index.js","dist":{"shasum":"c0ef9fc0f86809349269cc8051a459d07c091412","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.3.2.tgz"},"gitHead":"129d9338a9d2b89f211b2d014d1eb23b4e9d307d","_from":".","_npmVersion":"2.11.1","_nodeVersion":"2.3.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}]},"1.3.3":{"_id":"node-fetch@1.3.3","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.3.3","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^2.9.1","chai":"^1.10.0","chai-as-promised":"^4.1.1","coveralls":"^2.11.2","form-data":"^1.0.0-rc1","istanbul":"^0.3.5","mocha":"^2.1.0","parted":"^0.1.1","promise":"^6.1.0","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11"},"main":"index.js","dist":{"shasum":"880228be75fd207a8a9baa2042ead437e6edaf84","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.3.3.tgz"},"gitHead":"fd3f89fcd94e5bcee31de4cbca4c15cd79999b07","_from":".","_npmVersion":"2.11.1","_nodeVersion":"2.3.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}]},"1.4.0":{"_id":"node-fetch@1.4.0","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.4.0","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^3.3.4","chai":"^3.5.0","chai-as-promised":"^5.2.0","coveralls":"^2.11.2","form-data":"^1.0.0-rc1","istanbul":"^0.4.2","mocha":"^2.1.0","parted":"^0.1.1","promise":"^7.1.1","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11","is-stream":"^1.0.1"},"main":"index.js","dist":{"shasum":"5c9f574ee1239838d8eb888a8f38ec4590903357","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.4.0.tgz"},"gitHead":"2dd4ee583867dabc0102b4391a7aa343fd366be2","_from":".","_npmVersion":"3.7.3","_nodeVersion":"5.9.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}],"_npmOperationalInternal":{"host":"packages-13-west.internal.npmjs.com","tmp":"tmp/node-fetch-1.4.0.tgz_1458385366564_0.6444221257697791"}},"1.4.1":{"_id":"node-fetch@1.4.1","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.4.1","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^3.3.4","chai":"^3.5.0","chai-as-promised":"^5.2.0","coveralls":"^2.11.2","form-data":"^1.0.0-rc1","istanbul":"^0.4.2","mocha":"^2.1.0","parted":"^0.1.1","promise":"^7.1.1","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11","is-stream":"^1.0.1"},"main":"index.js","dist":{"shasum":"f50a3a98a586c434e9a63984c97127eb33c09145","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.4.1.tgz"},"gitHead":"98b167c35d4465bdff1c5760ad9676142e3eefc6","_from":".","_npmVersion":"3.7.3","_nodeVersion":"5.9.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/node-fetch-1.4.1.tgz_1458718398432_0.22000137832947075"}},"1.5.0":{"_id":"node-fetch@1.5.0","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.5.0","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^3.3.4","chai":"^3.5.0","chai-as-promised":"^5.2.0","coveralls":"^2.11.2","form-data":"^1.0.0-rc1","istanbul":"^0.4.2","mocha":"^2.1.0","parted":"^0.1.1","promise":"^7.1.1","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11","is-stream":"^1.0.1"},"main":"index.js","dist":{"shasum":"c1b82cda9579aa57ee05b838278183c6e997f642","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.5.0.tgz"},"gitHead":"321d80075062a8bfaf917d9b562e748624325da0","_from":".","_npmVersion":"3.7.3","_nodeVersion":"5.9.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/node-fetch-1.5.0.tgz_1459883125410_0.07301584328524768"}},"1.5.1":{"_id":"node-fetch@1.5.1","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.5.1","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^3.3.4","chai":"^3.5.0","chai-as-promised":"^5.2.0","coveralls":"^2.11.2","form-data":"^1.0.0-rc1","istanbul":"^0.4.2","mocha":"^2.1.0","parted":"^0.1.1","promise":"^7.1.1","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11","is-stream":"^1.0.1"},"main":"index.js","dist":{"shasum":"edc64350cc0bca48a5f79e038c1f7c5ff0869fef","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.5.1.tgz"},"gitHead":"3f24c09005fe5c7e42c64c19a0ff57a8d0c43710","_from":".","_npmVersion":"3.7.3","_nodeVersion":"5.9.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/node-fetch-1.5.1.tgz_1460487536401_0.19198199780657887"}},"1.5.2":{"_id":"node-fetch@1.5.2","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.5.2","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^3.3.4","chai":"^3.5.0","chai-as-promised":"^5.2.0","coveralls":"^2.11.2","form-data":"^1.0.0-rc1","istanbul":"^0.4.2","mocha":"^2.1.0","parted":"^0.1.1","promise":"^7.1.1","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11","is-stream":"^1.0.1"},"main":"index.js","dist":{"shasum":"7dfd59492766cafb6af198b8e954468497a44727","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.5.2.tgz"},"gitHead":"e1fcc2315acd9bcb211ca6c0b1e7218093289763","_from":".","_npmVersion":"3.7.3","_nodeVersion":"5.9.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/node-fetch-1.5.2.tgz_1462536779216_0.9876336704473943"}},"1.5.3":{"_id":"node-fetch@1.5.3","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.5.3","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^3.3.4","chai":"^3.5.0","chai-as-promised":"^5.2.0","coveralls":"^2.11.2","form-data":"^1.0.0-rc1","istanbul":"^0.4.2","mocha":"^2.1.0","parted":"^0.1.1","promise":"^7.1.1","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11","is-stream":"^1.0.1"},"main":"index.js","dist":{"shasum":"f28d8b95ca8d45b433745dd319361e36402baef0","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.5.3.tgz"},"gitHead":"b46c5ea9ee6692676a2824334e24f9d3b95d3b78","_from":".","_npmVersion":"3.7.3","_nodeVersion":"5.9.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/node-fetch-1.5.3.tgz_1464202483131_0.3381968201138079"}},"1.6.0":{"_id":"node-fetch@1.6.0","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.6.0","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^3.3.4","chai":"^3.5.0","chai-as-promised":"^5.2.0","coveralls":"^2.11.2","form-data":"^1.0.0-rc1","istanbul":"^0.4.2","mocha":"^2.1.0","parted":"^0.1.1","promise":"^7.1.1","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11","is-stream":"^1.0.1"},"main":"index.js","dist":{"shasum":"00ccd811c657aee9e2f0d79fd2256fbcffd733a2","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.6.0.tgz"},"gitHead":"4e455a4185da81abf814ccdb9c9e789691f7a349","_from":".","_npmVersion":"3.7.3","_nodeVersion":"5.9.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/node-fetch-1.6.0.tgz_1470219032038_0.3425547960214317"}},"1.6.1":{"_id":"node-fetch@1.6.1","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.6.1","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^3.3.4","chai":"^3.5.0","chai-as-promised":"^5.2.0","coveralls":"^2.11.2","form-data":"^1.0.0-rc1","istanbul":"^0.4.2","mocha":"^2.1.0","parted":"^0.1.1","promise":"^7.1.1","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11","is-stream":"^1.0.1"},"main":"index.js","dist":{"shasum":"2ac748594cc82610da9a7a32c530777dcfcb51ff","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.6.1.tgz"},"gitHead":"3e53f0c2c86078808508aa2ca11094bb45570548","_from":".","_npmVersion":"3.10.3","_nodeVersion":"6.3.1","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/node-fetch-1.6.1.tgz_1473608280483_0.7950712053570896"}},"1.6.2":{"_id":"node-fetch@1.6.2","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.6.2","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^3.3.4","chai":"^3.5.0","chai-as-promised":"^5.2.0","coveralls":"^2.11.2","form-data":"^1.0.0-rc1","istanbul":"^0.4.2","mocha":"^2.1.0","parted":"^0.1.1","promise":"^7.1.1","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11","is-stream":"^1.0.1"},"main":"index.js","dist":{"shasum":"6a605f52c6b77ce28ce24f131b97e73fe2ea9fa0","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.6.2.tgz"},"gitHead":"b2e6cca648bb5da176b6f4ab39dca6a33e992567","_from":".","_npmVersion":"3.10.3","_nodeVersion":"6.3.1","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/node-fetch-1.6.2.tgz_1474710825909_0.8582186447456479"}},"1.6.3":{"_id":"node-fetch@1.6.3","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.6.3","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && cat ./coverage/lcov.info | coveralls"},"directories":{},"devDependencies":{"bluebird":"^3.3.4","chai":"^3.5.0","chai-as-promised":"^5.2.0","coveralls":"^2.11.2","form-data":">=1.0.0","istanbul":"^0.4.2","mocha":"^2.1.0","parted":"^0.1.1","promise":"^7.1.1","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11","is-stream":"^1.0.1"},"main":"index.js","dist":{"shasum":"dc234edd6489982d58e8f0db4f695029abcd8c04","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.6.3.tgz"},"gitHead":"3c053ce32760d2d5d6cb8712fb4115b44e4083d4","_from":".","_npmVersion":"3.10.3","_nodeVersion":"6.3.1","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/node-fetch-1.6.3.tgz_1474870810431_0.44125940511003137"}},"1.7.0":{"_id":"node-fetch@1.7.0","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.7.0","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && codecov"},"directories":{},"devDependencies":{"bluebird":"^3.3.4","chai":"^3.5.0","chai-as-promised":"^5.2.0","codecov":"^1.0.1","form-data":">=1.0.0","istanbul":"^0.4.2","mocha":"^2.1.0","parted":"^0.1.1","promise":"^7.1.1","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11","is-stream":"^1.0.1"},"main":"index.js","dist":{"shasum":"3ff6c56544f9b7fb00682338bb55ee6f54a8a0ef","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.7.0.tgz"},"gitHead":"cf71a1bc8badaebf0243748f66a719fe5e32cfdc","_from":".","_npmVersion":"4.2.0","_nodeVersion":"7.10.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch-1.7.0.tgz_1495527871673_0.4224355819169432"}},"1.7.1":{"_id":"node-fetch@1.7.1","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.7.1","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && codecov"},"directories":{},"devDependencies":{"bluebird":"^3.3.4","chai":"^3.5.0","chai-as-promised":"^5.2.0","codecov":"^1.0.1","form-data":">=1.0.0","istanbul":"^0.4.2","mocha":"^2.1.0","parted":"^0.1.1","promise":"^7.1.1","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11","is-stream":"^1.0.1"},"main":"index.js","dist":{"shasum":"899cb3d0a3c92f952c47f1b876f4c8aeabd400d5","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.7.1.tgz"},"gitHead":"4bb15ce988bf614a2b1b72da1d6545b09ca6b4c6","_npmVersion":"5.0.1","_nodeVersion":"8.0.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch-1.7.1.tgz_1496493897766_0.25435457238927484"}},"1.7.2":{"_id":"node-fetch@1.7.2","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.7.2","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && codecov"},"directories":{},"devDependencies":{"bluebird":"^3.3.4","chai":"^3.5.0","chai-as-promised":"^5.2.0","codecov":"^1.0.1","form-data":">=1.0.0","istanbul":"^0.4.2","mocha":"^2.1.0","parted":"^0.1.1","promise":"^7.1.1","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11","is-stream":"^1.0.1"},"main":"index.js","dist":{"shasum":"c54e9aac57e432875233525f3c891c4159ffefd7","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.7.2.tgz"},"gitHead":"3c9b64caf5c84f96052078f18d91c9e12bd5f5c6","_npmVersion":"5.3.0","_nodeVersion":"8.2.1","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch-1.7.2.tgz_1502191381219_0.664517188211903"}},"1.7.3":{"_id":"node-fetch@1.7.3","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js and io.js","version":"1.7.3","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha test/test.js","report":"istanbul cover _mocha -- -R spec test/test.js","coverage":"istanbul cover _mocha --report lcovonly -- -R spec test/test.js && codecov"},"directories":{},"devDependencies":{"bluebird":"^3.3.4","chai":"^3.5.0","chai-as-promised":"^5.2.0","codecov":"^1.0.1","form-data":">=1.0.0","istanbul":"^0.4.2","mocha":"^2.1.0","parted":"^0.1.1","promise":"^7.1.1","resumer":"0.0.0"},"dependencies":{"encoding":"^0.1.11","is-stream":"^1.0.1"},"main":"index.js","dist":{"shasum":"980f6f72d85211a5347c6b2bc18c5b84c3eb47ef","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-1.7.3.tgz"},"gitHead":"16f33bf76f06afb58307a652ceb48f597e48a095","_npmVersion":"5.3.0","_nodeVersion":"8.2.1","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch-1.7.3.tgz_1504852098188_0.7899843158666044"}},"2.0.0-alpha.1":{"_id":"node-fetch@2.0.0-alpha.1","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.0.0-alpha.1","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepublish":"npm run build","test":"cross-env BABEL_ENV=test mocha --compilers js:babel-register test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"babel-plugin-istanbul":"^3.0.0","babel-plugin-transform-runtime":"^6.15.0","babel-preset-es2015":"^6.16.0","babel-register":"^6.16.3","bluebird":"^3.3.4","chai":"^3.5.0","chai-as-promised":"^6.0.0","chai-iterator":"^1.1.1","chai-string":"^1.3.0","codecov":"^1.0.1","cross-env":"2.0.1","form-data":">=1.0.0","is-builtin-module":"^1.0.0","mocha":"^3.1.2","nyc":"^10.0.0","parted":"^0.1.1","promise":"^7.1.1","resumer":"0.0.0","rollup":"^0.37.0","rollup-plugin-babel":"^2.6.1","rollup-plugin-node-resolve":"^2.0.0","whatwg-url":"^4.0.0"},"dependencies":{"babel-runtime":"^6.11.6","buffer-to-arraybuffer":"0.0.4","encoding":"^0.1.11","is-stream":"^1.0.1"},"files":["lib/index.js","lib/index.es.js"],"main":"lib/index.js","dist":{"shasum":"28499a933f19adcf3ecf8b9fa39a6c79202d1072","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.0.0-alpha.1.tgz"},"jsnext:main":"lib/index.es.js","gitHead":"908f661664e51fd847a5f69eb31724bbf2b3724b","_from":".","_npmVersion":"4.1.1","_nodeVersion":"7.3.0","_npmUser":{"name":"timothygu","email":"timothygu99@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/node-fetch-2.0.0-alpha.1.tgz_1484458641973_0.14498046622611582"}},"2.0.0-alpha.3":{"_id":"node-fetch@2.0.0-alpha.3","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.0.0-alpha.3","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepublish":"npm run build","test":"cross-env BABEL_ENV=test mocha --compilers js:babel-register test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"babel-plugin-istanbul":"^3.0.0","babel-plugin-transform-runtime":"^6.15.0","babel-preset-env":"^1.1.8","babel-register":"^6.16.3","bluebird":"^3.3.4","chai":"^3.5.0","chai-as-promised":"^6.0.0","chai-iterator":"^1.1.1","chai-string":"^1.3.0","codecov":"^1.0.1","cross-env":"2.0.1","form-data":">=1.0.0","is-builtin-module":"^1.0.0","mocha":"^3.1.2","nyc":"^10.0.0","parted":"^0.1.1","promise":"^7.1.1","resumer":"0.0.0","rollup":"^0.37.0","rollup-plugin-babel":"^2.6.1","rollup-plugin-node-resolve":"^2.0.0","whatwg-url":"^4.0.0"},"dependencies":{"babel-runtime":"^6.11.6","buffer-to-arraybuffer":"0.0.4","encoding":"^0.1.11","is-stream":"^1.0.1"},"files":["lib/index.js","lib/index.es.js"],"main":"lib/index.js","dist":{"shasum":"8031bded671c806e4604c16b27ab1973b4fe88cc","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.0.0-alpha.3.tgz"},"module":"lib/index.es.js","gitHead":"560d5d6a023f069c37497f633fe65955182fa3d5","_from":".","_npmVersion":"4.1.2","_nodeVersion":"7.4.0","_npmUser":{"name":"timothygu","email":"timothygu99@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/node-fetch-2.0.0-alpha.3.tgz_1485714967416_0.2058272489812225"}},"2.0.0-alpha.4":{"_id":"node-fetch@2.0.0-alpha.4","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.0.0-alpha.4","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepublish":"npm run build","test":"cross-env BABEL_ENV=test mocha --compilers js:babel-register test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"babel-plugin-istanbul":"^4.0.0","babel-preset-env":"^1.1.10","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^6.0.0","chai-iterator":"^1.1.1","chai-string":"^1.3.0","codecov":"^1.0.1","cross-env":"^3.1.4","form-data":">=1.0.0","is-builtin-module":"^1.0.0","mocha":"^3.1.2","nyc":"^10.0.0","parted":"^0.1.1","promise":"^7.1.1","resumer":"0.0.0","rollup":"^0.41.4","rollup-plugin-babel":"^2.6.1","whatwg-url":"^4.0.0"},"dependencies":{"encoding":"^0.1.11"},"engines":{"node":">=4"},"files":["lib/index.js","lib/index.es.js"],"main":"lib/index.js","dist":{"shasum":"ae3fe092fef710a7e565e68d5fcccefabad674b6","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.0.0-alpha.4.tgz"},"browser":"./browser.js","module":"lib/index.es.js","gitHead":"9cea8719eb4c2de70ec1d423398ebc38d3f8b8ab","_from":".","_npmVersion":"4.2.0","_nodeVersion":"7.10.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/node-fetch-2.0.0-alpha.4.tgz_1494850616065_0.33211735682561994"}},"2.0.0-alpha.5":{"_id":"node-fetch@2.0.0-alpha.5","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.0.0-alpha.5","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --compilers js:babel-register test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"babel-plugin-istanbul":"^4.0.0","babel-preset-env":"^1.1.10","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^6.0.0","chai-iterator":"^1.1.1","chai-string":"^1.3.0","codecov":"^1.0.1","cross-env":"^3.1.4","form-data":">=1.0.0","is-builtin-module":"^1.0.0","mocha":"^3.1.2","nyc":"^10.0.0","parted":"^0.1.1","promise":"^7.1.1","resumer":"0.0.0","rollup":"^0.41.4","rollup-plugin-babel":"^2.6.1","whatwg-url":"^4.0.0"},"dependencies":{"encoding":"^0.1.11"},"engines":{"node":">=4"},"files":["lib/index.js","lib/index.es.js"],"main":"lib/index.js","dist":{"shasum":"efe2816af7107bafd3d3cabd0f24deca4b408b64","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.0.0-alpha.5.tgz"},"browser":"./browser.js","module":"lib/index.es.js","gitHead":"fa58aa0ab152293066ea912d4abdaa877d72eb16","_npmVersion":"5.0.1","_nodeVersion":"8.0.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch-2.0.0-alpha.5.tgz_1496495125929_0.37553365412168205"}},"2.0.0-alpha.6":{"_id":"node-fetch@2.0.0-alpha.6","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.0.0-alpha.6","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --compilers js:babel-register test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"babel-plugin-istanbul":"^4.0.0","babel-preset-env":"^1.1.10","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^6.0.0","chai-iterator":"^1.1.1","chai-string":"^1.3.0","codecov":"^1.0.1","cross-env":"^3.1.4","form-data":">=1.0.0","is-builtin-module":"^1.0.0","mocha":"^3.1.2","nyc":"^10.0.0","parted":"^0.1.1","promise":"^7.1.1","resumer":"0.0.0","rollup":"^0.41.4","rollup-plugin-babel":"^2.6.1","url-search-params":"^0.9.0","whatwg-url":"^4.0.0"},"dependencies":{},"engines":{"node":">=4"},"files":["lib/index.js","lib/index.es.js"],"main":"lib/index.js","dist":{"shasum":"2fafa63b4a248f8d6b67a239fc16299a35641161","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.0.0-alpha.6.tgz"},"browser":"./browser.js","module":"lib/index.es.js","gitHead":"2b359c1ea161edf5778490b9303a40ee11fef7ea","_from":".","_npmVersion":"3.8.6","_nodeVersion":"5.12.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch-2.0.0-alpha.6.tgz_1500660271436_0.007863717619329691"}},"2.0.0-alpha.7":{"_id":"node-fetch@2.0.0-alpha.7","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.0.0-alpha.7","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --compilers js:babel-register test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"babel-plugin-istanbul":"^4.0.0","babel-preset-env":"^1.1.10","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^6.0.0","chai-iterator":"^1.1.1","chai-string":"^1.3.0","codecov":"^1.0.1","cross-env":"^3.1.4","form-data":">=1.0.0","is-builtin-module":"^1.0.0","mocha":"^3.1.2","nyc":"^10.0.0","parted":"^0.1.1","promise":"^7.1.1","resumer":"0.0.0","rollup":"^0.41.4","rollup-plugin-babel":"^2.6.1","url-search-params":"^0.9.0","whatwg-url":"^4.0.0"},"dependencies":{},"engines":{"node":"4.x || >=6.0.0"},"files":["lib/index.js","lib/index.es.js"],"main":"lib/index.js","dist":{"shasum":"78f61fc78c55a86674f071237a3f73de5ba4138b","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.0.0-alpha.7.tgz"},"browser":"./browser.js","module":"lib/index.es.js","gitHead":"2edb4c026667e5c8e7c808a3973bd94d193b2d0f","_npmVersion":"5.3.0","_nodeVersion":"8.2.1","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch-2.0.0-alpha.7.tgz_1500955861406_0.3457566825672984"}},"2.0.0-alpha.8":{"_id":"node-fetch@2.0.0-alpha.8","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.0.0-alpha.8","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --compilers js:babel-register test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"babel-plugin-istanbul":"^4.0.0","babel-preset-env":"^1.1.10","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^6.0.0","chai-iterator":"^1.1.1","chai-string":"^1.3.0","codecov":"^1.0.1","cross-env":"^3.1.4","form-data":">=1.0.0","mocha":"^3.1.2","nyc":"^10.0.0","parted":"^0.1.1","promise":"^7.1.1","resumer":"0.0.0","rollup":"^0.41.4","rollup-plugin-babel":"^2.6.1","url-search-params":"^0.9.0","whatwg-url":"^4.0.0"},"dependencies":{},"engines":{"node":"4.x || >=6.0.0"},"files":["lib/index.js","lib/index.es.js"],"main":"lib/index.js","dist":{"shasum":"f586cf6730ce30431c7d4528ce561d81add8ba90","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.0.0-alpha.8.tgz"},"browser":"./browser.js","module":"lib/index.es.js","gitHead":"863449de2e5b14c128503dd1c425d5e0fd24d267","_npmVersion":"5.3.0","_nodeVersion":"8.2.1","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch-2.0.0-alpha.8.tgz_1501089111834_0.10333641874603927"}},"2.0.0-alpha.9":{"_id":"node-fetch@2.0.0-alpha.9","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.0.0-alpha.9","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --compilers js:babel-register test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"babel-plugin-istanbul":"^4.0.0","babel-preset-env":"^1.1.10","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"^1.3.0","codecov":"^2.2.0","cross-env":"^5.0.1","form-data":">=1.0.0","mocha":"^3.1.2","nyc":"^11.1.0","parted":"^0.1.1","promise":"^8.0.1","resumer":"0.0.0","rollup":"^0.45.2","rollup-plugin-babel":"^2.6.1","url-search-params":"^0.9.0","whatwg-url":"^5.0.0"},"dependencies":{},"engines":{"node":"4.x || >=6.0.0"},"files":["lib/index.js","lib/index.es.js","browser.js"],"main":"lib/index.js","dist":{"shasum":"990c0634f510f76449a0d6f6eaec96b22f273628","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.0.0-alpha.9.tgz"},"browser":"./browser.js","module":"lib/index.es.js","gitHead":"d1a3b1ee34720b0d2674a21741264a888863cb3f","_npmVersion":"5.3.0","_nodeVersion":"8.2.1","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch-2.0.0-alpha.9.tgz_1506232062978_0.9201480248011649"}},"2.0.0":{"_id":"node-fetch@2.0.0","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.0.0","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --compilers js:babel-register test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"babel-core":"^6.26.0","babel-plugin-istanbul":"^4.1.5","babel-preset-env":"^1.6.1","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"^1.3.0","codecov":"^3.0.0","cross-env":"^5.1.3","form-data":"^2.3.1","mocha":"^5.0.0","nyc":"^11.4.1","parted":"^0.1.1","promise":"^8.0.1","resumer":"0.0.0","rollup":"^0.55.1","rollup-plugin-babel":"^3.0.3","url-search-params":"^0.10.0","whatwg-url":"^5.0.0"},"dependencies":{},"engines":{"node":"4.x || >=6.0.0"},"files":["lib/index.js","lib/index.es.js","browser.js"],"main":"lib/index.js","dist":{"shasum":"982bba43ecd4f2922a29cc186a6bbb0bb73fcba6","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.0.0.tgz"},"browser":"./browser.js","module":"lib/index.es.js","licenseText":"The MIT License (MIT)\n\nCopyright (c) 2016 David Frank\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n","maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmUser":{"name":"timothygu","email":"timothygu99@gmail.com"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch-2.0.0.tgz_1517690064671_0.487887607421726"}},"2.1.0":{"_id":"node-fetch@2.1.0","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.1.0","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --compilers js:babel-register test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"babel-core":"^6.26.0","babel-plugin-istanbul":"^4.1.5","babel-preset-env":"^1.6.1","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"^1.3.0","codecov":"^3.0.0","cross-env":"^5.1.3","form-data":"^2.3.1","mocha":"^5.0.0","nyc":"^11.4.1","parted":"^0.1.1","promise":"^8.0.1","resumer":"0.0.0","rollup":"^0.55.1","rollup-plugin-babel":"^3.0.3","string-to-arraybuffer":"^1.0.0","url-search-params":"^0.10.0","whatwg-url":"^5.0.0"},"dependencies":{},"engines":{"node":"4.x || >=6.0.0"},"files":["lib/index.js","lib/index.es.js","browser.js"],"main":"lib/index.js","dist":{"shasum":"9d96dde9fe1fcef6e4081226ba496b8d5950b647","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.1.0.tgz"},"browser":"./browser.js","module":"lib/index.es.js","licenseText":"The MIT License (MIT)\n\nCopyright (c) 2016 David Frank\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n","maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmUser":{"name":"timothygu","email":"timothygu99@gmail.com"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_2.1.0_1520224872510_0.5133806259710896"},"_hasShrinkwrap":false},"2.1.1":{"_id":"node-fetch@2.1.1","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.1.1","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --compilers js:babel-register test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"babel-core":"^6.26.0","babel-plugin-istanbul":"^4.1.5","babel-preset-env":"^1.6.1","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"^1.3.0","codecov":"^3.0.0","cross-env":"^5.1.3","form-data":"^2.3.1","mocha":"^5.0.0","nyc":"^11.4.1","parted":"^0.1.1","promise":"^8.0.1","resumer":"0.0.0","rollup":"^0.55.1","rollup-plugin-babel":"^3.0.3","string-to-arraybuffer":"^1.0.0","url-search-params":"^0.10.0","whatwg-url":"^5.0.0"},"dependencies":{},"engines":{"node":"4.x || >=6.0.0"},"files":["lib/index.js","lib/index.es.js","browser.js"],"main":"lib/index.js","dist":{"shasum":"369ca70b82f50c86496104a6c776d274f4e4a2d4","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.1.1.tgz"},"browser":"./browser.js","module":"lib/index.es.js","licenseText":"The MIT License (MIT)\n\nCopyright (c) 2016 David Frank\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n","maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmUser":{"name":"timothygu","email":"timothygu99@gmail.com"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_2.1.1_1520225048881_0.16817806000341773"},"_hasShrinkwrap":false},"2.1.2":{"_id":"node-fetch@2.1.2","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.1.2","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --compilers js:babel-register test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"babel-core":"^6.26.0","babel-plugin-istanbul":"^4.1.5","babel-preset-env":"^1.6.1","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"^1.3.0","codecov":"^3.0.0","cross-env":"^5.1.3","form-data":"^2.3.1","mocha":"^5.0.0","nyc":"^11.4.1","parted":"^0.1.1","promise":"^8.0.1","resumer":"0.0.0","rollup":"^0.55.1","rollup-plugin-babel":"^3.0.3","string-to-arraybuffer":"^1.0.0","url-search-params":"^0.10.0","whatwg-url":"^5.0.0"},"dependencies":{},"engines":{"node":"4.x || >=6.0.0"},"files":["lib/index.js","lib/index.es.js","browser.js"],"main":"lib/index.js","dist":{"shasum":"ab884e8e7e57e38a944753cec706f788d1768bb5","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.1.2.tgz"},"browser":"./browser.js","module":"lib/index.es.js","licenseText":"The MIT License (MIT)\n\nCopyright (c) 2016 David Frank\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n","maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmUser":{"name":"timothygu","email":"timothygu99@gmail.com"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_2.1.2_1522011300411_0.9473331736799258"},"_hasShrinkwrap":false},"2.2.0":{"_id":"node-fetch@2.2.0","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.2.0","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --require babel-register test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"babel-core":"^6.26.0","babel-plugin-istanbul":"^4.1.5","babel-preset-env":"^1.6.1","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"^1.3.0","codecov":"^3.0.0","cross-env":"^5.1.3","form-data":"^2.3.1","is-builtin-module":"^1.0.0","mocha":"^5.0.0","nyc":"11.9.0","parted":"^0.1.1","promise":"^8.0.1","resumer":"0.0.0","rollup":"^0.63.4","rollup-plugin-babel":"^3.0.3","string-to-arraybuffer":"^1.0.0","url-search-params":"^1.0.2","whatwg-url":"^5.0.0"},"dependencies":{},"engines":{"node":"4.x || >=6.0.0"},"files":["lib/index.js","lib/index.mjs","lib/index.es.js","browser.js"],"main":"lib/index","dist":{"shasum":"4ee79bde909262f9775f731e3656d0db55ced5b5","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.2.0.tgz"},"browser":"./browser.js","module":"lib/index.mjs","gitHead":"09ef40e8a883344a38f8ebddc58ff0ac129a415c","_npmVersion":"6.1.0","_nodeVersion":"10.5.0","_npmUser":{"name":"timothygu","email":"timothygu99@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_2.2.0_1532295125636_0.31629715469618946"},"_hasShrinkwrap":false},"2.2.1":{"_id":"node-fetch@2.2.1","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.2.1","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --require babel-register test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"babel-core":"^6.26.0","babel-plugin-istanbul":"^4.1.5","babel-preset-env":"^1.6.1","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"~1.3.0","codecov":"^3.0.0","cross-env":"^5.1.3","form-data":"^2.3.1","is-builtin-module":"^1.0.0","mocha":"^5.0.0","nyc":"11.9.0","parted":"^0.1.1","promise":"^8.0.1","resumer":"0.0.0","rollup":"^0.63.4","rollup-plugin-babel":"^3.0.3","string-to-arraybuffer":"^1.0.0","url-search-params":"^1.0.2","whatwg-url":"^5.0.0"},"dependencies":{},"engines":{"node":"4.x || >=6.0.0"},"main":"lib/index","dist":{"shasum":"1fe551e0ded6c45b3b3b937d0fb46f76df718d1e","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.2.1.tgz"},"browser":"./browser.js","module":"lib/index.mjs","gitHead":"ac07bf751c93fa86f87f01c924ddbd8c76b84966","_npmVersion":"6.4.1","_nodeVersion":"10.11.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_2.2.1_1541411081386_0.6507879255509943"},"_hasShrinkwrap":false},"2.3.0":{"_id":"node-fetch@2.3.0","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.3.0","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --require babel-register test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"abort-controller":"^1.0.2","abortcontroller-polyfill":"^1.1.9","babel-core":"^6.26.0","babel-plugin-istanbul":"^4.1.5","babel-preset-env":"^1.6.1","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"~1.3.0","codecov":"^3.0.0","cross-env":"^5.1.3","form-data":"^2.3.1","is-builtin-module":"^1.0.0","mocha":"^5.0.0","nyc":"11.9.0","parted":"^0.1.1","promise":"^8.0.1","resumer":"0.0.0","rollup":"^0.63.4","rollup-plugin-babel":"^3.0.3","string-to-arraybuffer":"^1.0.0","url-search-params":"^1.0.2","whatwg-url":"^5.0.0"},"dependencies":{},"engines":{"node":"4.x || >=6.0.0"},"main":"lib/index","dist":{"shasum":"1a1d940bbfb916a1d3e0219f037e89e71f8c5fa5","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.3.0.tgz"},"browser":"./browser.js","module":"lib/index.mjs","gitHead":"5367fe6a978e01745e4264384a91140dc99a4bf8","_npmVersion":"6.4.1","_nodeVersion":"10.11.0","_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_2.3.0_1542091315995_0.7896717463160674"},"_hasShrinkwrap":false},"2.4.0":{"_id":"node-fetch@2.4.0","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.4.0","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --require babel-register test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"abort-controller":"^1.1.0","abortcontroller-polyfill":"^1.3.0","babel-core":"^6.26.3","babel-plugin-istanbul":"^4.1.6","babel-preset-env":"^1.6.1","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"~1.3.0","codecov":"^3.3.0","cross-env":"^5.2.0","form-data":"^2.3.3","is-builtin-module":"^1.0.0","mocha":"^5.0.0","nyc":"11.9.0","parted":"^0.1.1","promise":"^8.0.3","resumer":"0.0.0","rollup":"^0.63.4","rollup-plugin-babel":"^3.0.7","string-to-arraybuffer":"^1.0.2","url-search-params":"^1.0.2","whatwg-url":"^5.0.0"},"dependencies":{},"engines":{"node":"4.x || >=6.0.0"},"main":"lib/index","dist":{"shasum":"125ae2b0c2a75cb3b2ed141bf73e106cfe1f0ca8","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.4.0.tgz"},"browser":"./browser.js","module":"lib/index.mjs","gitHead":"c9805a2868bb0896be126acefdc2c11c4c586bf9","_nodeVersion":"12.0.0","_npmVersion":"6.9.0","maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_2.4.0_1556299460716_0.9054885680028364"},"_hasShrinkwrap":false},"2.4.1":{"_id":"node-fetch@2.4.1","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.4.1","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --require babel-register test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"abort-controller":"^1.1.0","abortcontroller-polyfill":"^1.3.0","babel-core":"^6.26.3","babel-plugin-istanbul":"^4.1.6","babel-preset-env":"^1.6.1","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"~1.3.0","codecov":"^3.3.0","cross-env":"^5.2.0","form-data":"^2.3.3","is-builtin-module":"^1.0.0","mocha":"^5.0.0","nyc":"11.9.0","parted":"^0.1.1","promise":"^8.0.3","resumer":"0.0.0","rollup":"^0.63.4","rollup-plugin-babel":"^3.0.7","string-to-arraybuffer":"^1.0.2","url-search-params":"^1.0.2","whatwg-url":"^5.0.0"},"dependencies":{},"engines":{"node":"4.x || >=6.0.0"},"main":"lib/index","dist":{"shasum":"b2e38f1117b8acbedbe0524f041fb3177188255d","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.4.1.tgz"},"browser":"./browser.js","module":"lib/index.mjs","gitHead":"b3ecba5e81016390eec57718636122459cc33a94","_nodeVersion":"12.0.0","_npmVersion":"6.9.0","maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_2.4.1_1556348861860_0.709170139396043"},"_hasShrinkwrap":false},"2.5.0":{"_id":"node-fetch@2.5.0","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.5.0","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --require babel-register --throw-deprecation test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"@ungap/url-search-params":"^0.1.2","abort-controller":"^1.1.0","abortcontroller-polyfill":"^1.3.0","babel-core":"^6.26.3","babel-plugin-istanbul":"^4.1.6","babel-preset-env":"^1.6.1","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"~1.3.0","codecov":"^3.3.0","cross-env":"^5.2.0","form-data":"^2.3.3","is-builtin-module":"^1.0.0","mocha":"^5.0.0","nyc":"11.9.0","parted":"^0.1.1","promise":"^8.0.3","resumer":"0.0.0","rollup":"^0.63.4","rollup-plugin-babel":"^3.0.7","string-to-arraybuffer":"^1.0.2","whatwg-url":"^5.0.0"},"dependencies":{},"engines":{"node":"4.x || >=6.0.0"},"main":"lib/index","dist":{"shasum":"8028c49fc1191bba56a07adc6e2a954644a48501","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.5.0.tgz"},"browser":"./browser.js","module":"lib/index.mjs","gitHead":"0c2294ec48fa5b84519f8bdd60f4e2672ebd9b06","_nodeVersion":"12.0.0","_npmVersion":"6.9.0","maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_2.5.0_1556687287265_0.5189085772983091"},"_hasShrinkwrap":false},"2.6.0":{"_id":"node-fetch@2.6.0","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.6.0","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --require babel-register --throw-deprecation test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"@ungap/url-search-params":"^0.1.2","abort-controller":"^1.1.0","abortcontroller-polyfill":"^1.3.0","babel-core":"^6.26.3","babel-plugin-istanbul":"^4.1.6","babel-preset-env":"^1.6.1","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"~1.3.0","codecov":"^3.3.0","cross-env":"^5.2.0","form-data":"^2.3.3","is-builtin-module":"^1.0.0","mocha":"^5.0.0","nyc":"11.9.0","parted":"^0.1.1","promise":"^8.0.3","resumer":"0.0.0","rollup":"^0.63.4","rollup-plugin-babel":"^3.0.7","string-to-arraybuffer":"^1.0.2","whatwg-url":"^5.0.0"},"dependencies":{},"engines":{"node":"4.x || >=6.0.0"},"main":"lib/index","dist":{"shasum":"e633456386d4aa55863f676a7ab0daa8fdecb0fd","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.6.0.tgz"},"browser":"./browser.js","module":"lib/index.mjs","gitHead":"95286f52bb866283bc69521a04efe1de37b26a33","_nodeVersion":"12.0.0","_npmVersion":"6.9.0","maintainers":[{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"}],"_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_2.6.0_1557988780767_0.1012615293164354"},"_hasShrinkwrap":false},"2.6.1":{"_id":"node-fetch@2.6.1","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.6.1","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank","email":"","url":""},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --require babel-register --throw-deprecation test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":null,"devDependencies":{"@ungap/url-search-params":"^0.1.2","abort-controller":"^1.1.0","abortcontroller-polyfill":"^1.3.0","babel-core":"^6.26.3","babel-plugin-istanbul":"^4.1.6","babel-preset-env":"^1.6.1","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"~1.3.0","codecov":"^3.3.0","cross-env":"^5.2.0","form-data":"^2.3.3","is-builtin-module":"^1.0.0","mocha":"^5.0.0","nyc":"11.9.0","parted":"^0.1.1","promise":"^8.0.3","resumer":"0.0.0","rollup":"^0.63.4","rollup-plugin-babel":"^3.0.7","string-to-arraybuffer":"^1.0.2","whatwg-url":"^5.0.0"},"dependencies":{},"engines":{"node":"4.x || >=6.0.0"},"files":["lib/index.js","lib/index.mjs","lib/index.es.js","browser.js"],"main":"lib/index","dist":{"shasum":"045bd323631f76ed2e2b55573394416b639a0052","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.6.1.tgz"},"browser":"./browser.js","module":"lib/index.mjs"},"2.6.2":{"_id":"node-fetch@2.6.2","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.6.2","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --require babel-register --throw-deprecation test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"@ungap/url-search-params":"^0.1.2","abort-controller":"^1.1.0","abortcontroller-polyfill":"^1.3.0","babel-core":"^6.26.3","babel-plugin-istanbul":"^4.1.6","babel-preset-env":"^1.6.1","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"~1.3.0","codecov":"3.3.0","cross-env":"^5.2.0","form-data":"^2.3.3","is-builtin-module":"^1.0.0","mocha":"^5.0.0","nyc":"11.9.0","parted":"^0.1.1","promise":"^8.0.3","resumer":"0.0.0","rollup":"^0.63.4","rollup-plugin-babel":"^3.0.7","string-to-arraybuffer":"^1.0.2","teeny-request":"3.7.0","whatwg-url":"^5.0.0"},"engines":{"node":"4.x || >=6.0.0"},"main":"lib/index.js","dist":{"shasum":"986996818b73785e47b1965cc34eb093a1d464d0","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.6.2.tgz"},"browser":"./browser.js","module":"lib/index.mjs","gitHead":"152214ca2f6e2a5a17d71e4638114625d3be30c6","_nodeVersion":"16.8.0","_npmVersion":"7.21.0","_npmUser":{"name":"endless","email":"jimmy@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_2.6.2_1630933530982_0.15843731399275662"},"_hasShrinkwrap":false},"2.6.3":{"_id":"node-fetch@2.6.3","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.6.3","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --require babel-register --throw-deprecation test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"@ungap/url-search-params":"^0.1.2","abort-controller":"^1.1.0","abortcontroller-polyfill":"^1.3.0","babel-core":"^6.26.3","babel-plugin-istanbul":"^4.1.6","babel-preset-env":"^1.6.1","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"~1.3.0","codecov":"3.3.0","cross-env":"^5.2.0","form-data":"^2.3.3","is-builtin-module":"^1.0.0","mocha":"^5.0.0","nyc":"11.9.0","parted":"^0.1.1","promise":"^8.0.3","resumer":"0.0.0","rollup":"^0.63.4","rollup-plugin-babel":"^3.0.7","string-to-arraybuffer":"^1.0.2","teeny-request":"3.7.0"},"dependencies":{"whatwg-url":"^5.0.0"},"engines":{"node":"4.x || >=6.0.0"},"main":"lib/index.js","dist":{"shasum":"57b29b34400e9c52346cbfb575cf3d10f7a49e92","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.6.3.tgz"},"readme":"node-fetch\n==========\n\n[![npm version][npm-image]][npm-url]\n[![build status][travis-image]][travis-url]\n[![coverage status][codecov-image]][codecov-url]\n[![install size][install-size-image]][install-size-url]\n[![Discord][discord-image]][discord-url]\n\nA light-weight module that brings `window.fetch` to Node.js\n\n(We are looking for [v2 maintainers and collaborators](https://github.com/bitinn/node-fetch/issues/567))\n\n[![Backers][opencollective-image]][opencollective-url]\n\n<!-- TOC -->\n\n- [Motivation](#motivation)\n- [Features](#features)\n- [Difference from client-side fetch](#difference-from-client-side-fetch)\n- [Installation](#installation)\n- [Loading and configuring the module](#loading-and-configuring-the-module)\n- [Common Usage](#common-usage)\n    - [Plain text or HTML](#plain-text-or-html)\n    - [JSON](#json)\n    - [Simple Post](#simple-post)\n    - [Post with JSON](#post-with-json)\n    - [Post with form parameters](#post-with-form-parameters)\n    - [Handling exceptions](#handling-exceptions)\n    - [Handling client and server errors](#handling-client-and-server-errors)\n- [Advanced Usage](#advanced-usage)\n    - [Streams](#streams)\n    - [Buffer](#buffer)\n    - [Accessing Headers and other Meta data](#accessing-headers-and-other-meta-data)\n    - [Extract Set-Cookie Header](#extract-set-cookie-header)\n    - [Post data using a file stream](#post-data-using-a-file-stream)\n    - [Post with form-data (detect multipart)](#post-with-form-data-detect-multipart)\n    - [Request cancellation with AbortSignal](#request-cancellation-with-abortsignal)\n- [API](#api)\n    - [fetch(url[, options])](#fetchurl-options)\n    - [Options](#options)\n    - [Class: Request](#class-request)\n    - [Class: Response](#class-response)\n    - [Class: Headers](#class-headers)\n    - [Interface: Body](#interface-body)\n    - [Class: FetchError](#class-fetcherror)\n- [License](#license)\n- [Acknowledgement](#acknowledgement)\n\n<!-- /TOC -->\n\n## Motivation\n\nInstead of implementing `XMLHttpRequest` in Node.js to run browser-specific [Fetch polyfill](https://github.com/github/fetch), why not go from native `http` to `fetch` API directly? Hence, `node-fetch`, minimal code for a `window.fetch` compatible API on Node.js runtime.\n\nSee Matt Andrews' [isomorphic-fetch](https://github.com/matthew-andrews/isomorphic-fetch) or Leonardo Quixada's [cross-fetch](https://github.com/lquixada/cross-fetch) for isomorphic usage (exports `node-fetch` for server-side, `whatwg-fetch` for client-side).\n\n## Features\n\n- Stay consistent with `window.fetch` API.\n- Make conscious trade-off when following [WHATWG fetch spec][whatwg-fetch] and [stream spec](https://streams.spec.whatwg.org/) implementation details, document known differences.\n- Use native promise but allow substituting it with [insert your favorite promise library].\n- Use native Node streams for body on both request and response.\n- Decode content encoding (gzip/deflate) properly and convert string output (such as `res.text()` and `res.json()`) to UTF-8 automatically.\n- Useful extensions such as timeout, redirect limit, response size limit, [explicit errors](ERROR-HANDLING.md) for troubleshooting.\n\n## Difference from client-side fetch\n\n- See [Known Differences](LIMITS.md) for details.\n- If you happen to use a missing feature that `window.fetch` offers, feel free to open an issue.\n- Pull requests are welcomed too!\n\n## Installation\n\nCurrent stable release (`2.x`)\n\n```sh\n$ npm install node-fetch\n```\n\n## Loading and configuring the module\nWe suggest you load the module via `require` until the stabilization of ES modules in node:\n```js\nconst fetch = require('node-fetch');\n```\n\nIf you are using a Promise library other than native, set it through `fetch.Promise`:\n```js\nconst Bluebird = require('bluebird');\n\nfetch.Promise = Bluebird;\n```\n\n## Common Usage\n\nNOTE: The documentation below is up-to-date with `2.x` releases; see the [`1.x` readme](https://github.com/bitinn/node-fetch/blob/1.x/README.md), [changelog](https://github.com/bitinn/node-fetch/blob/1.x/CHANGELOG.md) and [2.x upgrade guide](UPGRADE-GUIDE.md) for the differences.\n\n#### Plain text or HTML\n```js\nfetch('https://github.com/')\n    .then(res => res.text())\n    .then(body => console.log(body));\n```\n\n#### JSON\n\n```js\n\nfetch('https://api.github.com/users/github')\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Simple Post\n```js\nfetch('https://httpbin.org/post', { method: 'POST', body: 'a=1' })\n    .then(res => res.json()) // expecting a json response\n    .then(json => console.log(json));\n```\n\n#### Post with JSON\n\n```js\nconst body = { a: 1 };\n\nfetch('https://httpbin.org/post', {\n        method: 'post',\n        body:    JSON.stringify(body),\n        headers: { 'Content-Type': 'application/json' },\n    })\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Post with form parameters\n`URLSearchParams` is available in Node.js as of v7.5.0. See [official documentation](https://nodejs.org/api/url.html#url_class_urlsearchparams) for more usage methods.\n\nNOTE: The `Content-Type` header is only set automatically to `x-www-form-urlencoded` when an instance of `URLSearchParams` is given as such:\n\n```js\nconst { URLSearchParams } = require('url');\n\nconst params = new URLSearchParams();\nparams.append('a', 1);\n\nfetch('https://httpbin.org/post', { method: 'POST', body: params })\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Handling exceptions\nNOTE: 3xx-5xx responses are *NOT* exceptions and should be handled in `then()`; see the next section for more information.\n\nAdding a catch to the fetch promise chain will catch *all* exceptions, such as errors originating from node core libraries, network errors and operational errors, which are instances of FetchError. See the [error handling document](ERROR-HANDLING.md)  for more details.\n\n```js\nfetch('https://domain.invalid/')\n    .catch(err => console.error(err));\n```\n\n#### Handling client and server errors\nIt is common to create a helper function to check that the response contains no client (4xx) or server (5xx) error responses:\n\n```js\nfunction checkStatus(res) {\n    if (res.ok) { // res.status >= 200 && res.status < 300\n        return res;\n    } else {\n        throw MyCustomError(res.statusText);\n    }\n}\n\nfetch('https://httpbin.org/status/400')\n    .then(checkStatus)\n    .then(res => console.log('will not get here...'))\n```\n\n## Advanced Usage\n\n#### Streams\nThe \"Node.js way\" is to use streams when possible:\n\n```js\nfetch('https://assets-cdn.github.com/images/modules/logos_page/Octocat.png')\n    .then(res => {\n        const dest = fs.createWriteStream('./octocat.png');\n        res.body.pipe(dest);\n    });\n```\n\n#### Buffer\nIf you prefer to cache binary data in full, use buffer(). (NOTE: `buffer()` is a `node-fetch`-only API)\n\n```js\nconst fileType = require('file-type');\n\nfetch('https://assets-cdn.github.com/images/modules/logos_page/Octocat.png')\n    .then(res => res.buffer())\n    .then(buffer => fileType(buffer))\n    .then(type => { /* ... */ });\n```\n\n#### Accessing Headers and other Meta data\n```js\nfetch('https://github.com/')\n    .then(res => {\n        console.log(res.ok);\n        console.log(res.status);\n        console.log(res.statusText);\n        console.log(res.headers.raw());\n        console.log(res.headers.get('content-type'));\n    });\n```\n\n#### Extract Set-Cookie Header\n\nUnlike browsers, you can access raw `Set-Cookie` headers manually using `Headers.raw()`. This is a `node-fetch` only API.\n\n```js\nfetch(url).then(res => {\n    // returns an array of values, instead of a string of comma-separated values\n    console.log(res.headers.raw()['set-cookie']);\n});\n```\n\n#### Post data using a file stream\n\n```js\nconst { createReadStream } = require('fs');\n\nconst stream = createReadStream('input.txt');\n\nfetch('https://httpbin.org/post', { method: 'POST', body: stream })\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Post with form-data (detect multipart)\n\n```js\nconst FormData = require('form-data');\n\nconst form = new FormData();\nform.append('a', 1);\n\nfetch('https://httpbin.org/post', { method: 'POST', body: form })\n    .then(res => res.json())\n    .then(json => console.log(json));\n\n// OR, using custom headers\n// NOTE: getHeaders() is non-standard API\n\nconst form = new FormData();\nform.append('a', 1);\n\nconst options = {\n    method: 'POST',\n    body: form,\n    headers: form.getHeaders()\n}\n\nfetch('https://httpbin.org/post', options)\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Request cancellation with AbortSignal\n\n> NOTE: You may cancel streamed requests only on Node >= v8.0.0\n\nYou may cancel requests with `AbortController`. A suggested implementation is [`abort-controller`](https://www.npmjs.com/package/abort-controller).\n\nAn example of timing out a request after 150ms could be achieved as the following:\n\n```js\nimport AbortController from 'abort-controller';\n\nconst controller = new AbortController();\nconst timeout = setTimeout(\n  () => { controller.abort(); },\n  150,\n);\n\nfetch(url, { signal: controller.signal })\n  .then(res => res.json())\n  .then(\n    data => {\n      useData(data)\n    },\n    err => {\n      if (err.name === 'AbortError') {\n        // request was aborted\n      }\n    },\n  )\n  .finally(() => {\n    clearTimeout(timeout);\n  });\n```\n\nSee [test cases](https://github.com/bitinn/node-fetch/blob/master/test/test.js) for more examples.\n\n\n## API\n\n### fetch(url[, options])\n\n- `url` A string representing the URL for fetching\n- `options` [Options](#fetch-options) for the HTTP(S) request\n- Returns: <code>Promise&lt;[Response](#class-response)&gt;</code>\n\nPerform an HTTP(S) fetch.\n\n`url` should be an absolute url, such as `https://example.com/`. A path-relative URL (`/file/under/root`) or protocol-relative URL (`//can-be-http-or-https.com/`) will result in a rejected `Promise`.\n\n<a id=\"fetch-options\"></a>\n### Options\n\nThe default values are shown after each option key.\n\n```js\n{\n    // These properties are part of the Fetch Standard\n    method: 'GET',\n    headers: {},        // request headers. format is the identical to that accepted by the Headers constructor (see below)\n    body: null,         // request body. can be null, a string, a Buffer, a Blob, or a Node.js Readable stream\n    redirect: 'follow', // set to `manual` to extract redirect headers, `error` to reject redirect\n    signal: null,       // pass an instance of AbortSignal to optionally abort requests\n\n    // The following properties are node-fetch extensions\n    follow: 20,         // maximum redirect count. 0 to not follow redirect\n    timeout: 0,         // req/res timeout in ms, it resets on redirect. 0 to disable (OS limit applies). Signal is recommended instead.\n    compress: true,     // support gzip/deflate content encoding. false to disable\n    size: 0,            // maximum response body size in bytes. 0 to disable\n    agent: null         // http(s).Agent instance or function that returns an instance (see below)\n}\n```\n\n##### Default Headers\n\nIf no values are set, the following request headers will be sent automatically:\n\nHeader              | Value\n------------------- | --------------------------------------------------------\n`Accept-Encoding`   | `gzip,deflate` _(when `options.compress === true`)_\n`Accept`            | `*/*`\n`Connection`        | `close` _(when no `options.agent` is present)_\n`Content-Length`    | _(automatically calculated, if possible)_\n`Transfer-Encoding` | `chunked` _(when `req.body` is a stream)_\n`User-Agent`        | `node-fetch/1.0 (+https://github.com/bitinn/node-fetch)`\n\nNote: when `body` is a `Stream`, `Content-Length` is not set automatically.\n\n##### Custom Agent\n\nThe `agent` option allows you to specify networking related options which are out of the scope of Fetch, including and not limited to the following:\n\n- Support self-signed certificate\n- Use only IPv4 or IPv6\n- Custom DNS Lookup\n\nSee [`http.Agent`](https://nodejs.org/api/http.html#http_new_agent_options) for more information.\n\nIn addition, the `agent` option accepts a function that returns `http`(s)`.Agent` instance given current [URL](https://nodejs.org/api/url.html), this is useful during a redirection chain across HTTP and HTTPS protocol.\n\n```js\nconst httpAgent = new http.Agent({\n    keepAlive: true\n});\nconst httpsAgent = new https.Agent({\n    keepAlive: true\n});\n\nconst options = {\n    agent: function (_parsedURL) {\n        if (_parsedURL.protocol == 'http:') {\n            return httpAgent;\n        } else {\n            return httpsAgent;\n        }\n    }\n}\n```\n\n<a id=\"class-request\"></a>\n### Class: Request\n\nAn HTTP(S) request containing information about URL, method, headers, and the body. This class implements the [Body](#iface-body) interface.\n\nDue to the nature of Node.js, the following properties are not implemented at this moment:\n\n- `type`\n- `destination`\n- `referrer`\n- `referrerPolicy`\n- `mode`\n- `credentials`\n- `cache`\n- `integrity`\n- `keepalive`\n\nThe following node-fetch extension properties are provided:\n\n- `follow`\n- `compress`\n- `counter`\n- `agent`\n\nSee [options](#fetch-options) for exact meaning of these extensions.\n\n#### new Request(input[, options])\n\n<small>*(spec-compliant)*</small>\n\n- `input` A string representing a URL, or another `Request` (which will be cloned)\n- `options` [Options][#fetch-options] for the HTTP(S) request\n\nConstructs a new `Request` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Request/Request).\n\nIn most cases, directly `fetch(url, options)` is simpler than creating a `Request` object.\n\n<a id=\"class-response\"></a>\n### Class: Response\n\nAn HTTP(S) response. This class implements the [Body](#iface-body) interface.\n\nThe following properties are not implemented in node-fetch at this moment:\n\n- `Response.error()`\n- `Response.redirect()`\n- `type`\n- `trailer`\n\n#### new Response([body[, options]])\n\n<small>*(spec-compliant)*</small>\n\n- `body` A `String` or [`Readable` stream][node-readable]\n- `options` A [`ResponseInit`][response-init] options dictionary\n\nConstructs a new `Response` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Response/Response).\n\nBecause Node.js does not implement service workers (for which this class was designed), one rarely has to construct a `Response` directly.\n\n#### response.ok\n\n<small>*(spec-compliant)*</small>\n\nConvenience property representing if the request ended normally. Will evaluate to true if the response status was greater than or equal to 200 but smaller than 300.\n\n#### response.redirected\n\n<small>*(spec-compliant)*</small>\n\nConvenience property representing if the request has been redirected at least once. Will evaluate to true if the internal redirect counter is greater than 0.\n\n<a id=\"class-headers\"></a>\n### Class: Headers\n\nThis class allows manipulating and iterating over a set of HTTP headers. All methods specified in the [Fetch Standard][whatwg-fetch] are implemented.\n\n#### new Headers([init])\n\n<small>*(spec-compliant)*</small>\n\n- `init` Optional argument to pre-fill the `Headers` object\n\nConstruct a new `Headers` object. `init` can be either `null`, a `Headers` object, an key-value map object or any iterable object.\n\n```js\n// Example adapted from https://fetch.spec.whatwg.org/#example-headers-class\n\nconst meta = {\n  'Content-Type': 'text/xml',\n  'Breaking-Bad': '<3'\n};\nconst headers = new Headers(meta);\n\n// The above is equivalent to\nconst meta = [\n  [ 'Content-Type', 'text/xml' ],\n  [ 'Breaking-Bad', '<3' ]\n];\nconst headers = new Headers(meta);\n\n// You can in fact use any iterable objects, like a Map or even another Headers\nconst meta = new Map();\nmeta.set('Content-Type', 'text/xml');\nmeta.set('Breaking-Bad', '<3');\nconst headers = new Headers(meta);\nconst copyOfHeaders = new Headers(headers);\n```\n\n<a id=\"iface-body\"></a>\n### Interface: Body\n\n`Body` is an abstract interface with methods that are applicable to both `Request` and `Response` classes.\n\nThe following methods are not yet implemented in node-fetch at this moment:\n\n- `formData()`\n\n#### body.body\n\n<small>*(deviation from spec)*</small>\n\n* Node.js [`Readable` stream][node-readable]\n\nData are encapsulated in the `Body` object. Note that while the [Fetch Standard][whatwg-fetch] requires the property to always be a WHATWG `ReadableStream`, in node-fetch it is a Node.js [`Readable` stream][node-readable].\n\n#### body.bodyUsed\n\n<small>*(spec-compliant)*</small>\n\n* `Boolean`\n\nA boolean property for if this body has been consumed. Per the specs, a consumed body cannot be used again.\n\n#### body.arrayBuffer()\n#### body.blob()\n#### body.json()\n#### body.text()\n\n<small>*(spec-compliant)*</small>\n\n* Returns: <code>Promise</code>\n\nConsume the body and return a promise that will resolve to one of these formats.\n\n#### body.buffer()\n\n<small>*(node-fetch extension)*</small>\n\n* Returns: <code>Promise&lt;Buffer&gt;</code>\n\nConsume the body and return a promise that will resolve to a Buffer.\n\n#### body.textConverted()\n\n<small>*(node-fetch extension)*</small>\n\n* Returns: <code>Promise&lt;String&gt;</code>\n\nIdentical to `body.text()`, except instead of always converting to UTF-8, encoding sniffing will be performed and text converted to UTF-8 if possible.\n\n(This API requires an optional dependency of the npm package [encoding](https://www.npmjs.com/package/encoding), which you need to install manually. `webpack` users may see [a warning message](https://github.com/bitinn/node-fetch/issues/412#issuecomment-379007792) due to this optional dependency.)\n\n<a id=\"class-fetcherror\"></a>\n### Class: FetchError\n\n<small>*(node-fetch extension)*</small>\n\nAn operational error in the fetching process. See [ERROR-HANDLING.md][] for more info.\n\n<a id=\"class-aborterror\"></a>\n### Class: AbortError\n\n<small>*(node-fetch extension)*</small>\n\nAn Error thrown when the request is aborted in response to an `AbortSignal`'s `abort` event. It has a `name` property of `AbortError`. See [ERROR-HANDLING.MD][] for more info.\n\n## Acknowledgement\n\nThanks to [github/fetch](https://github.com/github/fetch) for providing a solid implementation reference.\n\n`node-fetch` v1 was maintained by [@bitinn](https://github.com/bitinn); v2 was maintained by [@TimothyGu](https://github.com/timothygu), [@bitinn](https://github.com/bitinn) and [@jimmywarting](https://github.com/jimmywarting); v2 readme is written by [@jkantr](https://github.com/jkantr).\n\n## License\n\nMIT\n\n[npm-image]: https://flat.badgen.net/npm/v/node-fetch\n[npm-url]: https://www.npmjs.com/package/node-fetch\n[travis-image]: https://flat.badgen.net/travis/bitinn/node-fetch\n[travis-url]: https://travis-ci.org/bitinn/node-fetch\n[codecov-image]: https://flat.badgen.net/codecov/c/github/bitinn/node-fetch/master\n[codecov-url]: https://codecov.io/gh/bitinn/node-fetch\n[install-size-image]: https://flat.badgen.net/packagephobia/install/node-fetch\n[install-size-url]: https://packagephobia.now.sh/result?p=node-fetch\n[discord-image]: https://img.shields.io/discord/619915844268326952?color=%237289DA&label=Discord&style=flat-square\n[discord-url]: https://discord.gg/Zxbndcm\n[opencollective-image]: https://opencollective.com/node-fetch/backers.svg\n[opencollective-url]: https://opencollective.com/node-fetch\n[whatwg-fetch]: https://fetch.spec.whatwg.org/\n[response-init]: https://fetch.spec.whatwg.org/#responseinit\n[node-readable]: https://nodejs.org/api/stream.html#stream_readable_streams\n[mdn-headers]: https://developer.mozilla.org/en-US/docs/Web/API/Headers\n[LIMITS.md]: https://github.com/bitinn/node-fetch/blob/master/LIMITS.md\n[ERROR-HANDLING.md]: https://github.com/bitinn/node-fetch/blob/master/ERROR-HANDLING.md\n[UPGRADE-GUIDE.md]: https://github.com/bitinn/node-fetch/blob/master/UPGRADE-GUIDE.md\n","browser":"./browser.js","module":"lib/index.mjs","readmeFilename":"README.md","gitHead":"ace7536c955556be742d9910566738630cc3c2a6","_nodeVersion":"16.8.0","_npmVersion":"7.21.0","_npmUser":{"name":"endless","email":"jimmy@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_2.6.3_1632174774376_0.8151645552950857"},"_hasShrinkwrap":false},"2.6.4":{"_id":"node-fetch@2.6.4","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.6.4","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --require babel-register --throw-deprecation test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"@ungap/url-search-params":"^0.1.2","abort-controller":"^1.1.0","abortcontroller-polyfill":"^1.3.0","babel-core":"^6.26.3","babel-plugin-istanbul":"^4.1.6","babel-preset-env":"^1.6.1","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"~1.3.0","codecov":"3.3.0","cross-env":"^5.2.0","form-data":"^2.3.3","is-builtin-module":"^1.0.0","mocha":"^5.0.0","nyc":"11.9.0","parted":"^0.1.1","promise":"^8.0.3","resumer":"0.0.0","rollup":"^0.63.4","rollup-plugin-babel":"^3.0.7","string-to-arraybuffer":"^1.0.2","teeny-request":"3.7.0"},"dependencies":{"whatwg-url":"^5.0.0"},"engines":{"node":"4.x || >=6.0.0"},"main":"lib/index.js","dist":{"shasum":"7f1d13b8f9ff0c1a994dc6f73c69f7d652c7ace2","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.6.4.tgz"},"readme":"node-fetch\n==========\n\n[![npm version][npm-image]][npm-url]\n[![build status][travis-image]][travis-url]\n[![coverage status][codecov-image]][codecov-url]\n[![install size][install-size-image]][install-size-url]\n[![Discord][discord-image]][discord-url]\n\nA light-weight module that brings `window.fetch` to Node.js\n\n(We are looking for [v2 maintainers and collaborators](https://github.com/bitinn/node-fetch/issues/567))\n\n[![Backers][opencollective-image]][opencollective-url]\n\n<!-- TOC -->\n\n- [Motivation](#motivation)\n- [Features](#features)\n- [Difference from client-side fetch](#difference-from-client-side-fetch)\n- [Installation](#installation)\n- [Loading and configuring the module](#loading-and-configuring-the-module)\n- [Common Usage](#common-usage)\n    - [Plain text or HTML](#plain-text-or-html)\n    - [JSON](#json)\n    - [Simple Post](#simple-post)\n    - [Post with JSON](#post-with-json)\n    - [Post with form parameters](#post-with-form-parameters)\n    - [Handling exceptions](#handling-exceptions)\n    - [Handling client and server errors](#handling-client-and-server-errors)\n- [Advanced Usage](#advanced-usage)\n    - [Streams](#streams)\n    - [Buffer](#buffer)\n    - [Accessing Headers and other Meta data](#accessing-headers-and-other-meta-data)\n    - [Extract Set-Cookie Header](#extract-set-cookie-header)\n    - [Post data using a file stream](#post-data-using-a-file-stream)\n    - [Post with form-data (detect multipart)](#post-with-form-data-detect-multipart)\n    - [Request cancellation with AbortSignal](#request-cancellation-with-abortsignal)\n- [API](#api)\n    - [fetch(url[, options])](#fetchurl-options)\n    - [Options](#options)\n    - [Class: Request](#class-request)\n    - [Class: Response](#class-response)\n    - [Class: Headers](#class-headers)\n    - [Interface: Body](#interface-body)\n    - [Class: FetchError](#class-fetcherror)\n- [License](#license)\n- [Acknowledgement](#acknowledgement)\n\n<!-- /TOC -->\n\n## Motivation\n\nInstead of implementing `XMLHttpRequest` in Node.js to run browser-specific [Fetch polyfill](https://github.com/github/fetch), why not go from native `http` to `fetch` API directly? Hence, `node-fetch`, minimal code for a `window.fetch` compatible API on Node.js runtime.\n\nSee Matt Andrews' [isomorphic-fetch](https://github.com/matthew-andrews/isomorphic-fetch) or Leonardo Quixada's [cross-fetch](https://github.com/lquixada/cross-fetch) for isomorphic usage (exports `node-fetch` for server-side, `whatwg-fetch` for client-side).\n\n## Features\n\n- Stay consistent with `window.fetch` API.\n- Make conscious trade-off when following [WHATWG fetch spec][whatwg-fetch] and [stream spec](https://streams.spec.whatwg.org/) implementation details, document known differences.\n- Use native promise but allow substituting it with [insert your favorite promise library].\n- Use native Node streams for body on both request and response.\n- Decode content encoding (gzip/deflate) properly and convert string output (such as `res.text()` and `res.json()`) to UTF-8 automatically.\n- Useful extensions such as timeout, redirect limit, response size limit, [explicit errors](ERROR-HANDLING.md) for troubleshooting.\n\n## Difference from client-side fetch\n\n- See [Known Differences](LIMITS.md) for details.\n- If you happen to use a missing feature that `window.fetch` offers, feel free to open an issue.\n- Pull requests are welcomed too!\n\n## Installation\n\nCurrent stable release (`2.x`)\n\n```sh\n$ npm install node-fetch\n```\n\n## Loading and configuring the module\nWe suggest you load the module via `require` until the stabilization of ES modules in node:\n```js\nconst fetch = require('node-fetch');\n```\n\nIf you are using a Promise library other than native, set it through `fetch.Promise`:\n```js\nconst Bluebird = require('bluebird');\n\nfetch.Promise = Bluebird;\n```\n\n## Common Usage\n\nNOTE: The documentation below is up-to-date with `2.x` releases; see the [`1.x` readme](https://github.com/bitinn/node-fetch/blob/1.x/README.md), [changelog](https://github.com/bitinn/node-fetch/blob/1.x/CHANGELOG.md) and [2.x upgrade guide](UPGRADE-GUIDE.md) for the differences.\n\n#### Plain text or HTML\n```js\nfetch('https://github.com/')\n    .then(res => res.text())\n    .then(body => console.log(body));\n```\n\n#### JSON\n\n```js\n\nfetch('https://api.github.com/users/github')\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Simple Post\n```js\nfetch('https://httpbin.org/post', { method: 'POST', body: 'a=1' })\n    .then(res => res.json()) // expecting a json response\n    .then(json => console.log(json));\n```\n\n#### Post with JSON\n\n```js\nconst body = { a: 1 };\n\nfetch('https://httpbin.org/post', {\n        method: 'post',\n        body:    JSON.stringify(body),\n        headers: { 'Content-Type': 'application/json' },\n    })\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Post with form parameters\n`URLSearchParams` is available in Node.js as of v7.5.0. See [official documentation](https://nodejs.org/api/url.html#url_class_urlsearchparams) for more usage methods.\n\nNOTE: The `Content-Type` header is only set automatically to `x-www-form-urlencoded` when an instance of `URLSearchParams` is given as such:\n\n```js\nconst { URLSearchParams } = require('url');\n\nconst params = new URLSearchParams();\nparams.append('a', 1);\n\nfetch('https://httpbin.org/post', { method: 'POST', body: params })\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Handling exceptions\nNOTE: 3xx-5xx responses are *NOT* exceptions and should be handled in `then()`; see the next section for more information.\n\nAdding a catch to the fetch promise chain will catch *all* exceptions, such as errors originating from node core libraries, network errors and operational errors, which are instances of FetchError. See the [error handling document](ERROR-HANDLING.md)  for more details.\n\n```js\nfetch('https://domain.invalid/')\n    .catch(err => console.error(err));\n```\n\n#### Handling client and server errors\nIt is common to create a helper function to check that the response contains no client (4xx) or server (5xx) error responses:\n\n```js\nfunction checkStatus(res) {\n    if (res.ok) { // res.status >= 200 && res.status < 300\n        return res;\n    } else {\n        throw MyCustomError(res.statusText);\n    }\n}\n\nfetch('https://httpbin.org/status/400')\n    .then(checkStatus)\n    .then(res => console.log('will not get here...'))\n```\n\n## Advanced Usage\n\n#### Streams\nThe \"Node.js way\" is to use streams when possible:\n\n```js\nfetch('https://assets-cdn.github.com/images/modules/logos_page/Octocat.png')\n    .then(res => {\n        const dest = fs.createWriteStream('./octocat.png');\n        res.body.pipe(dest);\n    });\n```\n\n#### Buffer\nIf you prefer to cache binary data in full, use buffer(). (NOTE: `buffer()` is a `node-fetch`-only API)\n\n```js\nconst fileType = require('file-type');\n\nfetch('https://assets-cdn.github.com/images/modules/logos_page/Octocat.png')\n    .then(res => res.buffer())\n    .then(buffer => fileType(buffer))\n    .then(type => { /* ... */ });\n```\n\n#### Accessing Headers and other Meta data\n```js\nfetch('https://github.com/')\n    .then(res => {\n        console.log(res.ok);\n        console.log(res.status);\n        console.log(res.statusText);\n        console.log(res.headers.raw());\n        console.log(res.headers.get('content-type'));\n    });\n```\n\n#### Extract Set-Cookie Header\n\nUnlike browsers, you can access raw `Set-Cookie` headers manually using `Headers.raw()`. This is a `node-fetch` only API.\n\n```js\nfetch(url).then(res => {\n    // returns an array of values, instead of a string of comma-separated values\n    console.log(res.headers.raw()['set-cookie']);\n});\n```\n\n#### Post data using a file stream\n\n```js\nconst { createReadStream } = require('fs');\n\nconst stream = createReadStream('input.txt');\n\nfetch('https://httpbin.org/post', { method: 'POST', body: stream })\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Post with form-data (detect multipart)\n\n```js\nconst FormData = require('form-data');\n\nconst form = new FormData();\nform.append('a', 1);\n\nfetch('https://httpbin.org/post', { method: 'POST', body: form })\n    .then(res => res.json())\n    .then(json => console.log(json));\n\n// OR, using custom headers\n// NOTE: getHeaders() is non-standard API\n\nconst form = new FormData();\nform.append('a', 1);\n\nconst options = {\n    method: 'POST',\n    body: form,\n    headers: form.getHeaders()\n}\n\nfetch('https://httpbin.org/post', options)\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Request cancellation with AbortSignal\n\n> NOTE: You may cancel streamed requests only on Node >= v8.0.0\n\nYou may cancel requests with `AbortController`. A suggested implementation is [`abort-controller`](https://www.npmjs.com/package/abort-controller).\n\nAn example of timing out a request after 150ms could be achieved as the following:\n\n```js\nimport AbortController from 'abort-controller';\n\nconst controller = new AbortController();\nconst timeout = setTimeout(\n  () => { controller.abort(); },\n  150,\n);\n\nfetch(url, { signal: controller.signal })\n  .then(res => res.json())\n  .then(\n    data => {\n      useData(data)\n    },\n    err => {\n      if (err.name === 'AbortError') {\n        // request was aborted\n      }\n    },\n  )\n  .finally(() => {\n    clearTimeout(timeout);\n  });\n```\n\nSee [test cases](https://github.com/bitinn/node-fetch/blob/master/test/test.js) for more examples.\n\n\n## API\n\n### fetch(url[, options])\n\n- `url` A string representing the URL for fetching\n- `options` [Options](#fetch-options) for the HTTP(S) request\n- Returns: <code>Promise&lt;[Response](#class-response)&gt;</code>\n\nPerform an HTTP(S) fetch.\n\n`url` should be an absolute url, such as `https://example.com/`. A path-relative URL (`/file/under/root`) or protocol-relative URL (`//can-be-http-or-https.com/`) will result in a rejected `Promise`.\n\n<a id=\"fetch-options\"></a>\n### Options\n\nThe default values are shown after each option key.\n\n```js\n{\n    // These properties are part of the Fetch Standard\n    method: 'GET',\n    headers: {},        // request headers. format is the identical to that accepted by the Headers constructor (see below)\n    body: null,         // request body. can be null, a string, a Buffer, a Blob, or a Node.js Readable stream\n    redirect: 'follow', // set to `manual` to extract redirect headers, `error` to reject redirect\n    signal: null,       // pass an instance of AbortSignal to optionally abort requests\n\n    // The following properties are node-fetch extensions\n    follow: 20,         // maximum redirect count. 0 to not follow redirect\n    timeout: 0,         // req/res timeout in ms, it resets on redirect. 0 to disable (OS limit applies). Signal is recommended instead.\n    compress: true,     // support gzip/deflate content encoding. false to disable\n    size: 0,            // maximum response body size in bytes. 0 to disable\n    agent: null         // http(s).Agent instance or function that returns an instance (see below)\n}\n```\n\n##### Default Headers\n\nIf no values are set, the following request headers will be sent automatically:\n\nHeader              | Value\n------------------- | --------------------------------------------------------\n`Accept-Encoding`   | `gzip,deflate` _(when `options.compress === true`)_\n`Accept`            | `*/*`\n`Connection`        | `close` _(when no `options.agent` is present)_\n`Content-Length`    | _(automatically calculated, if possible)_\n`Transfer-Encoding` | `chunked` _(when `req.body` is a stream)_\n`User-Agent`        | `node-fetch/1.0 (+https://github.com/bitinn/node-fetch)`\n\nNote: when `body` is a `Stream`, `Content-Length` is not set automatically.\n\n##### Custom Agent\n\nThe `agent` option allows you to specify networking related options which are out of the scope of Fetch, including and not limited to the following:\n\n- Support self-signed certificate\n- Use only IPv4 or IPv6\n- Custom DNS Lookup\n\nSee [`http.Agent`](https://nodejs.org/api/http.html#http_new_agent_options) for more information.\n\nIn addition, the `agent` option accepts a function that returns `http`(s)`.Agent` instance given current [URL](https://nodejs.org/api/url.html), this is useful during a redirection chain across HTTP and HTTPS protocol.\n\n```js\nconst httpAgent = new http.Agent({\n    keepAlive: true\n});\nconst httpsAgent = new https.Agent({\n    keepAlive: true\n});\n\nconst options = {\n    agent: function (_parsedURL) {\n        if (_parsedURL.protocol == 'http:') {\n            return httpAgent;\n        } else {\n            return httpsAgent;\n        }\n    }\n}\n```\n\n<a id=\"class-request\"></a>\n### Class: Request\n\nAn HTTP(S) request containing information about URL, method, headers, and the body. This class implements the [Body](#iface-body) interface.\n\nDue to the nature of Node.js, the following properties are not implemented at this moment:\n\n- `type`\n- `destination`\n- `referrer`\n- `referrerPolicy`\n- `mode`\n- `credentials`\n- `cache`\n- `integrity`\n- `keepalive`\n\nThe following node-fetch extension properties are provided:\n\n- `follow`\n- `compress`\n- `counter`\n- `agent`\n\nSee [options](#fetch-options) for exact meaning of these extensions.\n\n#### new Request(input[, options])\n\n<small>*(spec-compliant)*</small>\n\n- `input` A string representing a URL, or another `Request` (which will be cloned)\n- `options` [Options][#fetch-options] for the HTTP(S) request\n\nConstructs a new `Request` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Request/Request).\n\nIn most cases, directly `fetch(url, options)` is simpler than creating a `Request` object.\n\n<a id=\"class-response\"></a>\n### Class: Response\n\nAn HTTP(S) response. This class implements the [Body](#iface-body) interface.\n\nThe following properties are not implemented in node-fetch at this moment:\n\n- `Response.error()`\n- `Response.redirect()`\n- `type`\n- `trailer`\n\n#### new Response([body[, options]])\n\n<small>*(spec-compliant)*</small>\n\n- `body` A `String` or [`Readable` stream][node-readable]\n- `options` A [`ResponseInit`][response-init] options dictionary\n\nConstructs a new `Response` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Response/Response).\n\nBecause Node.js does not implement service workers (for which this class was designed), one rarely has to construct a `Response` directly.\n\n#### response.ok\n\n<small>*(spec-compliant)*</small>\n\nConvenience property representing if the request ended normally. Will evaluate to true if the response status was greater than or equal to 200 but smaller than 300.\n\n#### response.redirected\n\n<small>*(spec-compliant)*</small>\n\nConvenience property representing if the request has been redirected at least once. Will evaluate to true if the internal redirect counter is greater than 0.\n\n<a id=\"class-headers\"></a>\n### Class: Headers\n\nThis class allows manipulating and iterating over a set of HTTP headers. All methods specified in the [Fetch Standard][whatwg-fetch] are implemented.\n\n#### new Headers([init])\n\n<small>*(spec-compliant)*</small>\n\n- `init` Optional argument to pre-fill the `Headers` object\n\nConstruct a new `Headers` object. `init` can be either `null`, a `Headers` object, an key-value map object or any iterable object.\n\n```js\n// Example adapted from https://fetch.spec.whatwg.org/#example-headers-class\n\nconst meta = {\n  'Content-Type': 'text/xml',\n  'Breaking-Bad': '<3'\n};\nconst headers = new Headers(meta);\n\n// The above is equivalent to\nconst meta = [\n  [ 'Content-Type', 'text/xml' ],\n  [ 'Breaking-Bad', '<3' ]\n];\nconst headers = new Headers(meta);\n\n// You can in fact use any iterable objects, like a Map or even another Headers\nconst meta = new Map();\nmeta.set('Content-Type', 'text/xml');\nmeta.set('Breaking-Bad', '<3');\nconst headers = new Headers(meta);\nconst copyOfHeaders = new Headers(headers);\n```\n\n<a id=\"iface-body\"></a>\n### Interface: Body\n\n`Body` is an abstract interface with methods that are applicable to both `Request` and `Response` classes.\n\nThe following methods are not yet implemented in node-fetch at this moment:\n\n- `formData()`\n\n#### body.body\n\n<small>*(deviation from spec)*</small>\n\n* Node.js [`Readable` stream][node-readable]\n\nData are encapsulated in the `Body` object. Note that while the [Fetch Standard][whatwg-fetch] requires the property to always be a WHATWG `ReadableStream`, in node-fetch it is a Node.js [`Readable` stream][node-readable].\n\n#### body.bodyUsed\n\n<small>*(spec-compliant)*</small>\n\n* `Boolean`\n\nA boolean property for if this body has been consumed. Per the specs, a consumed body cannot be used again.\n\n#### body.arrayBuffer()\n#### body.blob()\n#### body.json()\n#### body.text()\n\n<small>*(spec-compliant)*</small>\n\n* Returns: <code>Promise</code>\n\nConsume the body and return a promise that will resolve to one of these formats.\n\n#### body.buffer()\n\n<small>*(node-fetch extension)*</small>\n\n* Returns: <code>Promise&lt;Buffer&gt;</code>\n\nConsume the body and return a promise that will resolve to a Buffer.\n\n#### body.textConverted()\n\n<small>*(node-fetch extension)*</small>\n\n* Returns: <code>Promise&lt;String&gt;</code>\n\nIdentical to `body.text()`, except instead of always converting to UTF-8, encoding sniffing will be performed and text converted to UTF-8 if possible.\n\n(This API requires an optional dependency of the npm package [encoding](https://www.npmjs.com/package/encoding), which you need to install manually. `webpack` users may see [a warning message](https://github.com/bitinn/node-fetch/issues/412#issuecomment-379007792) due to this optional dependency.)\n\n<a id=\"class-fetcherror\"></a>\n### Class: FetchError\n\n<small>*(node-fetch extension)*</small>\n\nAn operational error in the fetching process. See [ERROR-HANDLING.md][] for more info.\n\n<a id=\"class-aborterror\"></a>\n### Class: AbortError\n\n<small>*(node-fetch extension)*</small>\n\nAn Error thrown when the request is aborted in response to an `AbortSignal`'s `abort` event. It has a `name` property of `AbortError`. See [ERROR-HANDLING.MD][] for more info.\n\n## Acknowledgement\n\nThanks to [github/fetch](https://github.com/github/fetch) for providing a solid implementation reference.\n\n`node-fetch` v1 was maintained by [@bitinn](https://github.com/bitinn); v2 was maintained by [@TimothyGu](https://github.com/timothygu), [@bitinn](https://github.com/bitinn) and [@jimmywarting](https://github.com/jimmywarting); v2 readme is written by [@jkantr](https://github.com/jkantr).\n\n## License\n\nMIT\n\n[npm-image]: https://flat.badgen.net/npm/v/node-fetch\n[npm-url]: https://www.npmjs.com/package/node-fetch\n[travis-image]: https://flat.badgen.net/travis/bitinn/node-fetch\n[travis-url]: https://travis-ci.org/bitinn/node-fetch\n[codecov-image]: https://flat.badgen.net/codecov/c/github/bitinn/node-fetch/master\n[codecov-url]: https://codecov.io/gh/bitinn/node-fetch\n[install-size-image]: https://flat.badgen.net/packagephobia/install/node-fetch\n[install-size-url]: https://packagephobia.now.sh/result?p=node-fetch\n[discord-image]: https://img.shields.io/discord/619915844268326952?color=%237289DA&label=Discord&style=flat-square\n[discord-url]: https://discord.gg/Zxbndcm\n[opencollective-image]: https://opencollective.com/node-fetch/backers.svg\n[opencollective-url]: https://opencollective.com/node-fetch\n[whatwg-fetch]: https://fetch.spec.whatwg.org/\n[response-init]: https://fetch.spec.whatwg.org/#responseinit\n[node-readable]: https://nodejs.org/api/stream.html#stream_readable_streams\n[mdn-headers]: https://developer.mozilla.org/en-US/docs/Web/API/Headers\n[LIMITS.md]: https://github.com/bitinn/node-fetch/blob/master/LIMITS.md\n[ERROR-HANDLING.md]: https://github.com/bitinn/node-fetch/blob/master/ERROR-HANDLING.md\n[UPGRADE-GUIDE.md]: https://github.com/bitinn/node-fetch/blob/master/UPGRADE-GUIDE.md\n","browser":"./browser.js","module":"lib/index.mjs","readmeFilename":"README.md","gitHead":"a41c469c6164e7175f39113c875a9ddd2f064504","_nodeVersion":"16.8.0","_npmVersion":"7.21.0","_npmUser":{"name":"endless","email":"jimmy@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_2.6.4_1632227933688_0.2732907523141661"},"_hasShrinkwrap":false},"2.6.5":{"_id":"node-fetch@2.6.5","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.6.5","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --require babel-register --throw-deprecation test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"@ungap/url-search-params":"^0.1.2","abort-controller":"^1.1.0","abortcontroller-polyfill":"^1.3.0","babel-core":"^6.26.3","babel-plugin-istanbul":"^4.1.6","babel-preset-env":"^1.6.1","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"~1.3.0","codecov":"3.3.0","cross-env":"^5.2.0","form-data":"^2.3.3","is-builtin-module":"^1.0.0","mocha":"^5.0.0","nyc":"11.9.0","parted":"^0.1.1","promise":"^8.0.3","resumer":"0.0.0","rollup":"^0.63.4","rollup-plugin-babel":"^3.0.7","string-to-arraybuffer":"^1.0.2","teeny-request":"3.7.0"},"dependencies":{"whatwg-url":"^5.0.0"},"engines":{"node":"4.x || >=6.0.0"},"main":"lib/index.js","dist":{"shasum":"42735537d7f080a7e5f78b6c549b7146be1742fd","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.6.5.tgz"},"readme":"node-fetch\n==========\n\n[![npm version][npm-image]][npm-url]\n[![build status][travis-image]][travis-url]\n[![coverage status][codecov-image]][codecov-url]\n[![install size][install-size-image]][install-size-url]\n[![Discord][discord-image]][discord-url]\n\nA light-weight module that brings `window.fetch` to Node.js\n\n(We are looking for [v2 maintainers and collaborators](https://github.com/bitinn/node-fetch/issues/567))\n\n[![Backers][opencollective-image]][opencollective-url]\n\n<!-- TOC -->\n\n- [Motivation](#motivation)\n- [Features](#features)\n- [Difference from client-side fetch](#difference-from-client-side-fetch)\n- [Installation](#installation)\n- [Loading and configuring the module](#loading-and-configuring-the-module)\n- [Common Usage](#common-usage)\n    - [Plain text or HTML](#plain-text-or-html)\n    - [JSON](#json)\n    - [Simple Post](#simple-post)\n    - [Post with JSON](#post-with-json)\n    - [Post with form parameters](#post-with-form-parameters)\n    - [Handling exceptions](#handling-exceptions)\n    - [Handling client and server errors](#handling-client-and-server-errors)\n- [Advanced Usage](#advanced-usage)\n    - [Streams](#streams)\n    - [Buffer](#buffer)\n    - [Accessing Headers and other Meta data](#accessing-headers-and-other-meta-data)\n    - [Extract Set-Cookie Header](#extract-set-cookie-header)\n    - [Post data using a file stream](#post-data-using-a-file-stream)\n    - [Post with form-data (detect multipart)](#post-with-form-data-detect-multipart)\n    - [Request cancellation with AbortSignal](#request-cancellation-with-abortsignal)\n- [API](#api)\n    - [fetch(url[, options])](#fetchurl-options)\n    - [Options](#options)\n    - [Class: Request](#class-request)\n    - [Class: Response](#class-response)\n    - [Class: Headers](#class-headers)\n    - [Interface: Body](#interface-body)\n    - [Class: FetchError](#class-fetcherror)\n- [License](#license)\n- [Acknowledgement](#acknowledgement)\n\n<!-- /TOC -->\n\n## Motivation\n\nInstead of implementing `XMLHttpRequest` in Node.js to run browser-specific [Fetch polyfill](https://github.com/github/fetch), why not go from native `http` to `fetch` API directly? Hence, `node-fetch`, minimal code for a `window.fetch` compatible API on Node.js runtime.\n\nSee Matt Andrews' [isomorphic-fetch](https://github.com/matthew-andrews/isomorphic-fetch) or Leonardo Quixada's [cross-fetch](https://github.com/lquixada/cross-fetch) for isomorphic usage (exports `node-fetch` for server-side, `whatwg-fetch` for client-side).\n\n## Features\n\n- Stay consistent with `window.fetch` API.\n- Make conscious trade-off when following [WHATWG fetch spec][whatwg-fetch] and [stream spec](https://streams.spec.whatwg.org/) implementation details, document known differences.\n- Use native promise but allow substituting it with [insert your favorite promise library].\n- Use native Node streams for body on both request and response.\n- Decode content encoding (gzip/deflate) properly and convert string output (such as `res.text()` and `res.json()`) to UTF-8 automatically.\n- Useful extensions such as timeout, redirect limit, response size limit, [explicit errors](ERROR-HANDLING.md) for troubleshooting.\n\n## Difference from client-side fetch\n\n- See [Known Differences](LIMITS.md) for details.\n- If you happen to use a missing feature that `window.fetch` offers, feel free to open an issue.\n- Pull requests are welcomed too!\n\n## Installation\n\nCurrent stable release (`2.x`)\n\n```sh\n$ npm install node-fetch\n```\n\n## Loading and configuring the module\nWe suggest you load the module via `require` until the stabilization of ES modules in node:\n```js\nconst fetch = require('node-fetch');\n```\n\nIf you are using a Promise library other than native, set it through `fetch.Promise`:\n```js\nconst Bluebird = require('bluebird');\n\nfetch.Promise = Bluebird;\n```\n\n## Common Usage\n\nNOTE: The documentation below is up-to-date with `2.x` releases; see the [`1.x` readme](https://github.com/bitinn/node-fetch/blob/1.x/README.md), [changelog](https://github.com/bitinn/node-fetch/blob/1.x/CHANGELOG.md) and [2.x upgrade guide](UPGRADE-GUIDE.md) for the differences.\n\n#### Plain text or HTML\n```js\nfetch('https://github.com/')\n    .then(res => res.text())\n    .then(body => console.log(body));\n```\n\n#### JSON\n\n```js\n\nfetch('https://api.github.com/users/github')\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Simple Post\n```js\nfetch('https://httpbin.org/post', { method: 'POST', body: 'a=1' })\n    .then(res => res.json()) // expecting a json response\n    .then(json => console.log(json));\n```\n\n#### Post with JSON\n\n```js\nconst body = { a: 1 };\n\nfetch('https://httpbin.org/post', {\n        method: 'post',\n        body:    JSON.stringify(body),\n        headers: { 'Content-Type': 'application/json' },\n    })\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Post with form parameters\n`URLSearchParams` is available in Node.js as of v7.5.0. See [official documentation](https://nodejs.org/api/url.html#url_class_urlsearchparams) for more usage methods.\n\nNOTE: The `Content-Type` header is only set automatically to `x-www-form-urlencoded` when an instance of `URLSearchParams` is given as such:\n\n```js\nconst { URLSearchParams } = require('url');\n\nconst params = new URLSearchParams();\nparams.append('a', 1);\n\nfetch('https://httpbin.org/post', { method: 'POST', body: params })\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Handling exceptions\nNOTE: 3xx-5xx responses are *NOT* exceptions and should be handled in `then()`; see the next section for more information.\n\nAdding a catch to the fetch promise chain will catch *all* exceptions, such as errors originating from node core libraries, network errors and operational errors, which are instances of FetchError. See the [error handling document](ERROR-HANDLING.md)  for more details.\n\n```js\nfetch('https://domain.invalid/')\n    .catch(err => console.error(err));\n```\n\n#### Handling client and server errors\nIt is common to create a helper function to check that the response contains no client (4xx) or server (5xx) error responses:\n\n```js\nfunction checkStatus(res) {\n    if (res.ok) { // res.status >= 200 && res.status < 300\n        return res;\n    } else {\n        throw MyCustomError(res.statusText);\n    }\n}\n\nfetch('https://httpbin.org/status/400')\n    .then(checkStatus)\n    .then(res => console.log('will not get here...'))\n```\n\n## Advanced Usage\n\n#### Streams\nThe \"Node.js way\" is to use streams when possible:\n\n```js\nfetch('https://assets-cdn.github.com/images/modules/logos_page/Octocat.png')\n    .then(res => {\n        const dest = fs.createWriteStream('./octocat.png');\n        res.body.pipe(dest);\n    });\n```\n\n#### Buffer\nIf you prefer to cache binary data in full, use buffer(). (NOTE: `buffer()` is a `node-fetch`-only API)\n\n```js\nconst fileType = require('file-type');\n\nfetch('https://assets-cdn.github.com/images/modules/logos_page/Octocat.png')\n    .then(res => res.buffer())\n    .then(buffer => fileType(buffer))\n    .then(type => { /* ... */ });\n```\n\n#### Accessing Headers and other Meta data\n```js\nfetch('https://github.com/')\n    .then(res => {\n        console.log(res.ok);\n        console.log(res.status);\n        console.log(res.statusText);\n        console.log(res.headers.raw());\n        console.log(res.headers.get('content-type'));\n    });\n```\n\n#### Extract Set-Cookie Header\n\nUnlike browsers, you can access raw `Set-Cookie` headers manually using `Headers.raw()`. This is a `node-fetch` only API.\n\n```js\nfetch(url).then(res => {\n    // returns an array of values, instead of a string of comma-separated values\n    console.log(res.headers.raw()['set-cookie']);\n});\n```\n\n#### Post data using a file stream\n\n```js\nconst { createReadStream } = require('fs');\n\nconst stream = createReadStream('input.txt');\n\nfetch('https://httpbin.org/post', { method: 'POST', body: stream })\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Post with form-data (detect multipart)\n\n```js\nconst FormData = require('form-data');\n\nconst form = new FormData();\nform.append('a', 1);\n\nfetch('https://httpbin.org/post', { method: 'POST', body: form })\n    .then(res => res.json())\n    .then(json => console.log(json));\n\n// OR, using custom headers\n// NOTE: getHeaders() is non-standard API\n\nconst form = new FormData();\nform.append('a', 1);\n\nconst options = {\n    method: 'POST',\n    body: form,\n    headers: form.getHeaders()\n}\n\nfetch('https://httpbin.org/post', options)\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Request cancellation with AbortSignal\n\n> NOTE: You may cancel streamed requests only on Node >= v8.0.0\n\nYou may cancel requests with `AbortController`. A suggested implementation is [`abort-controller`](https://www.npmjs.com/package/abort-controller).\n\nAn example of timing out a request after 150ms could be achieved as the following:\n\n```js\nimport AbortController from 'abort-controller';\n\nconst controller = new AbortController();\nconst timeout = setTimeout(\n  () => { controller.abort(); },\n  150,\n);\n\nfetch(url, { signal: controller.signal })\n  .then(res => res.json())\n  .then(\n    data => {\n      useData(data)\n    },\n    err => {\n      if (err.name === 'AbortError') {\n        // request was aborted\n      }\n    },\n  )\n  .finally(() => {\n    clearTimeout(timeout);\n  });\n```\n\nSee [test cases](https://github.com/bitinn/node-fetch/blob/master/test/test.js) for more examples.\n\n\n## API\n\n### fetch(url[, options])\n\n- `url` A string representing the URL for fetching\n- `options` [Options](#fetch-options) for the HTTP(S) request\n- Returns: <code>Promise&lt;[Response](#class-response)&gt;</code>\n\nPerform an HTTP(S) fetch.\n\n`url` should be an absolute url, such as `https://example.com/`. A path-relative URL (`/file/under/root`) or protocol-relative URL (`//can-be-http-or-https.com/`) will result in a rejected `Promise`.\n\n<a id=\"fetch-options\"></a>\n### Options\n\nThe default values are shown after each option key.\n\n```js\n{\n    // These properties are part of the Fetch Standard\n    method: 'GET',\n    headers: {},        // request headers. format is the identical to that accepted by the Headers constructor (see below)\n    body: null,         // request body. can be null, a string, a Buffer, a Blob, or a Node.js Readable stream\n    redirect: 'follow', // set to `manual` to extract redirect headers, `error` to reject redirect\n    signal: null,       // pass an instance of AbortSignal to optionally abort requests\n\n    // The following properties are node-fetch extensions\n    follow: 20,         // maximum redirect count. 0 to not follow redirect\n    timeout: 0,         // req/res timeout in ms, it resets on redirect. 0 to disable (OS limit applies). Signal is recommended instead.\n    compress: true,     // support gzip/deflate content encoding. false to disable\n    size: 0,            // maximum response body size in bytes. 0 to disable\n    agent: null         // http(s).Agent instance or function that returns an instance (see below)\n}\n```\n\n##### Default Headers\n\nIf no values are set, the following request headers will be sent automatically:\n\nHeader              | Value\n------------------- | --------------------------------------------------------\n`Accept-Encoding`   | `gzip,deflate` _(when `options.compress === true`)_\n`Accept`            | `*/*`\n`Connection`        | `close` _(when no `options.agent` is present)_\n`Content-Length`    | _(automatically calculated, if possible)_\n`Transfer-Encoding` | `chunked` _(when `req.body` is a stream)_\n`User-Agent`        | `node-fetch/1.0 (+https://github.com/bitinn/node-fetch)`\n\nNote: when `body` is a `Stream`, `Content-Length` is not set automatically.\n\n##### Custom Agent\n\nThe `agent` option allows you to specify networking related options which are out of the scope of Fetch, including and not limited to the following:\n\n- Support self-signed certificate\n- Use only IPv4 or IPv6\n- Custom DNS Lookup\n\nSee [`http.Agent`](https://nodejs.org/api/http.html#http_new_agent_options) for more information.\n\nIn addition, the `agent` option accepts a function that returns `http`(s)`.Agent` instance given current [URL](https://nodejs.org/api/url.html), this is useful during a redirection chain across HTTP and HTTPS protocol.\n\n```js\nconst httpAgent = new http.Agent({\n    keepAlive: true\n});\nconst httpsAgent = new https.Agent({\n    keepAlive: true\n});\n\nconst options = {\n    agent: function (_parsedURL) {\n        if (_parsedURL.protocol == 'http:') {\n            return httpAgent;\n        } else {\n            return httpsAgent;\n        }\n    }\n}\n```\n\n<a id=\"class-request\"></a>\n### Class: Request\n\nAn HTTP(S) request containing information about URL, method, headers, and the body. This class implements the [Body](#iface-body) interface.\n\nDue to the nature of Node.js, the following properties are not implemented at this moment:\n\n- `type`\n- `destination`\n- `referrer`\n- `referrerPolicy`\n- `mode`\n- `credentials`\n- `cache`\n- `integrity`\n- `keepalive`\n\nThe following node-fetch extension properties are provided:\n\n- `follow`\n- `compress`\n- `counter`\n- `agent`\n\nSee [options](#fetch-options) for exact meaning of these extensions.\n\n#### new Request(input[, options])\n\n<small>*(spec-compliant)*</small>\n\n- `input` A string representing a URL, or another `Request` (which will be cloned)\n- `options` [Options][#fetch-options] for the HTTP(S) request\n\nConstructs a new `Request` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Request/Request).\n\nIn most cases, directly `fetch(url, options)` is simpler than creating a `Request` object.\n\n<a id=\"class-response\"></a>\n### Class: Response\n\nAn HTTP(S) response. This class implements the [Body](#iface-body) interface.\n\nThe following properties are not implemented in node-fetch at this moment:\n\n- `Response.error()`\n- `Response.redirect()`\n- `type`\n- `trailer`\n\n#### new Response([body[, options]])\n\n<small>*(spec-compliant)*</small>\n\n- `body` A `String` or [`Readable` stream][node-readable]\n- `options` A [`ResponseInit`][response-init] options dictionary\n\nConstructs a new `Response` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Response/Response).\n\nBecause Node.js does not implement service workers (for which this class was designed), one rarely has to construct a `Response` directly.\n\n#### response.ok\n\n<small>*(spec-compliant)*</small>\n\nConvenience property representing if the request ended normally. Will evaluate to true if the response status was greater than or equal to 200 but smaller than 300.\n\n#### response.redirected\n\n<small>*(spec-compliant)*</small>\n\nConvenience property representing if the request has been redirected at least once. Will evaluate to true if the internal redirect counter is greater than 0.\n\n<a id=\"class-headers\"></a>\n### Class: Headers\n\nThis class allows manipulating and iterating over a set of HTTP headers. All methods specified in the [Fetch Standard][whatwg-fetch] are implemented.\n\n#### new Headers([init])\n\n<small>*(spec-compliant)*</small>\n\n- `init` Optional argument to pre-fill the `Headers` object\n\nConstruct a new `Headers` object. `init` can be either `null`, a `Headers` object, an key-value map object or any iterable object.\n\n```js\n// Example adapted from https://fetch.spec.whatwg.org/#example-headers-class\n\nconst meta = {\n  'Content-Type': 'text/xml',\n  'Breaking-Bad': '<3'\n};\nconst headers = new Headers(meta);\n\n// The above is equivalent to\nconst meta = [\n  [ 'Content-Type', 'text/xml' ],\n  [ 'Breaking-Bad', '<3' ]\n];\nconst headers = new Headers(meta);\n\n// You can in fact use any iterable objects, like a Map or even another Headers\nconst meta = new Map();\nmeta.set('Content-Type', 'text/xml');\nmeta.set('Breaking-Bad', '<3');\nconst headers = new Headers(meta);\nconst copyOfHeaders = new Headers(headers);\n```\n\n<a id=\"iface-body\"></a>\n### Interface: Body\n\n`Body` is an abstract interface with methods that are applicable to both `Request` and `Response` classes.\n\nThe following methods are not yet implemented in node-fetch at this moment:\n\n- `formData()`\n\n#### body.body\n\n<small>*(deviation from spec)*</small>\n\n* Node.js [`Readable` stream][node-readable]\n\nData are encapsulated in the `Body` object. Note that while the [Fetch Standard][whatwg-fetch] requires the property to always be a WHATWG `ReadableStream`, in node-fetch it is a Node.js [`Readable` stream][node-readable].\n\n#### body.bodyUsed\n\n<small>*(spec-compliant)*</small>\n\n* `Boolean`\n\nA boolean property for if this body has been consumed. Per the specs, a consumed body cannot be used again.\n\n#### body.arrayBuffer()\n#### body.blob()\n#### body.json()\n#### body.text()\n\n<small>*(spec-compliant)*</small>\n\n* Returns: <code>Promise</code>\n\nConsume the body and return a promise that will resolve to one of these formats.\n\n#### body.buffer()\n\n<small>*(node-fetch extension)*</small>\n\n* Returns: <code>Promise&lt;Buffer&gt;</code>\n\nConsume the body and return a promise that will resolve to a Buffer.\n\n#### body.textConverted()\n\n<small>*(node-fetch extension)*</small>\n\n* Returns: <code>Promise&lt;String&gt;</code>\n\nIdentical to `body.text()`, except instead of always converting to UTF-8, encoding sniffing will be performed and text converted to UTF-8 if possible.\n\n(This API requires an optional dependency of the npm package [encoding](https://www.npmjs.com/package/encoding), which you need to install manually. `webpack` users may see [a warning message](https://github.com/bitinn/node-fetch/issues/412#issuecomment-379007792) due to this optional dependency.)\n\n<a id=\"class-fetcherror\"></a>\n### Class: FetchError\n\n<small>*(node-fetch extension)*</small>\n\nAn operational error in the fetching process. See [ERROR-HANDLING.md][] for more info.\n\n<a id=\"class-aborterror\"></a>\n### Class: AbortError\n\n<small>*(node-fetch extension)*</small>\n\nAn Error thrown when the request is aborted in response to an `AbortSignal`'s `abort` event. It has a `name` property of `AbortError`. See [ERROR-HANDLING.MD][] for more info.\n\n## Acknowledgement\n\nThanks to [github/fetch](https://github.com/github/fetch) for providing a solid implementation reference.\n\n`node-fetch` v1 was maintained by [@bitinn](https://github.com/bitinn); v2 was maintained by [@TimothyGu](https://github.com/timothygu), [@bitinn](https://github.com/bitinn) and [@jimmywarting](https://github.com/jimmywarting); v2 readme is written by [@jkantr](https://github.com/jkantr).\n\n## License\n\nMIT\n\n[npm-image]: https://flat.badgen.net/npm/v/node-fetch\n[npm-url]: https://www.npmjs.com/package/node-fetch\n[travis-image]: https://flat.badgen.net/travis/bitinn/node-fetch\n[travis-url]: https://travis-ci.org/bitinn/node-fetch\n[codecov-image]: https://flat.badgen.net/codecov/c/github/bitinn/node-fetch/master\n[codecov-url]: https://codecov.io/gh/bitinn/node-fetch\n[install-size-image]: https://flat.badgen.net/packagephobia/install/node-fetch\n[install-size-url]: https://packagephobia.now.sh/result?p=node-fetch\n[discord-image]: https://img.shields.io/discord/619915844268326952?color=%237289DA&label=Discord&style=flat-square\n[discord-url]: https://discord.gg/Zxbndcm\n[opencollective-image]: https://opencollective.com/node-fetch/backers.svg\n[opencollective-url]: https://opencollective.com/node-fetch\n[whatwg-fetch]: https://fetch.spec.whatwg.org/\n[response-init]: https://fetch.spec.whatwg.org/#responseinit\n[node-readable]: https://nodejs.org/api/stream.html#stream_readable_streams\n[mdn-headers]: https://developer.mozilla.org/en-US/docs/Web/API/Headers\n[LIMITS.md]: https://github.com/bitinn/node-fetch/blob/master/LIMITS.md\n[ERROR-HANDLING.md]: https://github.com/bitinn/node-fetch/blob/master/ERROR-HANDLING.md\n[UPGRADE-GUIDE.md]: https://github.com/bitinn/node-fetch/blob/master/UPGRADE-GUIDE.md\n","browser":"./browser.js","module":"lib/index.mjs","readmeFilename":"README.md","gitHead":"b5417aea6a3275932283a200214522e6ab53f1ea","_nodeVersion":"16.8.0","_npmVersion":"7.21.0","_npmUser":{"name":"endless","email":"jimmy@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_2.6.5_1632315223112_0.3620325715587276"},"_hasShrinkwrap":false},"2.6.6":{"_id":"node-fetch@2.6.6","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.6.6","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --require babel-register --throw-deprecation test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"@ungap/url-search-params":"^0.1.2","abort-controller":"^1.1.0","abortcontroller-polyfill":"^1.3.0","babel-core":"^6.26.3","babel-plugin-istanbul":"^4.1.6","babel-preset-env":"^1.6.1","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"~1.3.0","codecov":"3.3.0","cross-env":"^5.2.0","form-data":"^2.3.3","is-builtin-module":"^1.0.0","mocha":"^5.0.0","nyc":"11.9.0","parted":"^0.1.1","promise":"^8.0.3","resumer":"0.0.0","rollup":"^0.63.4","rollup-plugin-babel":"^3.0.7","string-to-arraybuffer":"^1.0.2","teeny-request":"3.7.0"},"dependencies":{"whatwg-url":"^5.0.0"},"engines":{"node":"4.x || >=6.0.0"},"main":"lib/index.js","dist":{"shasum":"1751a7c01834e8e1697758732e9efb6eeadfaf89","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.6.6.tgz"},"readme":"node-fetch\n==========\n\n[![npm version][npm-image]][npm-url]\n[![build status][travis-image]][travis-url]\n[![coverage status][codecov-image]][codecov-url]\n[![install size][install-size-image]][install-size-url]\n[![Discord][discord-image]][discord-url]\n\nA light-weight module that brings `window.fetch` to Node.js\n\n(We are looking for [v2 maintainers and collaborators](https://github.com/bitinn/node-fetch/issues/567))\n\n[![Backers][opencollective-image]][opencollective-url]\n\n<!-- TOC -->\n\n- [Motivation](#motivation)\n- [Features](#features)\n- [Difference from client-side fetch](#difference-from-client-side-fetch)\n- [Installation](#installation)\n- [Loading and configuring the module](#loading-and-configuring-the-module)\n- [Common Usage](#common-usage)\n    - [Plain text or HTML](#plain-text-or-html)\n    - [JSON](#json)\n    - [Simple Post](#simple-post)\n    - [Post with JSON](#post-with-json)\n    - [Post with form parameters](#post-with-form-parameters)\n    - [Handling exceptions](#handling-exceptions)\n    - [Handling client and server errors](#handling-client-and-server-errors)\n- [Advanced Usage](#advanced-usage)\n    - [Streams](#streams)\n    - [Buffer](#buffer)\n    - [Accessing Headers and other Meta data](#accessing-headers-and-other-meta-data)\n    - [Extract Set-Cookie Header](#extract-set-cookie-header)\n    - [Post data using a file stream](#post-data-using-a-file-stream)\n    - [Post with form-data (detect multipart)](#post-with-form-data-detect-multipart)\n    - [Request cancellation with AbortSignal](#request-cancellation-with-abortsignal)\n- [API](#api)\n    - [fetch(url[, options])](#fetchurl-options)\n    - [Options](#options)\n    - [Class: Request](#class-request)\n    - [Class: Response](#class-response)\n    - [Class: Headers](#class-headers)\n    - [Interface: Body](#interface-body)\n    - [Class: FetchError](#class-fetcherror)\n- [License](#license)\n- [Acknowledgement](#acknowledgement)\n\n<!-- /TOC -->\n\n## Motivation\n\nInstead of implementing `XMLHttpRequest` in Node.js to run browser-specific [Fetch polyfill](https://github.com/github/fetch), why not go from native `http` to `fetch` API directly? Hence, `node-fetch`, minimal code for a `window.fetch` compatible API on Node.js runtime.\n\nSee Matt Andrews' [isomorphic-fetch](https://github.com/matthew-andrews/isomorphic-fetch) or Leonardo Quixada's [cross-fetch](https://github.com/lquixada/cross-fetch) for isomorphic usage (exports `node-fetch` for server-side, `whatwg-fetch` for client-side).\n\n## Features\n\n- Stay consistent with `window.fetch` API.\n- Make conscious trade-off when following [WHATWG fetch spec][whatwg-fetch] and [stream spec](https://streams.spec.whatwg.org/) implementation details, document known differences.\n- Use native promise but allow substituting it with [insert your favorite promise library].\n- Use native Node streams for body on both request and response.\n- Decode content encoding (gzip/deflate) properly and convert string output (such as `res.text()` and `res.json()`) to UTF-8 automatically.\n- Useful extensions such as timeout, redirect limit, response size limit, [explicit errors](ERROR-HANDLING.md) for troubleshooting.\n\n## Difference from client-side fetch\n\n- See [Known Differences](LIMITS.md) for details.\n- If you happen to use a missing feature that `window.fetch` offers, feel free to open an issue.\n- Pull requests are welcomed too!\n\n## Installation\n\nCurrent stable release (`2.x`)\n\n```sh\n$ npm install node-fetch\n```\n\n## Loading and configuring the module\nWe suggest you load the module via `require` until the stabilization of ES modules in node:\n```js\nconst fetch = require('node-fetch');\n```\n\nIf you are using a Promise library other than native, set it through `fetch.Promise`:\n```js\nconst Bluebird = require('bluebird');\n\nfetch.Promise = Bluebird;\n```\n\n## Common Usage\n\nNOTE: The documentation below is up-to-date with `2.x` releases; see the [`1.x` readme](https://github.com/bitinn/node-fetch/blob/1.x/README.md), [changelog](https://github.com/bitinn/node-fetch/blob/1.x/CHANGELOG.md) and [2.x upgrade guide](UPGRADE-GUIDE.md) for the differences.\n\n#### Plain text or HTML\n```js\nfetch('https://github.com/')\n    .then(res => res.text())\n    .then(body => console.log(body));\n```\n\n#### JSON\n\n```js\n\nfetch('https://api.github.com/users/github')\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Simple Post\n```js\nfetch('https://httpbin.org/post', { method: 'POST', body: 'a=1' })\n    .then(res => res.json()) // expecting a json response\n    .then(json => console.log(json));\n```\n\n#### Post with JSON\n\n```js\nconst body = { a: 1 };\n\nfetch('https://httpbin.org/post', {\n        method: 'post',\n        body:    JSON.stringify(body),\n        headers: { 'Content-Type': 'application/json' },\n    })\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Post with form parameters\n`URLSearchParams` is available in Node.js as of v7.5.0. See [official documentation](https://nodejs.org/api/url.html#url_class_urlsearchparams) for more usage methods.\n\nNOTE: The `Content-Type` header is only set automatically to `x-www-form-urlencoded` when an instance of `URLSearchParams` is given as such:\n\n```js\nconst { URLSearchParams } = require('url');\n\nconst params = new URLSearchParams();\nparams.append('a', 1);\n\nfetch('https://httpbin.org/post', { method: 'POST', body: params })\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Handling exceptions\nNOTE: 3xx-5xx responses are *NOT* exceptions and should be handled in `then()`; see the next section for more information.\n\nAdding a catch to the fetch promise chain will catch *all* exceptions, such as errors originating from node core libraries, network errors and operational errors, which are instances of FetchError. See the [error handling document](ERROR-HANDLING.md)  for more details.\n\n```js\nfetch('https://domain.invalid/')\n    .catch(err => console.error(err));\n```\n\n#### Handling client and server errors\nIt is common to create a helper function to check that the response contains no client (4xx) or server (5xx) error responses:\n\n```js\nfunction checkStatus(res) {\n    if (res.ok) { // res.status >= 200 && res.status < 300\n        return res;\n    } else {\n        throw MyCustomError(res.statusText);\n    }\n}\n\nfetch('https://httpbin.org/status/400')\n    .then(checkStatus)\n    .then(res => console.log('will not get here...'))\n```\n\n## Advanced Usage\n\n#### Streams\nThe \"Node.js way\" is to use streams when possible:\n\n```js\nfetch('https://assets-cdn.github.com/images/modules/logos_page/Octocat.png')\n    .then(res => {\n        const dest = fs.createWriteStream('./octocat.png');\n        res.body.pipe(dest);\n    });\n```\n\n#### Buffer\nIf you prefer to cache binary data in full, use buffer(). (NOTE: `buffer()` is a `node-fetch`-only API)\n\n```js\nconst fileType = require('file-type');\n\nfetch('https://assets-cdn.github.com/images/modules/logos_page/Octocat.png')\n    .then(res => res.buffer())\n    .then(buffer => fileType(buffer))\n    .then(type => { /* ... */ });\n```\n\n#### Accessing Headers and other Meta data\n```js\nfetch('https://github.com/')\n    .then(res => {\n        console.log(res.ok);\n        console.log(res.status);\n        console.log(res.statusText);\n        console.log(res.headers.raw());\n        console.log(res.headers.get('content-type'));\n    });\n```\n\n#### Extract Set-Cookie Header\n\nUnlike browsers, you can access raw `Set-Cookie` headers manually using `Headers.raw()`. This is a `node-fetch` only API.\n\n```js\nfetch(url).then(res => {\n    // returns an array of values, instead of a string of comma-separated values\n    console.log(res.headers.raw()['set-cookie']);\n});\n```\n\n#### Post data using a file stream\n\n```js\nconst { createReadStream } = require('fs');\n\nconst stream = createReadStream('input.txt');\n\nfetch('https://httpbin.org/post', { method: 'POST', body: stream })\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Post with form-data (detect multipart)\n\n```js\nconst FormData = require('form-data');\n\nconst form = new FormData();\nform.append('a', 1);\n\nfetch('https://httpbin.org/post', { method: 'POST', body: form })\n    .then(res => res.json())\n    .then(json => console.log(json));\n\n// OR, using custom headers\n// NOTE: getHeaders() is non-standard API\n\nconst form = new FormData();\nform.append('a', 1);\n\nconst options = {\n    method: 'POST',\n    body: form,\n    headers: form.getHeaders()\n}\n\nfetch('https://httpbin.org/post', options)\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Request cancellation with AbortSignal\n\n> NOTE: You may cancel streamed requests only on Node >= v8.0.0\n\nYou may cancel requests with `AbortController`. A suggested implementation is [`abort-controller`](https://www.npmjs.com/package/abort-controller).\n\nAn example of timing out a request after 150ms could be achieved as the following:\n\n```js\nimport AbortController from 'abort-controller';\n\nconst controller = new AbortController();\nconst timeout = setTimeout(\n  () => { controller.abort(); },\n  150,\n);\n\nfetch(url, { signal: controller.signal })\n  .then(res => res.json())\n  .then(\n    data => {\n      useData(data)\n    },\n    err => {\n      if (err.name === 'AbortError') {\n        // request was aborted\n      }\n    },\n  )\n  .finally(() => {\n    clearTimeout(timeout);\n  });\n```\n\nSee [test cases](https://github.com/bitinn/node-fetch/blob/master/test/test.js) for more examples.\n\n\n## API\n\n### fetch(url[, options])\n\n- `url` A string representing the URL for fetching\n- `options` [Options](#fetch-options) for the HTTP(S) request\n- Returns: <code>Promise&lt;[Response](#class-response)&gt;</code>\n\nPerform an HTTP(S) fetch.\n\n`url` should be an absolute url, such as `https://example.com/`. A path-relative URL (`/file/under/root`) or protocol-relative URL (`//can-be-http-or-https.com/`) will result in a rejected `Promise`.\n\n<a id=\"fetch-options\"></a>\n### Options\n\nThe default values are shown after each option key.\n\n```js\n{\n    // These properties are part of the Fetch Standard\n    method: 'GET',\n    headers: {},        // request headers. format is the identical to that accepted by the Headers constructor (see below)\n    body: null,         // request body. can be null, a string, a Buffer, a Blob, or a Node.js Readable stream\n    redirect: 'follow', // set to `manual` to extract redirect headers, `error` to reject redirect\n    signal: null,       // pass an instance of AbortSignal to optionally abort requests\n\n    // The following properties are node-fetch extensions\n    follow: 20,         // maximum redirect count. 0 to not follow redirect\n    timeout: 0,         // req/res timeout in ms, it resets on redirect. 0 to disable (OS limit applies). Signal is recommended instead.\n    compress: true,     // support gzip/deflate content encoding. false to disable\n    size: 0,            // maximum response body size in bytes. 0 to disable\n    agent: null         // http(s).Agent instance or function that returns an instance (see below)\n}\n```\n\n##### Default Headers\n\nIf no values are set, the following request headers will be sent automatically:\n\nHeader              | Value\n------------------- | --------------------------------------------------------\n`Accept-Encoding`   | `gzip,deflate` _(when `options.compress === true`)_\n`Accept`            | `*/*`\n`Connection`        | `close` _(when no `options.agent` is present)_\n`Content-Length`    | _(automatically calculated, if possible)_\n`Transfer-Encoding` | `chunked` _(when `req.body` is a stream)_\n`User-Agent`        | `node-fetch/1.0 (+https://github.com/bitinn/node-fetch)`\n\nNote: when `body` is a `Stream`, `Content-Length` is not set automatically.\n\n##### Custom Agent\n\nThe `agent` option allows you to specify networking related options which are out of the scope of Fetch, including and not limited to the following:\n\n- Support self-signed certificate\n- Use only IPv4 or IPv6\n- Custom DNS Lookup\n\nSee [`http.Agent`](https://nodejs.org/api/http.html#http_new_agent_options) for more information.\n\nIn addition, the `agent` option accepts a function that returns `http`(s)`.Agent` instance given current [URL](https://nodejs.org/api/url.html), this is useful during a redirection chain across HTTP and HTTPS protocol.\n\n```js\nconst httpAgent = new http.Agent({\n    keepAlive: true\n});\nconst httpsAgent = new https.Agent({\n    keepAlive: true\n});\n\nconst options = {\n    agent: function (_parsedURL) {\n        if (_parsedURL.protocol == 'http:') {\n            return httpAgent;\n        } else {\n            return httpsAgent;\n        }\n    }\n}\n```\n\n<a id=\"class-request\"></a>\n### Class: Request\n\nAn HTTP(S) request containing information about URL, method, headers, and the body. This class implements the [Body](#iface-body) interface.\n\nDue to the nature of Node.js, the following properties are not implemented at this moment:\n\n- `type`\n- `destination`\n- `referrer`\n- `referrerPolicy`\n- `mode`\n- `credentials`\n- `cache`\n- `integrity`\n- `keepalive`\n\nThe following node-fetch extension properties are provided:\n\n- `follow`\n- `compress`\n- `counter`\n- `agent`\n\nSee [options](#fetch-options) for exact meaning of these extensions.\n\n#### new Request(input[, options])\n\n<small>*(spec-compliant)*</small>\n\n- `input` A string representing a URL, or another `Request` (which will be cloned)\n- `options` [Options][#fetch-options] for the HTTP(S) request\n\nConstructs a new `Request` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Request/Request).\n\nIn most cases, directly `fetch(url, options)` is simpler than creating a `Request` object.\n\n<a id=\"class-response\"></a>\n### Class: Response\n\nAn HTTP(S) response. This class implements the [Body](#iface-body) interface.\n\nThe following properties are not implemented in node-fetch at this moment:\n\n- `Response.error()`\n- `Response.redirect()`\n- `type`\n- `trailer`\n\n#### new Response([body[, options]])\n\n<small>*(spec-compliant)*</small>\n\n- `body` A `String` or [`Readable` stream][node-readable]\n- `options` A [`ResponseInit`][response-init] options dictionary\n\nConstructs a new `Response` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Response/Response).\n\nBecause Node.js does not implement service workers (for which this class was designed), one rarely has to construct a `Response` directly.\n\n#### response.ok\n\n<small>*(spec-compliant)*</small>\n\nConvenience property representing if the request ended normally. Will evaluate to true if the response status was greater than or equal to 200 but smaller than 300.\n\n#### response.redirected\n\n<small>*(spec-compliant)*</small>\n\nConvenience property representing if the request has been redirected at least once. Will evaluate to true if the internal redirect counter is greater than 0.\n\n<a id=\"class-headers\"></a>\n### Class: Headers\n\nThis class allows manipulating and iterating over a set of HTTP headers. All methods specified in the [Fetch Standard][whatwg-fetch] are implemented.\n\n#### new Headers([init])\n\n<small>*(spec-compliant)*</small>\n\n- `init` Optional argument to pre-fill the `Headers` object\n\nConstruct a new `Headers` object. `init` can be either `null`, a `Headers` object, an key-value map object or any iterable object.\n\n```js\n// Example adapted from https://fetch.spec.whatwg.org/#example-headers-class\n\nconst meta = {\n  'Content-Type': 'text/xml',\n  'Breaking-Bad': '<3'\n};\nconst headers = new Headers(meta);\n\n// The above is equivalent to\nconst meta = [\n  [ 'Content-Type', 'text/xml' ],\n  [ 'Breaking-Bad', '<3' ]\n];\nconst headers = new Headers(meta);\n\n// You can in fact use any iterable objects, like a Map or even another Headers\nconst meta = new Map();\nmeta.set('Content-Type', 'text/xml');\nmeta.set('Breaking-Bad', '<3');\nconst headers = new Headers(meta);\nconst copyOfHeaders = new Headers(headers);\n```\n\n<a id=\"iface-body\"></a>\n### Interface: Body\n\n`Body` is an abstract interface with methods that are applicable to both `Request` and `Response` classes.\n\nThe following methods are not yet implemented in node-fetch at this moment:\n\n- `formData()`\n\n#### body.body\n\n<small>*(deviation from spec)*</small>\n\n* Node.js [`Readable` stream][node-readable]\n\nData are encapsulated in the `Body` object. Note that while the [Fetch Standard][whatwg-fetch] requires the property to always be a WHATWG `ReadableStream`, in node-fetch it is a Node.js [`Readable` stream][node-readable].\n\n#### body.bodyUsed\n\n<small>*(spec-compliant)*</small>\n\n* `Boolean`\n\nA boolean property for if this body has been consumed. Per the specs, a consumed body cannot be used again.\n\n#### body.arrayBuffer()\n#### body.blob()\n#### body.json()\n#### body.text()\n\n<small>*(spec-compliant)*</small>\n\n* Returns: <code>Promise</code>\n\nConsume the body and return a promise that will resolve to one of these formats.\n\n#### body.buffer()\n\n<small>*(node-fetch extension)*</small>\n\n* Returns: <code>Promise&lt;Buffer&gt;</code>\n\nConsume the body and return a promise that will resolve to a Buffer.\n\n#### body.textConverted()\n\n<small>*(node-fetch extension)*</small>\n\n* Returns: <code>Promise&lt;String&gt;</code>\n\nIdentical to `body.text()`, except instead of always converting to UTF-8, encoding sniffing will be performed and text converted to UTF-8 if possible.\n\n(This API requires an optional dependency of the npm package [encoding](https://www.npmjs.com/package/encoding), which you need to install manually. `webpack` users may see [a warning message](https://github.com/bitinn/node-fetch/issues/412#issuecomment-379007792) due to this optional dependency.)\n\n<a id=\"class-fetcherror\"></a>\n### Class: FetchError\n\n<small>*(node-fetch extension)*</small>\n\nAn operational error in the fetching process. See [ERROR-HANDLING.md][] for more info.\n\n<a id=\"class-aborterror\"></a>\n### Class: AbortError\n\n<small>*(node-fetch extension)*</small>\n\nAn Error thrown when the request is aborted in response to an `AbortSignal`'s `abort` event. It has a `name` property of `AbortError`. See [ERROR-HANDLING.MD][] for more info.\n\n## Acknowledgement\n\nThanks to [github/fetch](https://github.com/github/fetch) for providing a solid implementation reference.\n\n`node-fetch` v1 was maintained by [@bitinn](https://github.com/bitinn); v2 was maintained by [@TimothyGu](https://github.com/timothygu), [@bitinn](https://github.com/bitinn) and [@jimmywarting](https://github.com/jimmywarting); v2 readme is written by [@jkantr](https://github.com/jkantr).\n\n## License\n\nMIT\n\n[npm-image]: https://flat.badgen.net/npm/v/node-fetch\n[npm-url]: https://www.npmjs.com/package/node-fetch\n[travis-image]: https://flat.badgen.net/travis/bitinn/node-fetch\n[travis-url]: https://travis-ci.org/bitinn/node-fetch\n[codecov-image]: https://flat.badgen.net/codecov/c/github/bitinn/node-fetch/master\n[codecov-url]: https://codecov.io/gh/bitinn/node-fetch\n[install-size-image]: https://flat.badgen.net/packagephobia/install/node-fetch\n[install-size-url]: https://packagephobia.now.sh/result?p=node-fetch\n[discord-image]: https://img.shields.io/discord/619915844268326952?color=%237289DA&label=Discord&style=flat-square\n[discord-url]: https://discord.gg/Zxbndcm\n[opencollective-image]: https://opencollective.com/node-fetch/backers.svg\n[opencollective-url]: https://opencollective.com/node-fetch\n[whatwg-fetch]: https://fetch.spec.whatwg.org/\n[response-init]: https://fetch.spec.whatwg.org/#responseinit\n[node-readable]: https://nodejs.org/api/stream.html#stream_readable_streams\n[mdn-headers]: https://developer.mozilla.org/en-US/docs/Web/API/Headers\n[LIMITS.md]: https://github.com/bitinn/node-fetch/blob/master/LIMITS.md\n[ERROR-HANDLING.md]: https://github.com/bitinn/node-fetch/blob/master/ERROR-HANDLING.md\n[UPGRADE-GUIDE.md]: https://github.com/bitinn/node-fetch/blob/master/UPGRADE-GUIDE.md\n","browser":"./browser.js","module":"lib/index.mjs","readmeFilename":"README.md","gitHead":"f56b0c66d3dd2ef185436de1f2fd40f66bfea8f4","_nodeVersion":"17.0.1","_npmVersion":"8.1.0","_npmUser":{"name":"endless","email":"jimmy@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_2.6.6_1635695353635_0.06752957373806523"},"_hasShrinkwrap":false},"2.6.7":{"_id":"node-fetch@2.6.7","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.6.7","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank","email":"","url":""},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --require babel-register --throw-deprecation test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":null,"devDependencies":{"@ungap/url-search-params":"^0.1.2","abort-controller":"^1.1.0","abortcontroller-polyfill":"^1.3.0","babel-core":"^6.26.3","babel-plugin-istanbul":"^4.1.6","babel-preset-env":"^1.6.1","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"~1.3.0","codecov":"3.3.0","cross-env":"^5.2.0","form-data":"^2.3.3","is-builtin-module":"^1.0.0","mocha":"^5.0.0","nyc":"11.9.0","parted":"^0.1.1","promise":"^8.0.3","resumer":"0.0.0","rollup":"^0.63.4","rollup-plugin-babel":"^3.0.7","string-to-arraybuffer":"^1.0.2","teeny-request":"3.7.0"},"peerDependencies":{"encoding":"^0.1.0"},"dependencies":{"whatwg-url":"^5.0.0"},"engines":{"node":"4.x || >=6.0.0"},"files":["lib/index.js","lib/index.mjs","lib/index.es.js","browser.js"],"main":"lib/index.js","dist":{"shasum":"24de9fba827e3b4ae44dc8b20256a379160052ad","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.6.7.tgz"},"browser":"./browser.js","module":"lib/index.mjs","peerDependenciesMeta":{"encoding":{"optional":true}}},"2.6.8":{"_id":"node-fetch@2.6.8","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.6.8","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank","email":"","url":""},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --require babel-register --throw-deprecation test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":null,"devDependencies":{"@ungap/url-search-params":"^0.1.2","abort-controller":"^1.1.0","abortcontroller-polyfill":"^1.3.0","babel-core":"^6.26.3","babel-plugin-istanbul":"^4.1.6","babel-plugin-transform-async-generator-functions":"^6.24.1","babel-polyfill":"^6.26.0","babel-preset-env":"1.4.0","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"~1.3.0","codecov":"3.3.0","cross-env":"^5.2.0","form-data":"^2.3.3","is-builtin-module":"^1.0.0","mocha":"^5.0.0","nyc":"11.9.0","parted":"^0.1.1","promise":"^8.0.3","resumer":"0.0.0","rollup":"^0.63.4","rollup-plugin-babel":"^3.0.7","string-to-arraybuffer":"^1.0.2","teeny-request":"3.7.0"},"peerDependencies":{"encoding":"^0.1.0"},"dependencies":{"whatwg-url":"^5.0.0"},"engines":{"node":"4.x || >=6.0.0"},"files":["lib/index.js","lib/index.mjs","lib/index.es.js","browser.js"],"main":"lib/index.js","dist":{"shasum":"a68d30b162bc1d8fd71a367e81b997e1f4d4937e","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.6.8.tgz"},"browser":"./browser.js","module":"lib/index.mjs","peerDependenciesMeta":{"encoding":{"optional":true}},"release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]}},"2.6.9":{"_id":"node-fetch@2.6.9","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.6.9","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank","email":"","url":""},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --require babel-register --throw-deprecation test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":null,"devDependencies":{"@ungap/url-search-params":"^0.1.2","abort-controller":"^1.1.0","abortcontroller-polyfill":"^1.3.0","babel-core":"^6.26.3","babel-plugin-istanbul":"^4.1.6","babel-plugin-transform-async-generator-functions":"^6.24.1","babel-polyfill":"^6.26.0","babel-preset-env":"1.4.0","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"~1.3.0","codecov":"3.3.0","cross-env":"^5.2.0","form-data":"^2.3.3","is-builtin-module":"^1.0.0","mocha":"^5.0.0","nyc":"11.9.0","parted":"^0.1.1","promise":"^8.0.3","resumer":"0.0.0","rollup":"^0.63.4","rollup-plugin-babel":"^3.0.7","string-to-arraybuffer":"^1.0.2","teeny-request":"3.7.0"},"peerDependencies":{"encoding":"^0.1.0"},"dependencies":{"whatwg-url":"^5.0.0"},"engines":{"node":"4.x || >=6.0.0"},"files":["lib/index.js","lib/index.mjs","lib/index.es.js","browser.js"],"main":"lib/index.js","dist":{"shasum":"7c7f744b5cc6eb5fd404e0c7a9fec630a55657e6","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.6.9.tgz"},"browser":"./browser.js","module":"lib/index.mjs","peerDependenciesMeta":{"encoding":{"optional":true}},"release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]}},"2.6.10":{"_id":"node-fetch@2.6.10","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.6.10","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --require babel-register --throw-deprecation test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":{},"devDependencies":{"@ungap/url-search-params":"^0.1.2","abort-controller":"^1.1.0","abortcontroller-polyfill":"^1.3.0","babel-core":"^6.26.3","babel-plugin-istanbul":"^4.1.6","babel-plugin-transform-async-generator-functions":"^6.24.1","babel-polyfill":"^6.26.0","babel-preset-env":"1.4.0","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"~1.3.0","codecov":"3.3.0","cross-env":"^5.2.0","form-data":"^2.3.3","is-builtin-module":"^1.0.0","mocha":"^5.0.0","nyc":"11.9.0","parted":"^0.1.1","promise":"^8.0.3","resumer":"0.0.0","rollup":"^0.63.4","rollup-plugin-babel":"^3.0.7","string-to-arraybuffer":"^1.0.2","teeny-request":"3.7.0"},"peerDependencies":{"encoding":"^0.1.0"},"dependencies":{"whatwg-url":"^5.0.0"},"engines":{"node":"4.x || >=6.0.0"},"main":"lib/index.js","dist":{"shasum":"4a52b637a6802092aa11a3bf73d19aac789fdce1","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.6.10.tgz"},"readme":"node-fetch\n==========\n\n[![npm version][npm-image]][npm-url]\n[![build status][travis-image]][travis-url]\n[![coverage status][codecov-image]][codecov-url]\n[![install size][install-size-image]][install-size-url]\n[![Discord][discord-image]][discord-url]\n\nA light-weight module that brings `window.fetch` to Node.js\n\n(We are looking for [v2 maintainers and collaborators](https://github.com/bitinn/node-fetch/issues/567))\n\n[![Backers][opencollective-image]][opencollective-url]\n\n<!-- TOC -->\n\n- [Motivation](#motivation)\n- [Features](#features)\n- [Difference from client-side fetch](#difference-from-client-side-fetch)\n- [Installation](#installation)\n- [Loading and configuring the module](#loading-and-configuring-the-module)\n- [Common Usage](#common-usage)\n    - [Plain text or HTML](#plain-text-or-html)\n    - [JSON](#json)\n    - [Simple Post](#simple-post)\n    - [Post with JSON](#post-with-json)\n    - [Post with form parameters](#post-with-form-parameters)\n    - [Handling exceptions](#handling-exceptions)\n    - [Handling client and server errors](#handling-client-and-server-errors)\n- [Advanced Usage](#advanced-usage)\n    - [Streams](#streams)\n    - [Buffer](#buffer)\n    - [Accessing Headers and other Meta data](#accessing-headers-and-other-meta-data)\n    - [Extract Set-Cookie Header](#extract-set-cookie-header)\n    - [Post data using a file stream](#post-data-using-a-file-stream)\n    - [Post with form-data (detect multipart)](#post-with-form-data-detect-multipart)\n    - [Request cancellation with AbortSignal](#request-cancellation-with-abortsignal)\n- [API](#api)\n    - [fetch(url[, options])](#fetchurl-options)\n    - [Options](#options)\n    - [Class: Request](#class-request)\n    - [Class: Response](#class-response)\n    - [Class: Headers](#class-headers)\n    - [Interface: Body](#interface-body)\n    - [Class: FetchError](#class-fetcherror)\n- [License](#license)\n- [Acknowledgement](#acknowledgement)\n\n<!-- /TOC -->\n\n## Motivation\n\nInstead of implementing `XMLHttpRequest` in Node.js to run browser-specific [Fetch polyfill](https://github.com/github/fetch), why not go from native `http` to `fetch` API directly? Hence, `node-fetch`, minimal code for a `window.fetch` compatible API on Node.js runtime.\n\nSee Matt Andrews' [isomorphic-fetch](https://github.com/matthew-andrews/isomorphic-fetch) or Leonardo Quixada's [cross-fetch](https://github.com/lquixada/cross-fetch) for isomorphic usage (exports `node-fetch` for server-side, `whatwg-fetch` for client-side).\n\n## Features\n\n- Stay consistent with `window.fetch` API.\n- Make conscious trade-off when following [WHATWG fetch spec][whatwg-fetch] and [stream spec](https://streams.spec.whatwg.org/) implementation details, document known differences.\n- Use native promise but allow substituting it with [insert your favorite promise library].\n- Use native Node streams for body on both request and response.\n- Decode content encoding (gzip/deflate) properly and convert string output (such as `res.text()` and `res.json()`) to UTF-8 automatically.\n- Useful extensions such as timeout, redirect limit, response size limit, [explicit errors](ERROR-HANDLING.md) for troubleshooting.\n\n## Difference from client-side fetch\n\n- See [Known Differences](LIMITS.md) for details.\n- If you happen to use a missing feature that `window.fetch` offers, feel free to open an issue.\n- Pull requests are welcomed too!\n\n## Installation\n\nCurrent stable release (`2.x`)\n\n```sh\n$ npm install node-fetch\n```\n\n## Loading and configuring the module\nWe suggest you load the module via `require` until the stabilization of ES modules in node:\n```js\nconst fetch = require('node-fetch');\n```\n\nIf you are using a Promise library other than native, set it through `fetch.Promise`:\n```js\nconst Bluebird = require('bluebird');\n\nfetch.Promise = Bluebird;\n```\n\n## Common Usage\n\nNOTE: The documentation below is up-to-date with `2.x` releases; see the [`1.x` readme](https://github.com/bitinn/node-fetch/blob/1.x/README.md), [changelog](https://github.com/bitinn/node-fetch/blob/1.x/CHANGELOG.md) and [2.x upgrade guide](UPGRADE-GUIDE.md) for the differences.\n\n#### Plain text or HTML\n```js\nfetch('https://github.com/')\n    .then(res => res.text())\n    .then(body => console.log(body));\n```\n\n#### JSON\n\n```js\n\nfetch('https://api.github.com/users/github')\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Simple Post\n```js\nfetch('https://httpbin.org/post', { method: 'POST', body: 'a=1' })\n    .then(res => res.json()) // expecting a json response\n    .then(json => console.log(json));\n```\n\n#### Post with JSON\n\n```js\nconst body = { a: 1 };\n\nfetch('https://httpbin.org/post', {\n        method: 'post',\n        body:    JSON.stringify(body),\n        headers: { 'Content-Type': 'application/json' },\n    })\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Post with form parameters\n`URLSearchParams` is available in Node.js as of v7.5.0. See [official documentation](https://nodejs.org/api/url.html#url_class_urlsearchparams) for more usage methods.\n\nNOTE: The `Content-Type` header is only set automatically to `x-www-form-urlencoded` when an instance of `URLSearchParams` is given as such:\n\n```js\nconst { URLSearchParams } = require('url');\n\nconst params = new URLSearchParams();\nparams.append('a', 1);\n\nfetch('https://httpbin.org/post', { method: 'POST', body: params })\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Handling exceptions\nNOTE: 3xx-5xx responses are *NOT* exceptions and should be handled in `then()`; see the next section for more information.\n\nAdding a catch to the fetch promise chain will catch *all* exceptions, such as errors originating from node core libraries, network errors and operational errors, which are instances of FetchError. See the [error handling document](ERROR-HANDLING.md)  for more details.\n\n```js\nfetch('https://domain.invalid/')\n    .catch(err => console.error(err));\n```\n\n#### Handling client and server errors\nIt is common to create a helper function to check that the response contains no client (4xx) or server (5xx) error responses:\n\n```js\nfunction checkStatus(res) {\n    if (res.ok) { // res.status >= 200 && res.status < 300\n        return res;\n    } else {\n        throw MyCustomError(res.statusText);\n    }\n}\n\nfetch('https://httpbin.org/status/400')\n    .then(checkStatus)\n    .then(res => console.log('will not get here...'))\n```\n\n## Advanced Usage\n\n#### Streams\nThe \"Node.js way\" is to use streams when possible:\n\n```js\nfetch('https://assets-cdn.github.com/images/modules/logos_page/Octocat.png')\n    .then(res => {\n        const dest = fs.createWriteStream('./octocat.png');\n        res.body.pipe(dest);\n    });\n```\n\nIn Node.js 14 you can also use async iterators to read `body`; however, be careful to catch\nerrors -- the longer a response runs, the more likely it is to encounter an error.\n\n```js\nconst fetch = require('node-fetch');\nconst response = await fetch('https://httpbin.org/stream/3');\ntry {\n\tfor await (const chunk of response.body) {\n\t\tconsole.dir(JSON.parse(chunk.toString()));\n\t}\n} catch (err) {\n\tconsole.error(err.stack);\n}\n```\n\nIn Node.js 12 you can also use async iterators to read `body`; however, async iterators with streams\ndid not mature until Node.js 14, so you need to do some extra work to ensure you handle errors\ndirectly from the stream and wait on it response to fully close.\n\n```js\nconst fetch = require('node-fetch');\nconst read = async body => {\n    let error;\n    body.on('error', err => {\n        error = err;\n    });\n    for await (const chunk of body) {\n        console.dir(JSON.parse(chunk.toString()));\n    }\n    return new Promise((resolve, reject) => {\n        body.on('close', () => {\n            error ? reject(error) : resolve();\n        });\n    });\n};\ntry {\n    const response = await fetch('https://httpbin.org/stream/3');\n    await read(response.body);\n} catch (err) {\n    console.error(err.stack);\n}\n```\n\n#### Buffer\nIf you prefer to cache binary data in full, use buffer(). (NOTE: `buffer()` is a `node-fetch`-only API)\n\n```js\nconst fileType = require('file-type');\n\nfetch('https://assets-cdn.github.com/images/modules/logos_page/Octocat.png')\n    .then(res => res.buffer())\n    .then(buffer => fileType(buffer))\n    .then(type => { /* ... */ });\n```\n\n#### Accessing Headers and other Meta data\n```js\nfetch('https://github.com/')\n    .then(res => {\n        console.log(res.ok);\n        console.log(res.status);\n        console.log(res.statusText);\n        console.log(res.headers.raw());\n        console.log(res.headers.get('content-type'));\n    });\n```\n\n#### Extract Set-Cookie Header\n\nUnlike browsers, you can access raw `Set-Cookie` headers manually using `Headers.raw()`. This is a `node-fetch` only API.\n\n```js\nfetch(url).then(res => {\n    // returns an array of values, instead of a string of comma-separated values\n    console.log(res.headers.raw()['set-cookie']);\n});\n```\n\n#### Post data using a file stream\n\n```js\nconst { createReadStream } = require('fs');\n\nconst stream = createReadStream('input.txt');\n\nfetch('https://httpbin.org/post', { method: 'POST', body: stream })\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Post with form-data (detect multipart)\n\n```js\nconst FormData = require('form-data');\n\nconst form = new FormData();\nform.append('a', 1);\n\nfetch('https://httpbin.org/post', { method: 'POST', body: form })\n    .then(res => res.json())\n    .then(json => console.log(json));\n\n// OR, using custom headers\n// NOTE: getHeaders() is non-standard API\n\nconst form = new FormData();\nform.append('a', 1);\n\nconst options = {\n    method: 'POST',\n    body: form,\n    headers: form.getHeaders()\n}\n\nfetch('https://httpbin.org/post', options)\n    .then(res => res.json())\n    .then(json => console.log(json));\n```\n\n#### Request cancellation with AbortSignal\n\n> NOTE: You may cancel streamed requests only on Node >= v8.0.0\n\nYou may cancel requests with `AbortController`. A suggested implementation is [`abort-controller`](https://www.npmjs.com/package/abort-controller).\n\nAn example of timing out a request after 150ms could be achieved as the following:\n\n```js\nimport AbortController from 'abort-controller';\n\nconst controller = new AbortController();\nconst timeout = setTimeout(\n  () => { controller.abort(); },\n  150,\n);\n\nfetch(url, { signal: controller.signal })\n  .then(res => res.json())\n  .then(\n    data => {\n      useData(data)\n    },\n    err => {\n      if (err.name === 'AbortError') {\n        // request was aborted\n      }\n    },\n  )\n  .finally(() => {\n    clearTimeout(timeout);\n  });\n```\n\nSee [test cases](https://github.com/bitinn/node-fetch/blob/master/test/test.js) for more examples.\n\n\n## API\n\n### fetch(url[, options])\n\n- `url` A string representing the URL for fetching\n- `options` [Options](#fetch-options) for the HTTP(S) request\n- Returns: <code>Promise&lt;[Response](#class-response)&gt;</code>\n\nPerform an HTTP(S) fetch.\n\n`url` should be an absolute url, such as `https://example.com/`. A path-relative URL (`/file/under/root`) or protocol-relative URL (`//can-be-http-or-https.com/`) will result in a rejected `Promise`.\n\n<a id=\"fetch-options\"></a>\n### Options\n\nThe default values are shown after each option key.\n\n```js\n{\n    // These properties are part of the Fetch Standard\n    method: 'GET',\n    headers: {},        // request headers. format is the identical to that accepted by the Headers constructor (see below)\n    body: null,         // request body. can be null, a string, a Buffer, a Blob, or a Node.js Readable stream\n    redirect: 'follow', // set to `manual` to extract redirect headers, `error` to reject redirect\n    signal: null,       // pass an instance of AbortSignal to optionally abort requests\n\n    // The following properties are node-fetch extensions\n    follow: 20,         // maximum redirect count. 0 to not follow redirect\n    timeout: 0,         // req/res timeout in ms, it resets on redirect. 0 to disable (OS limit applies). Signal is recommended instead.\n    compress: true,     // support gzip/deflate content encoding. false to disable\n    size: 0,            // maximum response body size in bytes. 0 to disable\n    agent: null         // http(s).Agent instance or function that returns an instance (see below)\n}\n```\n\n##### Default Headers\n\nIf no values are set, the following request headers will be sent automatically:\n\nHeader              | Value\n------------------- | --------------------------------------------------------\n`Accept-Encoding`   | `gzip,deflate` _(when `options.compress === true`)_\n`Accept`            | `*/*`\n`Connection`        | `close` _(when no `options.agent` is present)_\n`Content-Length`    | _(automatically calculated, if possible)_\n`Transfer-Encoding` | `chunked` _(when `req.body` is a stream)_\n`User-Agent`        | `node-fetch/1.0 (+https://github.com/bitinn/node-fetch)`\n\nNote: when `body` is a `Stream`, `Content-Length` is not set automatically.\n\n##### Custom Agent\n\nThe `agent` option allows you to specify networking related options which are out of the scope of Fetch, including and not limited to the following:\n\n- Support self-signed certificate\n- Use only IPv4 or IPv6\n- Custom DNS Lookup\n\nSee [`http.Agent`](https://nodejs.org/api/http.html#http_new_agent_options) for more information.\n\nIn addition, the `agent` option accepts a function that returns `http`(s)`.Agent` instance given current [URL](https://nodejs.org/api/url.html), this is useful during a redirection chain across HTTP and HTTPS protocol.\n\n```js\nconst httpAgent = new http.Agent({\n    keepAlive: true\n});\nconst httpsAgent = new https.Agent({\n    keepAlive: true\n});\n\nconst options = {\n    agent: function (_parsedURL) {\n        if (_parsedURL.protocol == 'http:') {\n            return httpAgent;\n        } else {\n            return httpsAgent;\n        }\n    }\n}\n```\n\n<a id=\"class-request\"></a>\n### Class: Request\n\nAn HTTP(S) request containing information about URL, method, headers, and the body. This class implements the [Body](#iface-body) interface.\n\nDue to the nature of Node.js, the following properties are not implemented at this moment:\n\n- `type`\n- `destination`\n- `referrer`\n- `referrerPolicy`\n- `mode`\n- `credentials`\n- `cache`\n- `integrity`\n- `keepalive`\n\nThe following node-fetch extension properties are provided:\n\n- `follow`\n- `compress`\n- `counter`\n- `agent`\n\nSee [options](#fetch-options) for exact meaning of these extensions.\n\n#### new Request(input[, options])\n\n<small>*(spec-compliant)*</small>\n\n- `input` A string representing a URL, or another `Request` (which will be cloned)\n- `options` [Options][#fetch-options] for the HTTP(S) request\n\nConstructs a new `Request` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Request/Request).\n\nIn most cases, directly `fetch(url, options)` is simpler than creating a `Request` object.\n\n<a id=\"class-response\"></a>\n### Class: Response\n\nAn HTTP(S) response. This class implements the [Body](#iface-body) interface.\n\nThe following properties are not implemented in node-fetch at this moment:\n\n- `Response.error()`\n- `Response.redirect()`\n- `type`\n- `trailer`\n\n#### new Response([body[, options]])\n\n<small>*(spec-compliant)*</small>\n\n- `body` A `String` or [`Readable` stream][node-readable]\n- `options` A [`ResponseInit`][response-init] options dictionary\n\nConstructs a new `Response` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Response/Response).\n\nBecause Node.js does not implement service workers (for which this class was designed), one rarely has to construct a `Response` directly.\n\n#### response.ok\n\n<small>*(spec-compliant)*</small>\n\nConvenience property representing if the request ended normally. Will evaluate to true if the response status was greater than or equal to 200 but smaller than 300.\n\n#### response.redirected\n\n<small>*(spec-compliant)*</small>\n\nConvenience property representing if the request has been redirected at least once. Will evaluate to true if the internal redirect counter is greater than 0.\n\n<a id=\"class-headers\"></a>\n### Class: Headers\n\nThis class allows manipulating and iterating over a set of HTTP headers. All methods specified in the [Fetch Standard][whatwg-fetch] are implemented.\n\n#### new Headers([init])\n\n<small>*(spec-compliant)*</small>\n\n- `init` Optional argument to pre-fill the `Headers` object\n\nConstruct a new `Headers` object. `init` can be either `null`, a `Headers` object, an key-value map object or any iterable object.\n\n```js\n// Example adapted from https://fetch.spec.whatwg.org/#example-headers-class\n\nconst meta = {\n  'Content-Type': 'text/xml',\n  'Breaking-Bad': '<3'\n};\nconst headers = new Headers(meta);\n\n// The above is equivalent to\nconst meta = [\n  [ 'Content-Type', 'text/xml' ],\n  [ 'Breaking-Bad', '<3' ]\n];\nconst headers = new Headers(meta);\n\n// You can in fact use any iterable objects, like a Map or even another Headers\nconst meta = new Map();\nmeta.set('Content-Type', 'text/xml');\nmeta.set('Breaking-Bad', '<3');\nconst headers = new Headers(meta);\nconst copyOfHeaders = new Headers(headers);\n```\n\n<a id=\"iface-body\"></a>\n### Interface: Body\n\n`Body` is an abstract interface with methods that are applicable to both `Request` and `Response` classes.\n\nThe following methods are not yet implemented in node-fetch at this moment:\n\n- `formData()`\n\n#### body.body\n\n<small>*(deviation from spec)*</small>\n\n* Node.js [`Readable` stream][node-readable]\n\nData are encapsulated in the `Body` object. Note that while the [Fetch Standard][whatwg-fetch] requires the property to always be a WHATWG `ReadableStream`, in node-fetch it is a Node.js [`Readable` stream][node-readable].\n\n#### body.bodyUsed\n\n<small>*(spec-compliant)*</small>\n\n* `Boolean`\n\nA boolean property for if this body has been consumed. Per the specs, a consumed body cannot be used again.\n\n#### body.arrayBuffer()\n#### body.blob()\n#### body.json()\n#### body.text()\n\n<small>*(spec-compliant)*</small>\n\n* Returns: <code>Promise</code>\n\nConsume the body and return a promise that will resolve to one of these formats.\n\n#### body.buffer()\n\n<small>*(node-fetch extension)*</small>\n\n* Returns: <code>Promise&lt;Buffer&gt;</code>\n\nConsume the body and return a promise that will resolve to a Buffer.\n\n#### body.textConverted()\n\n<small>*(node-fetch extension)*</small>\n\n* Returns: <code>Promise&lt;String&gt;</code>\n\nIdentical to `body.text()`, except instead of always converting to UTF-8, encoding sniffing will be performed and text converted to UTF-8 if possible.\n\n(This API requires an optional dependency of the npm package [encoding](https://www.npmjs.com/package/encoding), which you need to install manually. `webpack` users may see [a warning message](https://github.com/bitinn/node-fetch/issues/412#issuecomment-379007792) due to this optional dependency.)\n\n<a id=\"class-fetcherror\"></a>\n### Class: FetchError\n\n<small>*(node-fetch extension)*</small>\n\nAn operational error in the fetching process. See [ERROR-HANDLING.md][] for more info.\n\n<a id=\"class-aborterror\"></a>\n### Class: AbortError\n\n<small>*(node-fetch extension)*</small>\n\nAn Error thrown when the request is aborted in response to an `AbortSignal`'s `abort` event. It has a `name` property of `AbortError`. See [ERROR-HANDLING.MD][] for more info.\n\n## Acknowledgement\n\nThanks to [github/fetch](https://github.com/github/fetch) for providing a solid implementation reference.\n\n`node-fetch` v1 was maintained by [@bitinn](https://github.com/bitinn); v2 was maintained by [@TimothyGu](https://github.com/timothygu), [@bitinn](https://github.com/bitinn) and [@jimmywarting](https://github.com/jimmywarting); v2 readme is written by [@jkantr](https://github.com/jkantr).\n\n## License\n\nMIT\n\n[npm-image]: https://flat.badgen.net/npm/v/node-fetch\n[npm-url]: https://www.npmjs.com/package/node-fetch\n[travis-image]: https://flat.badgen.net/travis/bitinn/node-fetch\n[travis-url]: https://travis-ci.org/bitinn/node-fetch\n[codecov-image]: https://flat.badgen.net/codecov/c/github/bitinn/node-fetch/master\n[codecov-url]: https://codecov.io/gh/bitinn/node-fetch\n[install-size-image]: https://flat.badgen.net/packagephobia/install/node-fetch\n[install-size-url]: https://packagephobia.now.sh/result?p=node-fetch\n[discord-image]: https://img.shields.io/discord/619915844268326952?color=%237289DA&label=Discord&style=flat-square\n[discord-url]: https://discord.gg/Zxbndcm\n[opencollective-image]: https://opencollective.com/node-fetch/backers.svg\n[opencollective-url]: https://opencollective.com/node-fetch\n[whatwg-fetch]: https://fetch.spec.whatwg.org/\n[response-init]: https://fetch.spec.whatwg.org/#responseinit\n[node-readable]: https://nodejs.org/api/stream.html#stream_readable_streams\n[mdn-headers]: https://developer.mozilla.org/en-US/docs/Web/API/Headers\n[LIMITS.md]: https://github.com/bitinn/node-fetch/blob/master/LIMITS.md\n[ERROR-HANDLING.md]: https://github.com/bitinn/node-fetch/blob/master/ERROR-HANDLING.md\n[UPGRADE-GUIDE.md]: https://github.com/bitinn/node-fetch/blob/master/UPGRADE-GUIDE.md\n","browser":"./browser.js","module":"lib/index.mjs","peerDependenciesMeta":{"encoding":{"optional":true}},"release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]},"readmeFilename":"README.md","gitHead":"29909d75c62d51e0d1c23758e526dba74bfd463d","_nodeVersion":"18.16.0","_npmVersion":"9.5.1","_npmUser":{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"},{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_2.6.10_1683562845752_0.7054914892922528"},"_hasShrinkwrap":false},"2.6.11":{"_id":"node-fetch@2.6.11","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.6.11","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank","email":"","url":""},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --require babel-register --throw-deprecation test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":null,"devDependencies":{"@ungap/url-search-params":"^0.1.2","abort-controller":"^1.1.0","abortcontroller-polyfill":"^1.3.0","babel-core":"^6.26.3","babel-plugin-istanbul":"^4.1.6","babel-plugin-transform-async-generator-functions":"^6.24.1","babel-polyfill":"^6.26.0","babel-preset-env":"1.4.0","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"~1.3.0","codecov":"3.3.0","cross-env":"^5.2.0","form-data":"^2.3.3","is-builtin-module":"^1.0.0","mocha":"^5.0.0","nyc":"11.9.0","parted":"^0.1.1","promise":"^8.0.3","resumer":"0.0.0","rollup":"^0.63.4","rollup-plugin-babel":"^3.0.7","string-to-arraybuffer":"^1.0.2","teeny-request":"3.7.0"},"peerDependencies":{"encoding":"^0.1.0"},"dependencies":{"whatwg-url":"^5.0.0"},"engines":{"node":"4.x || >=6.0.0"},"files":["lib/index.js","lib/index.mjs","lib/index.es.js","browser.js"],"main":"lib/index.js","dist":{"shasum":"cde7fc71deef3131ef80a738919f999e6edfff25","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.6.11.tgz"},"browser":"./browser.js","module":"lib/index.mjs","peerDependenciesMeta":{"encoding":{"optional":true}},"release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]}},"2.6.12":{"_id":"node-fetch@2.6.12","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.6.12","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank","email":"","url":""},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --require babel-register --throw-deprecation test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":null,"devDependencies":{"@ungap/url-search-params":"^0.1.2","abort-controller":"^1.1.0","abortcontroller-polyfill":"^1.3.0","babel-core":"^6.26.3","babel-plugin-istanbul":"^4.1.6","babel-plugin-transform-async-generator-functions":"^6.24.1","babel-polyfill":"^6.26.0","babel-preset-env":"1.4.0","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"~1.3.0","codecov":"3.3.0","cross-env":"^5.2.0","form-data":"^2.3.3","is-builtin-module":"^1.0.0","mocha":"^5.0.0","nyc":"11.9.0","parted":"^0.1.1","promise":"^8.0.3","resumer":"0.0.0","rollup":"^0.63.4","rollup-plugin-babel":"^3.0.7","string-to-arraybuffer":"^1.0.2","teeny-request":"3.7.0"},"peerDependencies":{"encoding":"^0.1.0"},"dependencies":{"whatwg-url":"^5.0.0"},"engines":{"node":"4.x || >=6.0.0"},"files":["lib/index.js","lib/index.mjs","lib/index.es.js","browser.js"],"main":"lib/index.js","dist":{"shasum":"02eb8e22074018e3d5a83016649d04df0e348fba","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.6.12.tgz"},"browser":"./browser.js","module":"lib/index.mjs","peerDependenciesMeta":{"encoding":{"optional":true}},"release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]}},"2.6.13":{"_id":"node-fetch@2.6.13","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.6.13","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank","email":"","url":""},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --require babel-register --throw-deprecation test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":null,"devDependencies":{"@ungap/url-search-params":"^0.1.2","abort-controller":"^1.1.0","abortcontroller-polyfill":"^1.3.0","babel-core":"^6.26.3","babel-plugin-istanbul":"^4.1.6","babel-plugin-transform-async-generator-functions":"^6.24.1","babel-polyfill":"^6.26.0","babel-preset-env":"1.4.0","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"~1.3.0","codecov":"3.3.0","cross-env":"^5.2.0","form-data":"^2.3.3","is-builtin-module":"^1.0.0","mocha":"^5.0.0","nyc":"11.9.0","parted":"^0.1.1","promise":"^8.0.3","resumer":"0.0.0","rollup":"^0.63.4","rollup-plugin-babel":"^3.0.7","string-to-arraybuffer":"^1.0.2","teeny-request":"3.7.0"},"peerDependencies":{"encoding":"^0.1.0"},"dependencies":{"whatwg-url":"^5.0.0"},"engines":{"node":"4.x || >=6.0.0"},"files":["lib/index.js","lib/index.mjs","lib/index.es.js","browser.js"],"main":"lib/index.js","dist":{"shasum":"a20acbbec73c2e09f9007de5cda17104122e0010","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.6.13.tgz"},"browser":"./browser.js","module":"lib/index.mjs","peerDependenciesMeta":{"encoding":{"optional":true}},"release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]}},"2.7.0":{"_id":"node-fetch@2.7.0","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"2.7.0","keywords":["fetch","http","promise"],"homepage":"https://github.com/bitinn/node-fetch","author":{"name":"David Frank","email":"","url":""},"repository":{"type":"git","url":"https://github.com/bitinn/node-fetch.git"},"bugs":{"url":"https://github.com/bitinn/node-fetch/issues"},"license":"MIT","scripts":{"build":"cross-env BABEL_ENV=rollup rollup -c","prepare":"npm run build","test":"cross-env BABEL_ENV=test mocha --require babel-register --throw-deprecation test/test.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/test.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/test.js && codecov -f coverage/coverage-final.json"},"directories":null,"devDependencies":{"@ungap/url-search-params":"^0.1.2","abort-controller":"^1.1.0","abortcontroller-polyfill":"^1.3.0","babel-core":"^6.26.3","babel-plugin-istanbul":"^4.1.6","babel-plugin-transform-async-generator-functions":"^6.24.1","babel-polyfill":"^6.26.0","babel-preset-env":"1.4.0","babel-register":"^6.16.3","chai":"^3.5.0","chai-as-promised":"^7.1.1","chai-iterator":"^1.1.1","chai-string":"~1.3.0","codecov":"3.3.0","cross-env":"^5.2.0","form-data":"^2.3.3","is-builtin-module":"^1.0.0","mocha":"^5.0.0","nyc":"11.9.0","parted":"^0.1.1","promise":"^8.0.3","resumer":"0.0.0","rollup":"^0.63.4","rollup-plugin-babel":"^3.0.7","string-to-arraybuffer":"^1.0.2","teeny-request":"3.7.0"},"peerDependencies":{"encoding":"^0.1.0"},"dependencies":{"whatwg-url":"^5.0.0"},"engines":{"node":"4.x || >=6.0.0"},"files":["lib/index.js","lib/index.mjs","lib/index.es.js","browser.js"],"main":"lib/index.js","dist":{"shasum":"d0f0fa6e3e2dc1d27efcd8ad99d550bda94d187d","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-2.7.0.tgz"},"browser":"./browser.js","module":"lib/index.mjs","peerDependenciesMeta":{"encoding":{"optional":true}},"release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]}},"3.0.0-beta.1":{"_id":"node-fetch@3.0.0-beta.1","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"3.0.0-beta.1","keywords":["fetch","http","promise"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"build":"pika-pack --out dist/","prepare":"npm run build","prepublishOnly":"npm run build","test":"cross-env BABEL_ENV=test mocha --require @babel/register --throw-deprecation test/*.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/*.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/*.js && codecov -f coverage/coverage-final.json","lint":"xo"},"directories":{},"devDependencies":{"@babel/core":"^7.8.7","@babel/preset-env":"^7.8.7","@babel/register":"^7.8.6","@pika/pack":"^0.5.0","@pika/plugin-build-node":"^0.9.2","@pika/plugin-build-types":"^0.9.2","@pika/plugin-copy-assets":"^0.9.2","@pika/plugin-standard-pkg":"^0.9.2","abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.4.0","chai":"^4.2.0","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","codecov":"^3.6.5","cross-env":"^7.0.2","form-data":"^3.0.0","mocha":"^7.1.0","nyc":"^15.0.0","parted":"^0.1.1","promise":"^8.1.0","resumer":"0.0.0","string-to-arraybuffer":"^1.0.2","xo":"^0.28.0"},"dependencies":{"data-uri-to-buffer":"^3.0.0","fetch-blob":"^1.0.5"},"engines":{"node":">=10.0.0"},"main":"dist/index.js","dist":{"shasum":"7664c0c7031a1c8a296395ee964b613b2ff82485","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.0.0-beta.1.tgz"},"readme":"<div align=\"center\">\n  \t<img src=\"docs/media/Banner.svg\" alt=\"Node Fetch\"/>\n  \t<br>\n  \t<p>A light-weight module that brings <code>window.fetch</code> to Node.js.</p>\n\t<a href=\"https://travis-ci.com/node-fetch/node-fetch\"><img src=\"https://img.shields.io/travis/com/node-fetch/node-fetch/master?style=flat-square\" alt=\"Build status\"></a>\n\t<a href=\"https://codecov.io/gh/node-fetch/node-fetch\"><img src=\"https://img.shields.io/codecov/c/gh/node-fetch/node-fetch/master?style=flat-square\" alt=\"Coverage status\"></a>\n\t<a href=\"https://packagephobia.now.sh/result?p=node-fetch\"><img src=\"https://flat.badgen.net/packagephobia/install/node-fetch\" alt=\"Current version\"></a>\n\t<a href=\"https://www.npmjs.com/package/node-fetch\"><img src=\"https://img.shields.io/npm/v/node-fetch?style=flat-square\" alt=\"Install size\"></a>\n\t<a href=\"https://github.com/sindresorhus/awesome-nodejs\"><img src=\"https://awesome.re/mentioned-badge-flat.svg\" alt=\"Mentioned in Awesome Node.js\"></a>\n\t<a href=\"https://discord.gg/Zxbndcm\"><img src=\"https://img.shields.io/discord/619915844268326952?color=%237289DA&label=Discord&style=flat-square\" alt=\"Discord\"></a>\n\t<br>\n\t<br>\n\t<b>Consider supporting us on our Open Collective:</b>\n\t<br>\n\t<br>\n\t<a href=\"https://opencollective.com/node-fetch\"><img src=\"https://opencollective.com/node-fetch/donate/button.png?color=blue\" alt=\"Open Collective\"></a>\n</div>\n\n---\n\n[![Backers][opencollective-image]][opencollective-url]\n\n<!-- TOC -->\n\n- [Motivation](#motivation)\n- [Features](#features)\n- [Difference from client-side fetch](#difference-from-client-side-fetch)\n- [Installation](#installation)\n- [Loading and configuring the module](#loading-and-configuring-the-module)\n- [Upgrading](#upgrading)\n- [Common Usage](#common-usage)\n    - [Plain text or HTML](#plain-text-or-html)\n    - [JSON](#json)\n    - [Simple Post](#simple-post)\n    - [Post with JSON](#post-with-json)\n    - [Post with form parameters](#post-with-form-parameters)\n    - [Handling exceptions](#handling-exceptions)\n    - [Handling client and server errors](#handling-client-and-server-errors)\n- [Advanced Usage](#advanced-usage)\n    - [Streams](#streams)\n    - [Buffer](#buffer)\n    - [Accessing Headers and other Meta data](#accessing-headers-and-other-meta-data)\n    - [Extract Set-Cookie Header](#extract-set-cookie-header)\n    - [Post data using a file stream](#post-data-using-a-file-stream)\n    - [Post with form-data (detect multipart)](#post-with-form-data-detect-multipart)\n    - [Request cancellation with AbortSignal](#request-cancellation-with-abortsignal)\n- [API](#api)\n    - [fetch(url[, options])](#fetchurl-options)\n    - [Options](#options)\n        - [Default Headers](#default-headers)\n        - [Custom Agent](#custom-agent)\n        - [Custom highWaterMark](#custom-highwatermark)\n    - [Class: Request](#class-request)\n        - [new Request(input[, options])](#new-requestinput-options)\n    - [Class: Response](#class-response)\n        - [new Response([body[, options]])](#new-responsebody-options)\n        - [response.ok](#responseok)\n        - [response.redirected](#responseredirected)\n    - [Class: Headers](#class-headers)\n        - [new Headers([init])](#new-headersinit)\n    - [Interface: Body](#interface-body)\n        - [body.body](#bodybody)\n        - [body.bodyUsed](#bodybodyused)\n        - [body.arrayBuffer()](#bodyarraybuffer)\n        - [body.blob()](#bodyblob)\n        - [body.json()](#bodyjson)\n        - [body.text()](#bodytext)\n        - [body.buffer()](#bodybuffer)\n    - [Class: FetchError](#class-fetcherror)\n    - [Class: AbortError](#class-aborterror)\n- [TypeScript](#typescript)\n- [Acknowledgement](#acknowledgement)\n- [Team](#team)\n                - [Former](#former)\n- [License](#license)\n\n<!-- /TOC -->\n\n## Motivation\n\nInstead of implementing `XMLHttpRequest` in Node.js to run browser-specific [Fetch polyfill](https://github.com/github/fetch), why not go from native `http` to `fetch` API directly? Hence, `node-fetch`, minimal code for a `window.fetch` compatible API on Node.js runtime.\n\nSee Matt Andrews' [isomorphic-fetch](https://github.com/matthew-andrews/isomorphic-fetch) or Leonardo Quixada's [cross-fetch](https://github.com/lquixada/cross-fetch) for isomorphic usage (exports `node-fetch` for server-side, `whatwg-fetch` for client-side).\n\n## Features\n\n- Stay consistent with `window.fetch` API.\n- Make conscious trade-off when following [WHATWG fetch spec][whatwg-fetch] and [stream spec](https://streams.spec.whatwg.org/) implementation details, document known differences.\n- Use native promise, but allow substituting it with [insert your favorite promise library].\n- Use native Node streams for body, on both request and response.\n- Decode content encoding (gzip/deflate) properly, and convert string output (such as `res.text()` and `res.json()`) to UTF-8 automatically.\n- Useful extensions such as timeout, redirect limit, response size limit, [explicit errors][error-handling.md] for troubleshooting.\n\n## Difference from client-side fetch\n\n- See known differences:\n\t- [As of v3.x](docs/v3-LIMITS.md)\n\t- [As of v2.x](docs/v2-LIMITS.md)\n- If you happen to use a missing feature that `window.fetch` offers, feel free to open an issue.\n- Pull requests are welcomed too!\n\n## Installation\n\nCurrent stable release (`3.x`)\n\n```sh\n$ npm install node-fetch\n```\n\n## Loading and configuring the module\n\n```js\n// CommonJS\nconst fetch = require('node-fetch');\n\n// ES Module\nimport fetch from 'node-fetch';\n```\n\nIf you are using a Promise library other than native, set it through `fetch.Promise`:\n\n```js\nconst fetch = require('node-fetch');\nconst Bluebird = require('bluebird');\n\nfetch.Promise = Bluebird;\n```\n\nIf you want to patch the global object in node:\n\n```js\nconst fetch = require('node-fetch');\n\nif (!globalThis.fetch) {\n    globalThis.fetch = fetch;\n}\n```\n\nFor versions of node earlier than 12.x, use this `globalThis` [polyfill](https://mathiasbynens.be/notes/globalthis):\n\n```js\n(function() {\n\tif (typeof globalThis === 'object') return;\n\tObject.defineProperty(Object.prototype, '__magic__', {\n\t\tget: function() {\n\t\t\treturn this;\n\t\t},\n\t\tconfigurable: true\n\t});\n\t__magic__.globalThis = __magic__;\n\tdelete Object.prototype.__magic__;\n}());\n```\n\n## Upgrading\n\nUsing an old version of node-fetch? Check out the following files:\n\n- [2.x to 3.x upgrade guide](docs/v3-UPGRADE-GUIDE.md)\n- [1.x to 2.x upgrade guide](docs/v2-UPGRADE-GUIDE.md)\n- [Changelog](docs/CHANGELOG.md)\n\n## Common Usage\n\nNOTE: The documentation below is up-to-date with `3.x` releases, if you are using an older version, please check how to [upgrade](#upgrading).\n\n### Plain text or HTML\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://github.com/')\n\t.then(res => res.text())\n\t.then(body => console.log(body));\n```\n\n### JSON\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://api.github.com/users/github')\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Simple Post\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://httpbin.org/post', {method: 'POST', body: 'a=1'})\n\t.then(res => res.json()) // expecting a json response\n\t.then(json => console.log(json));\n```\n\n### Post with JSON\n\n```js\nconst fetch = require('node-fetch');\n\nconst body = {a: 1};\n\nfetch('https://httpbin.org/post', {\n\tmethod: 'post',\n\tbody: JSON.stringify(body),\n\theaders: {'Content-Type': 'application/json'}\n})\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Post with form parameters\n\n`URLSearchParams` is available on the global object in Node.js as of v10.0.0. See [official documentation](https://nodejs.org/api/url.html#url_class_urlsearchparams) for more usage methods.\n\nNOTE: The `Content-Type` header is only set automatically to `x-www-form-urlencoded` when an instance of `URLSearchParams` is given as such:\n\n```js\nconst fetch = require('node-fetch');\n\nconst params = new URLSearchParams();\nparams.append('a', 1);\n\nfetch('https://httpbin.org/post', {method: 'POST', body: params})\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Handling exceptions\n\nNOTE: 3xx-5xx responses are _NOT_ exceptions, and should be handled in `then()`, see the next section.\n\nAdding a catch to the fetch promise chain will catch _all_ exceptions, such as errors originating from node core libraries, like network errors, and operational errors which are instances of FetchError. See the [error handling document][error-handling.md] for more details.\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://domain.invalid/').catch(err => console.error(err));\n```\n\n### Handling client and server errors\n\nIt is common to create a helper function to check that the response contains no client (4xx) or server (5xx) error responses:\n\n```js\nconst fetch = require('node-fetch');\n\nfunction checkStatus(res) {\n\tif (res.ok) {\n\t\t// res.status >= 200 && res.status < 300\n\t\treturn res;\n\t} else {\n\t\tthrow MyCustomError(res.statusText);\n\t}\n}\n\nfetch('https://httpbin.org/status/400')\n\t.then(checkStatus)\n\t.then(res => console.log('will not get here...'));\n```\n\n## Advanced Usage\n\n### Streams\n\nThe \"Node.js way\" is to use streams when possible:\n\n```js\nconst {createWriteStream} = require('fs');\nconst fetch = require('node-fetch');\n\nfetch(\n\t'https://octodex.github.com/images/Fintechtocat.png'\n).then(res => {\n\tconst dest = fs.createWriteStream('./octocat.png');\n\tres.body.pipe(dest);\n});\n```\n\n### Buffer\n\nIf you prefer to cache binary data in full, use buffer(). (NOTE: buffer() is a `node-fetch` only API)\n\n```js\nconst fetch = require('node-fetch');\nconst fileType = require('file-type');\n\nfetch('https://octodex.github.com/images/Fintechtocat.png')\n\t.then(res => res.buffer())\n\t.then(buffer => fileType(buffer))\n\t.then(type => {\n\t\tconsole.log(type);\n\t});\n```\n\n### Accessing Headers and other Meta data\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://github.com/').then(res => {\n\tconsole.log(res.ok);\n\tconsole.log(res.status);\n\tconsole.log(res.statusText);\n\tconsole.log(res.headers.raw());\n\tconsole.log(res.headers.get('content-type'));\n});\n```\n\n### Extract Set-Cookie Header\n\nUnlike browsers, you can access raw `Set-Cookie` headers manually using `Headers.raw()`. This is a `node-fetch` only API.\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://example.com').then(res => {\n\t// returns an array of values, instead of a string of comma-separated values\n\tconsole.log(res.headers.raw()['set-cookie']);\n});\n```\n\n### Post data using a file stream\n\n```js\nconst {createReadStream} = require('fs');\nconst fetch = require('node-fetch');\n\nconst stream = createReadStream('input.txt');\n\nfetch('https://httpbin.org/post', {method: 'POST', body: stream})\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Post with form-data (detect multipart)\n\n```js\nconst fetch = require('node-fetch');\nconst FormData = require('form-data');\n\nconst form = new FormData();\nform.append('a', 1);\n\nfetch('https://httpbin.org/post', {method: 'POST', body: form})\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n\n// OR, using custom headers\n// NOTE: getHeaders() is non-standard API\n\nconst options = {\n\tmethod: 'POST',\n\tbody: form,\n\theaders: form.getHeaders()\n};\n\nfetch('https://httpbin.org/post', options)\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Request cancellation with AbortSignal\n\nYou may cancel requests with `AbortController`. A suggested implementation is [`abort-controller`](https://www.npmjs.com/package/abort-controller).\n\nAn example of timing out a request after 150ms could be achieved as the following:\n\n```js\nconst fetch = require('node-fetch');\nconst AbortController = require('abort-controller');\n\nconst controller = new AbortController();\nconst timeout = setTimeout(() => {\n\tcontroller.abort();\n}, 150);\n\nfetch('https://example.com', {signal: controller.signal})\n\t.then(res => res.json())\n\t.then(\n\t\tdata => {\n\t\t\tuseData(data);\n\t\t},\n\t\terr => {\n\t\t\tif (err.name === 'AbortError') {\n                console.log('request was aborted');\n\t\t\t}\n\t\t}\n\t)\n\t.finally(() => {\n\t\tclearTimeout(timeout);\n\t});\n```\n\nSee [test cases](https://github.com/node-fetch/node-fetch/blob/master/test/test.js) for more examples.\n\n## API\n\n### fetch(url[, options])\n\n- `url` A string representing the URL for fetching\n- `options` [Options](#fetch-options) for the HTTP(S) request\n- Returns: <code>Promise&lt;[Response](#class-response)&gt;</code>\n\nPerform an HTTP(S) fetch.\n\n`url` should be an absolute url, such as `https://example.com/`. A path-relative URL (`/file/under/root`) or protocol-relative URL (`//can-be-http-or-https.com/`) will result in a rejected `Promise`.\n\n<a id=\"fetch-options\"></a>\n\n### Options\n\nThe default values are shown after each option key.\n\n```js\n{\n    // These properties are part of the Fetch Standard\n    method: 'GET',\n    headers: {},            // request headers. format is the identical to that accepted by the Headers constructor (see below)\n    body: null,             // request body. can be null, a string, a Buffer, a Blob, or a Node.js Readable stream\n    redirect: 'follow',     // set to `manual` to extract redirect headers, `error` to reject redirect\n    signal: null,           // pass an instance of AbortSignal to optionally abort requests\n\n    // The following properties are node-fetch extensions\n    follow: 20,             // maximum redirect count. 0 to not follow redirect\n    timeout: 0,             // req/res timeout in ms, it resets on redirect. 0 to disable (OS limit applies). Signal is recommended instead.\n    compress: true,         // support gzip/deflate content encoding. false to disable\n    size: 0,                // maximum response body size in bytes. 0 to disable\n    agent: null,            // http(s).Agent instance or function that returns an instance (see below)\n    highWaterMark: 16384    // the maximum number of bytes to store in the internal buffer before ceasing to read from the underlying resource.\n}\n```\n\n#### Default Headers\n\nIf no values are set, the following request headers will be sent automatically:\n\n| Header              | Value                                                    |\n| ------------------- | -------------------------------------------------------- |\n| `Accept-Encoding`   | `gzip,deflate` _(when `options.compress === true`)_      |\n| `Accept`            | `*/*`                                                    |\n| `Connection`        | `close` _(when no `options.agent` is present)_           |\n| `Content-Length`    | _(automatically calculated, if possible)_                |\n| `Transfer-Encoding` | `chunked` _(when `req.body` is a stream)_                |\n| `User-Agent`        | `node-fetch (+https://github.com/node-fetch/node-fetch)` |\n\nNote: when `body` is a `Stream`, `Content-Length` is not set automatically.\n\n#### Custom Agent\n\nThe `agent` option allows you to specify networking related options which are out of the scope of Fetch, including and not limited to the following:\n\n- Support self-signed certificate\n- Use only IPv4 or IPv6\n- Custom DNS Lookup\n\nSee [`http.Agent`](https://nodejs.org/api/http.html#http_new_agent_options) for more information.\n\nIn addition, the `agent` option accepts a function that returns `http`(s)`.Agent` instance given current [URL](https://nodejs.org/api/url.html), this is useful during a redirection chain across HTTP and HTTPS protocol.\n\n```js\nconst http = require('http');\nconst https = require('https');\n\nconst httpAgent = new http.Agent({\n\tkeepAlive: true\n});\nconst httpsAgent = new https.Agent({\n\tkeepAlive: true\n});\n\nconst options = {\n\tagent: function(_parsedURL) {\n\t\tif (_parsedURL.protocol == 'http:') {\n\t\t\treturn httpAgent;\n\t\t} else {\n\t\t\treturn httpsAgent;\n\t\t}\n\t}\n};\n```\n\n<a id=\"custom-highWaterMark\"></a>\n\n#### Custom highWaterMark\n\nStream on Node.js have a smaller internal buffer size (16Kb, aka `highWaterMark`) from client-side browsers (>1Mb, not consistent across browsers). Because of that, when you are writing an isomorphic app and using `res.clone()`, it will hang with large response in Node.\n\nThe recommended way to fix this problem is to resolve cloned response in parallel:\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://example.com').then(res => {\n\tconst r1 = res.clone();\n\n\treturn Promise.all([res.json(), r1.text()]).then(results => {\n\t\tconsole.log(results[0]);\n\t\tconsole.log(results[1]);\n\t});\n});\n```\n\nIf for some reason you don't like the solution above, since `3.x` you are able to modify the `highWaterMark` option:\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://example.com', {highWaterMark: 10}).then(res => res.clone().buffer());\n```\n\n<a id=\"class-request\"></a>\n\n### Class: Request\n\nAn HTTP(S) request containing information about URL, method, headers, and the body. This class implements the [Body](#iface-body) interface.\n\nDue to the nature of Node.js, the following properties are not implemented at this moment:\n\n- `type`\n- `destination`\n- `referrer`\n- `referrerPolicy`\n- `mode`\n- `credentials`\n- `cache`\n- `integrity`\n- `keepalive`\n\nThe following node-fetch extension properties are provided:\n\n- `follow`\n- `compress`\n- `counter`\n- `agent`\n- `highWaterMark`\n\nSee [options](#fetch-options) for exact meaning of these extensions.\n\n#### new Request(input[, options])\n\n<small>_(spec-compliant)_</small>\n\n- `input` A string representing a URL, or another `Request` (which will be cloned)\n- `options` [Options][#fetch-options] for the HTTP(S) request\n\nConstructs a new `Request` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Request/Request).\n\nIn most cases, directly `fetch(url, options)` is simpler than creating a `Request` object.\n\n<a id=\"class-response\"></a>\n\n### Class: Response\n\nAn HTTP(S) response. This class implements the [Body](#iface-body) interface.\n\nThe following properties are not implemented in node-fetch at this moment:\n\n- `Response.error()`\n- `Response.redirect()`\n- `type`\n- `trailer`\n\n#### new Response([body[, options]])\n\n<small>_(spec-compliant)_</small>\n\n- `body` A `String` or [`Readable` stream][node-readable]\n- `options` A [`ResponseInit`][response-init] options dictionary\n\nConstructs a new `Response` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Response/Response).\n\nBecause Node.js does not implement service workers (for which this class was designed), one rarely has to construct a `Response` directly.\n\n#### response.ok\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request ended normally. Will evaluate to true if the response status was greater than or equal to 200 but smaller than 300.\n\n#### response.redirected\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request has been redirected at least once. Will evaluate to true if the internal redirect counter is greater than 0.\n\n<a id=\"class-headers\"></a>\n\n### Class: Headers\n\nThis class allows manipulating and iterating over a set of HTTP headers. All methods specified in the [Fetch Standard][whatwg-fetch] are implemented.\n\n#### new Headers([init])\n\n<small>_(spec-compliant)_</small>\n\n- `init` Optional argument to pre-fill the `Headers` object\n\nConstruct a new `Headers` object. `init` can be either `null`, a `Headers` object, an key-value map object or any iterable object.\n\n```js\n// Example adapted from https://fetch.spec.whatwg.org/#example-headers-class\nconst Headers = require('node-fetch');\n\nconst meta = {\n\t'Content-Type': 'text/xml',\n\t'Breaking-Bad': '<3'\n};\nconst headers = new Headers(meta);\n\n// The above is equivalent to\nconst meta = [['Content-Type', 'text/xml'], ['Breaking-Bad', '<3']];\nconst headers = new Headers(meta);\n\n// You can in fact use any iterable objects, like a Map or even another Headers\nconst meta = new Map();\nmeta.set('Content-Type', 'text/xml');\nmeta.set('Breaking-Bad', '<3');\nconst headers = new Headers(meta);\nconst copyOfHeaders = new Headers(headers);\n```\n\n<a id=\"iface-body\"></a>\n\n### Interface: Body\n\n`Body` is an abstract interface with methods that are applicable to both `Request` and `Response` classes.\n\nThe following methods are not yet implemented in node-fetch at this moment:\n\n- `formData()`\n\n#### body.body\n\n<small>_(deviation from spec)_</small>\n\n- Node.js [`Readable` stream][node-readable]\n\nData are encapsulated in the `Body` object. Note that while the [Fetch Standard][whatwg-fetch] requires the property to always be a WHATWG `ReadableStream`, in node-fetch it is a Node.js [`Readable` stream][node-readable].\n\n#### body.bodyUsed\n\n<small>_(spec-compliant)_</small>\n\n- `Boolean`\n\nA boolean property for if this body has been consumed. Per the specs, a consumed body cannot be used again.\n\n#### body.arrayBuffer()\n\n#### body.blob()\n\n#### body.json()\n\n#### body.text()\n\n<small>_(spec-compliant)_</small>\n\n- Returns: `Promise`\n\nConsume the body and return a promise that will resolve to one of these formats.\n\n#### body.buffer()\n\n<small>_(node-fetch extension)_</small>\n\n- Returns: `Promise<Buffer>`\n\nConsume the body and return a promise that will resolve to a Buffer.\n\n<a id=\"class-fetcherror\"></a>\n\n### Class: FetchError\n\n<small>_(node-fetch extension)_</small>\n\nAn operational error in the fetching process. See [ERROR-HANDLING.md][] for more info.\n\n<a id=\"class-aborterror\"></a>\n\n### Class: AbortError\n\n<small>_(node-fetch extension)_</small>\n\nAn Error thrown when the request is aborted in response to an `AbortSignal`'s `abort` event. It has a `name` property of `AbortError`. See [ERROR-HANDLING.MD][] for more info.\n\n## TypeScript\n\nSince `3.x` types are bundled with `node-fetch`, so you don't need to install any additional packages.\n\nFor older versions please use the type definitions from [DefinitelyTyped](https://github.com/DefinitelyTyped/DefinitelyTyped):\n\n```sh\n$ npm install --save-dev @types/node-fetch\n```\n\n## Acknowledgement\n\nThanks to [github/fetch](https://github.com/github/fetch) for providing a solid implementation reference.\n\n## Team\n\n[![David Frank](https://github.com/bitinn.png?size=100)](https://github.com/bitinn) | [![Jimmy Wärting](https://github.com/jimmywarting.png?size=100)](https://github.com/jimmywarting) | [![Antoni Kepinski](https://github.com/xxczaki.png?size=100)](https://github.com/xxczaki) | [![Richie Bendall](https://github.com/Richienb.png?size=100)](https://github.com/Richienb) | [![Gregor Martynus](https://github.com/gr2m.png?size=100)](https://github.com/gr2m)\n---|---|---|---|---\n[David Frank](https://bitinn.net/) | [Jimmy Wärting](https://jimmy.warting.se/) | [Antoni Kepinski](https://kepinski.me) | [Richie Bendall](https://www.richie-bendall.ml/) | [Gregor Martynus](https://twitter.com/gr2m)\n\n###### Former\n\n- [Timothy Gu](https://github.com/timothygu)\n- [Jared Kantrowitz](https://github.com/jkantr)\n\n## License\n\nMIT\n\n[whatwg-fetch]: https://fetch.spec.whatwg.org/\n[response-init]: https://fetch.spec.whatwg.org/#responseinit\n[node-readable]: https://nodejs.org/api/stream.html#stream_readable_streams\n[mdn-headers]: https://developer.mozilla.org/en-US/docs/Web/API/Headers\n[error-handling.md]: https://github.com/node-fetch/node-fetch/blob/master/docs/ERROR-HANDLING.md\n","module":"dist/index.mjs","types":"types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"@pika/pack":{"pipeline":[["@pika/plugin-standard-pkg"],["@pika/plugin-build-node"],["@pika/plugin-build-types"],["@pika/plugin-copy-assets",{"files":["externals.d.ts"]}]]},"xo":{"envs":["node","browser"],"rules":{"complexity":0,"promise/prefer-await-to-then":0,"no-mixed-operators":0,"no-negated-condition":0,"unicorn/prevent-abbreviations":0},"ignores":["dist"],"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"new-cap":0,"guard-for-in":0}},{"files":"example.js","rules":{"import/no-extraneous-dependencies":0}}]},"babel":{"presets":[["@babel/preset-env",{"targets":{"node":true}}]]},"nyc":{"require":["@babel/register"],"sourceMap":false,"instrument":false},"runkitExampleFilename":"example.js","readmeFilename":"README.md","gitHead":"0959ca9739850bbd24e0721cc1296e7a0aa5c2bd","_nodeVersion":"12.0.0","_npmVersion":"6.9.0","maintainers":[{"email":"bitinn@gmail.com","name":"bitinn"},{"email":"jimmy@warting.se","name":"endless"},{"email":"timothygu99@gmail.com","name":"timothygu"}],"_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.0.0-beta.1_1584112418028_0.6941549988015374"},"_hasShrinkwrap":false},"3.0.0-beta.2":{"_id":"node-fetch@3.0.0-beta.2","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"3.0.0-beta.2","keywords":["fetch","http","promise"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"build":"pika-pack --out dist/","prepare":"npm run build","prepublishOnly":"npm run build","publish":"pika publish","test":"cross-env BABEL_ENV=test mocha --require @babel/register --throw-deprecation test/*.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/*.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/*.js && codecov -f coverage/coverage-final.json","lint":"xo","version":"npm run build"},"directories":{},"devDependencies":{"@babel/core":"^7.8.7","@babel/preset-env":"^7.8.7","@babel/register":"^7.8.6","@pika/pack":"^0.5.0","@pika/plugin-build-node":"^0.9.2","@pika/plugin-build-types":"^0.9.2","@pika/plugin-copy-assets":"^0.9.2","@pika/plugin-standard-pkg":"^0.9.2","abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.4.0","chai":"^4.2.0","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","codecov":"^3.6.5","cross-env":"^7.0.2","form-data":"^3.0.0","mocha":"^7.1.0","nyc":"^15.0.0","parted":"^0.1.1","promise":"^8.1.0","resumer":"0.0.0","string-to-arraybuffer":"^1.0.2","xo":"^0.28.0"},"dependencies":{"data-uri-to-buffer":"^3.0.0","fetch-blob":"^1.0.5"},"engines":{"node":">=10.0.0"},"dist":{"shasum":"21dab0112c90d66d5d8b4f1e7a895cae5ac9d391","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.0.0-beta.2.tgz"},"funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"@pika/pack":{"pipeline":[["@pika/plugin-standard-pkg"],["@pika/plugin-build-node"],["@pika/plugin-build-types"],["@pika/plugin-copy-assets",{"files":["externals.d.ts"]}]]},"xo":{"envs":["node","browser"],"rules":{"complexity":0,"promise/prefer-await-to-then":0,"no-mixed-operators":0,"no-negated-condition":0,"unicorn/prevent-abbreviations":0},"ignores":["dist"],"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"new-cap":0,"guard-for-in":0}},{"files":"example.js","rules":{"import/no-extraneous-dependencies":0}}]},"babel":{"presets":[["@babel/preset-env",{"targets":{"node":true}}]]},"nyc":{"require":["@babel/register"],"sourceMap":false,"instrument":false},"runkitExampleFilename":"example.js","gitHead":"6f2a5efbb6b6177b3ae4a99573b517b4c64cf84a","_nodeVersion":"12.0.0","_npmVersion":"6.9.0","maintainers":[{"email":"bitinn@gmail.com","name":"bitinn"},{"email":"jimmy@warting.se","name":"endless"},{"email":"timothygu99@gmail.com","name":"timothygu"}],"_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.0.0-beta.2_1584126112803_0.24794439972808857"},"_hasShrinkwrap":false},"3.0.0-beta.3":{"_id":"node-fetch@3.0.0-beta.3","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"3.0.0-beta.3","keywords":["fetch","http","promise"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"build":"pika-pack --out dist/","prepare":"npm run build","prepublishOnly":"npm run build","publish":"pika publish","test":"cross-env BABEL_ENV=test mocha --require @babel/register --throw-deprecation test/*.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/*.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/*.js && codecov -f coverage/coverage-final.json","lint":"xo","version":"npm run build"},"directories":{},"devDependencies":{"@babel/core":"^7.8.7","@babel/preset-env":"^7.8.7","@babel/register":"^7.8.6","@pika/pack":"^0.5.0","@pika/plugin-build-node":"^0.9.2","@pika/plugin-build-types":"^0.9.2","@pika/plugin-copy-assets":"^0.9.2","@pika/plugin-standard-pkg":"^0.9.2","abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.4.0","chai":"^4.2.0","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","codecov":"^3.6.5","cross-env":"^7.0.2","form-data":"^3.0.0","mocha":"^7.1.0","nyc":"^15.0.0","parted":"^0.1.1","promise":"^8.1.0","resumer":"0.0.0","string-to-arraybuffer":"^1.0.2","xo":"^0.28.0"},"dependencies":{"data-uri-to-buffer":"^3.0.0","fetch-blob":"^1.0.5"},"engines":{"node":">=10.0.0"},"dist":{"shasum":"46ce9df3c4d4134e6cf6a30a682f894e0ee812dc","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.0.0-beta.3.tgz"},"readme":"<div align=\"center\">\n  \t<img src=\"docs/media/Banner.svg\" alt=\"Node Fetch\"/>\n  \t<br>\n  \t<p>A light-weight module that brings <code>window.fetch</code> to Node.js.</p>\n\t<a href=\"https://travis-ci.com/node-fetch/node-fetch\"><img src=\"https://img.shields.io/travis/com/node-fetch/node-fetch/master?style=flat-square\" alt=\"Build status\"></a>\n\t<a href=\"https://codecov.io/gh/node-fetch/node-fetch\"><img src=\"https://img.shields.io/codecov/c/gh/node-fetch/node-fetch/master?style=flat-square\" alt=\"Coverage status\"></a>\n\t<a href=\"https://packagephobia.now.sh/result?p=node-fetch\"><img src=\"https://flat.badgen.net/packagephobia/install/node-fetch\" alt=\"Current version\"></a>\n\t<a href=\"https://www.npmjs.com/package/node-fetch\"><img src=\"https://img.shields.io/npm/v/node-fetch?style=flat-square\" alt=\"Install size\"></a>\n\t<a href=\"https://github.com/sindresorhus/awesome-nodejs\"><img src=\"https://awesome.re/mentioned-badge-flat.svg\" alt=\"Mentioned in Awesome Node.js\"></a>\n\t<a href=\"https://discord.gg/Zxbndcm\"><img src=\"https://img.shields.io/discord/619915844268326952?color=%237289DA&label=Discord&style=flat-square\" alt=\"Discord\"></a>\n\t<br>\n\t<br>\n\t<b>Consider supporting us on our Open Collective:</b>\n\t<br>\n\t<br>\n\t<a href=\"https://opencollective.com/node-fetch\"><img src=\"https://opencollective.com/node-fetch/donate/button.png?color=blue\" alt=\"Open Collective\"></a>\n</div>\n\n---\n\n<!-- TOC -->\n\n- [Motivation](#motivation)\n- [Features](#features)\n- [Difference from client-side fetch](#difference-from-client-side-fetch)\n- [Installation](#installation)\n- [Loading and configuring the module](#loading-and-configuring-the-module)\n- [Upgrading](#upgrading)\n- [Common Usage](#common-usage)\n    - [Plain text or HTML](#plain-text-or-html)\n    - [JSON](#json)\n    - [Simple Post](#simple-post)\n    - [Post with JSON](#post-with-json)\n    - [Post with form parameters](#post-with-form-parameters)\n    - [Handling exceptions](#handling-exceptions)\n    - [Handling client and server errors](#handling-client-and-server-errors)\n- [Advanced Usage](#advanced-usage)\n    - [Streams](#streams)\n    - [Buffer](#buffer)\n    - [Accessing Headers and other Meta data](#accessing-headers-and-other-meta-data)\n    - [Extract Set-Cookie Header](#extract-set-cookie-header)\n    - [Post data using a file stream](#post-data-using-a-file-stream)\n    - [Post with form-data (detect multipart)](#post-with-form-data-detect-multipart)\n    - [Request cancellation with AbortSignal](#request-cancellation-with-abortsignal)\n- [API](#api)\n    - [fetch(url[, options])](#fetchurl-options)\n    - [Options](#options)\n        - [Default Headers](#default-headers)\n        - [Custom Agent](#custom-agent)\n        - [Custom highWaterMark](#custom-highwatermark)\n    - [Class: Request](#class-request)\n        - [new Request(input[, options])](#new-requestinput-options)\n    - [Class: Response](#class-response)\n        - [new Response([body[, options]])](#new-responsebody-options)\n        - [response.ok](#responseok)\n        - [response.redirected](#responseredirected)\n    - [Class: Headers](#class-headers)\n        - [new Headers([init])](#new-headersinit)\n    - [Interface: Body](#interface-body)\n        - [body.body](#bodybody)\n        - [body.bodyUsed](#bodybodyused)\n        - [body.arrayBuffer()](#bodyarraybuffer)\n        - [body.blob()](#bodyblob)\n        - [body.json()](#bodyjson)\n        - [body.text()](#bodytext)\n        - [body.buffer()](#bodybuffer)\n    - [Class: FetchError](#class-fetcherror)\n    - [Class: AbortError](#class-aborterror)\n- [TypeScript](#typescript)\n- [Acknowledgement](#acknowledgement)\n- [Team](#team)\n                - [Former](#former)\n- [License](#license)\n\n<!-- /TOC -->\n\n## Motivation\n\nInstead of implementing `XMLHttpRequest` in Node.js to run browser-specific [Fetch polyfill](https://github.com/github/fetch), why not go from native `http` to `fetch` API directly? Hence, `node-fetch`, minimal code for a `window.fetch` compatible API on Node.js runtime.\n\nSee Matt Andrews' [isomorphic-fetch](https://github.com/matthew-andrews/isomorphic-fetch) or Leonardo Quixada's [cross-fetch](https://github.com/lquixada/cross-fetch) for isomorphic usage (exports `node-fetch` for server-side, `whatwg-fetch` for client-side).\n\n## Features\n\n- Stay consistent with `window.fetch` API.\n- Make conscious trade-off when following [WHATWG fetch spec][whatwg-fetch] and [stream spec](https://streams.spec.whatwg.org/) implementation details, document known differences.\n- Use native promise, but allow substituting it with [insert your favorite promise library].\n- Use native Node streams for body, on both request and response.\n- Decode content encoding (gzip/deflate) properly, and convert string output (such as `res.text()` and `res.json()`) to UTF-8 automatically.\n- Useful extensions such as timeout, redirect limit, response size limit, [explicit errors][error-handling.md] for troubleshooting.\n\n## Difference from client-side fetch\n\n- See known differences:\n\t- [As of v3.x](docs/v3-LIMITS.md)\n\t- [As of v2.x](docs/v2-LIMITS.md)\n- If you happen to use a missing feature that `window.fetch` offers, feel free to open an issue.\n- Pull requests are welcomed too!\n\n## Installation\n\nCurrent stable release (`3.x`)\n\n```sh\n$ npm install node-fetch\n```\n\n## Loading and configuring the module\n\n```js\n// CommonJS\nconst fetch = require('node-fetch');\n\n// ES Module\nimport fetch from 'node-fetch';\n```\n\nIf you are using a Promise library other than native, set it through `fetch.Promise`:\n\n```js\nconst fetch = require('node-fetch');\nconst Bluebird = require('bluebird');\n\nfetch.Promise = Bluebird;\n```\n\nIf you want to patch the global object in node:\n\n```js\nconst fetch = require('node-fetch');\n\nif (!globalThis.fetch) {\n    globalThis.fetch = fetch;\n}\n```\n\nFor versions of node earlier than 12.x, use this `globalThis` [polyfill](https://mathiasbynens.be/notes/globalthis):\n\n```js\n(function() {\n\tif (typeof globalThis === 'object') return;\n\tObject.defineProperty(Object.prototype, '__magic__', {\n\t\tget: function() {\n\t\t\treturn this;\n\t\t},\n\t\tconfigurable: true\n\t});\n\t__magic__.globalThis = __magic__;\n\tdelete Object.prototype.__magic__;\n}());\n```\n\n## Upgrading\n\nUsing an old version of node-fetch? Check out the following files:\n\n- [2.x to 3.x upgrade guide](docs/v3-UPGRADE-GUIDE.md)\n- [1.x to 2.x upgrade guide](docs/v2-UPGRADE-GUIDE.md)\n- [Changelog](docs/CHANGELOG.md)\n\n## Common Usage\n\nNOTE: The documentation below is up-to-date with `3.x` releases, if you are using an older version, please check how to [upgrade](#upgrading).\n\n### Plain text or HTML\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://github.com/')\n\t.then(res => res.text())\n\t.then(body => console.log(body));\n```\n\n### JSON\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://api.github.com/users/github')\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Simple Post\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://httpbin.org/post', {method: 'POST', body: 'a=1'})\n\t.then(res => res.json()) // expecting a json response\n\t.then(json => console.log(json));\n```\n\n### Post with JSON\n\n```js\nconst fetch = require('node-fetch');\n\nconst body = {a: 1};\n\nfetch('https://httpbin.org/post', {\n\tmethod: 'post',\n\tbody: JSON.stringify(body),\n\theaders: {'Content-Type': 'application/json'}\n})\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Post with form parameters\n\n`URLSearchParams` is available on the global object in Node.js as of v10.0.0. See [official documentation](https://nodejs.org/api/url.html#url_class_urlsearchparams) for more usage methods.\n\nNOTE: The `Content-Type` header is only set automatically to `x-www-form-urlencoded` when an instance of `URLSearchParams` is given as such:\n\n```js\nconst fetch = require('node-fetch');\n\nconst params = new URLSearchParams();\nparams.append('a', 1);\n\nfetch('https://httpbin.org/post', {method: 'POST', body: params})\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Handling exceptions\n\nNOTE: 3xx-5xx responses are _NOT_ exceptions, and should be handled in `then()`, see the next section.\n\nAdding a catch to the fetch promise chain will catch _all_ exceptions, such as errors originating from node core libraries, like network errors, and operational errors which are instances of FetchError. See the [error handling document][error-handling.md] for more details.\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://domain.invalid/').catch(err => console.error(err));\n```\n\n### Handling client and server errors\n\nIt is common to create a helper function to check that the response contains no client (4xx) or server (5xx) error responses:\n\n```js\nconst fetch = require('node-fetch');\n\nfunction checkStatus(res) {\n\tif (res.ok) {\n\t\t// res.status >= 200 && res.status < 300\n\t\treturn res;\n\t} else {\n\t\tthrow MyCustomError(res.statusText);\n\t}\n}\n\nfetch('https://httpbin.org/status/400')\n\t.then(checkStatus)\n\t.then(res => console.log('will not get here...'));\n```\n\n## Advanced Usage\n\n### Streams\n\nThe \"Node.js way\" is to use streams when possible:\n\n```js\nconst {createWriteStream} = require('fs');\nconst fetch = require('node-fetch');\n\nfetch(\n\t'https://octodex.github.com/images/Fintechtocat.png'\n).then(res => {\n\tconst dest = fs.createWriteStream('./octocat.png');\n\tres.body.pipe(dest);\n});\n```\n\n### Buffer\n\nIf you prefer to cache binary data in full, use buffer(). (NOTE: buffer() is a `node-fetch` only API)\n\n```js\nconst fetch = require('node-fetch');\nconst fileType = require('file-type');\n\nfetch('https://octodex.github.com/images/Fintechtocat.png')\n\t.then(res => res.buffer())\n\t.then(buffer => fileType(buffer))\n\t.then(type => {\n\t\tconsole.log(type);\n\t});\n```\n\n### Accessing Headers and other Meta data\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://github.com/').then(res => {\n\tconsole.log(res.ok);\n\tconsole.log(res.status);\n\tconsole.log(res.statusText);\n\tconsole.log(res.headers.raw());\n\tconsole.log(res.headers.get('content-type'));\n});\n```\n\n### Extract Set-Cookie Header\n\nUnlike browsers, you can access raw `Set-Cookie` headers manually using `Headers.raw()`. This is a `node-fetch` only API.\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://example.com').then(res => {\n\t// returns an array of values, instead of a string of comma-separated values\n\tconsole.log(res.headers.raw()['set-cookie']);\n});\n```\n\n### Post data using a file stream\n\n```js\nconst {createReadStream} = require('fs');\nconst fetch = require('node-fetch');\n\nconst stream = createReadStream('input.txt');\n\nfetch('https://httpbin.org/post', {method: 'POST', body: stream})\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Post with form-data (detect multipart)\n\n```js\nconst fetch = require('node-fetch');\nconst FormData = require('form-data');\n\nconst form = new FormData();\nform.append('a', 1);\n\nfetch('https://httpbin.org/post', {method: 'POST', body: form})\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n\n// OR, using custom headers\n// NOTE: getHeaders() is non-standard API\n\nconst options = {\n\tmethod: 'POST',\n\tbody: form,\n\theaders: form.getHeaders()\n};\n\nfetch('https://httpbin.org/post', options)\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Request cancellation with AbortSignal\n\nYou may cancel requests with `AbortController`. A suggested implementation is [`abort-controller`](https://www.npmjs.com/package/abort-controller).\n\nAn example of timing out a request after 150ms could be achieved as the following:\n\n```js\nconst fetch = require('node-fetch');\nconst AbortController = require('abort-controller');\n\nconst controller = new AbortController();\nconst timeout = setTimeout(() => {\n\tcontroller.abort();\n}, 150);\n\nfetch('https://example.com', {signal: controller.signal})\n\t.then(res => res.json())\n\t.then(\n\t\tdata => {\n\t\t\tuseData(data);\n\t\t},\n\t\terr => {\n\t\t\tif (err.name === 'AbortError') {\n                console.log('request was aborted');\n\t\t\t}\n\t\t}\n\t)\n\t.finally(() => {\n\t\tclearTimeout(timeout);\n\t});\n```\n\nSee [test cases](https://github.com/node-fetch/node-fetch/blob/master/test/test.js) for more examples.\n\n## API\n\n### fetch(url[, options])\n\n- `url` A string representing the URL for fetching\n- `options` [Options](#fetch-options) for the HTTP(S) request\n- Returns: <code>Promise&lt;[Response](#class-response)&gt;</code>\n\nPerform an HTTP(S) fetch.\n\n`url` should be an absolute url, such as `https://example.com/`. A path-relative URL (`/file/under/root`) or protocol-relative URL (`//can-be-http-or-https.com/`) will result in a rejected `Promise`.\n\n<a id=\"fetch-options\"></a>\n\n### Options\n\nThe default values are shown after each option key.\n\n```js\n{\n    // These properties are part of the Fetch Standard\n    method: 'GET',\n    headers: {},            // request headers. format is the identical to that accepted by the Headers constructor (see below)\n    body: null,             // request body. can be null, a string, a Buffer, a Blob, or a Node.js Readable stream\n    redirect: 'follow',     // set to `manual` to extract redirect headers, `error` to reject redirect\n    signal: null,           // pass an instance of AbortSignal to optionally abort requests\n\n    // The following properties are node-fetch extensions\n    follow: 20,             // maximum redirect count. 0 to not follow redirect\n    timeout: 0,             // req/res timeout in ms, it resets on redirect. 0 to disable (OS limit applies). Signal is recommended instead.\n    compress: true,         // support gzip/deflate content encoding. false to disable\n    size: 0,                // maximum response body size in bytes. 0 to disable\n    agent: null,            // http(s).Agent instance or function that returns an instance (see below)\n    highWaterMark: 16384    // the maximum number of bytes to store in the internal buffer before ceasing to read from the underlying resource.\n}\n```\n\n#### Default Headers\n\nIf no values are set, the following request headers will be sent automatically:\n\n| Header              | Value                                                    |\n| ------------------- | -------------------------------------------------------- |\n| `Accept-Encoding`   | `gzip,deflate` _(when `options.compress === true`)_      |\n| `Accept`            | `*/*`                                                    |\n| `Connection`        | `close` _(when no `options.agent` is present)_           |\n| `Content-Length`    | _(automatically calculated, if possible)_                |\n| `Transfer-Encoding` | `chunked` _(when `req.body` is a stream)_                |\n| `User-Agent`        | `node-fetch (+https://github.com/node-fetch/node-fetch)` |\n\nNote: when `body` is a `Stream`, `Content-Length` is not set automatically.\n\n#### Custom Agent\n\nThe `agent` option allows you to specify networking related options which are out of the scope of Fetch, including and not limited to the following:\n\n- Support self-signed certificate\n- Use only IPv4 or IPv6\n- Custom DNS Lookup\n\nSee [`http.Agent`](https://nodejs.org/api/http.html#http_new_agent_options) for more information.\n\nIn addition, the `agent` option accepts a function that returns `http`(s)`.Agent` instance given current [URL](https://nodejs.org/api/url.html), this is useful during a redirection chain across HTTP and HTTPS protocol.\n\n```js\nconst http = require('http');\nconst https = require('https');\n\nconst httpAgent = new http.Agent({\n\tkeepAlive: true\n});\nconst httpsAgent = new https.Agent({\n\tkeepAlive: true\n});\n\nconst options = {\n\tagent: function(_parsedURL) {\n\t\tif (_parsedURL.protocol == 'http:') {\n\t\t\treturn httpAgent;\n\t\t} else {\n\t\t\treturn httpsAgent;\n\t\t}\n\t}\n};\n```\n\n<a id=\"custom-highWaterMark\"></a>\n\n#### Custom highWaterMark\n\nStream on Node.js have a smaller internal buffer size (16Kb, aka `highWaterMark`) from client-side browsers (>1Mb, not consistent across browsers). Because of that, when you are writing an isomorphic app and using `res.clone()`, it will hang with large response in Node.\n\nThe recommended way to fix this problem is to resolve cloned response in parallel:\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://example.com').then(res => {\n\tconst r1 = res.clone();\n\n\treturn Promise.all([res.json(), r1.text()]).then(results => {\n\t\tconsole.log(results[0]);\n\t\tconsole.log(results[1]);\n\t});\n});\n```\n\nIf for some reason you don't like the solution above, since `3.x` you are able to modify the `highWaterMark` option:\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://example.com', {highWaterMark: 10}).then(res => res.clone().buffer());\n```\n\n<a id=\"class-request\"></a>\n\n### Class: Request\n\nAn HTTP(S) request containing information about URL, method, headers, and the body. This class implements the [Body](#iface-body) interface.\n\nDue to the nature of Node.js, the following properties are not implemented at this moment:\n\n- `type`\n- `destination`\n- `referrer`\n- `referrerPolicy`\n- `mode`\n- `credentials`\n- `cache`\n- `integrity`\n- `keepalive`\n\nThe following node-fetch extension properties are provided:\n\n- `follow`\n- `compress`\n- `counter`\n- `agent`\n- `highWaterMark`\n\nSee [options](#fetch-options) for exact meaning of these extensions.\n\n#### new Request(input[, options])\n\n<small>_(spec-compliant)_</small>\n\n- `input` A string representing a URL, or another `Request` (which will be cloned)\n- `options` [Options][#fetch-options] for the HTTP(S) request\n\nConstructs a new `Request` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Request/Request).\n\nIn most cases, directly `fetch(url, options)` is simpler than creating a `Request` object.\n\n<a id=\"class-response\"></a>\n\n### Class: Response\n\nAn HTTP(S) response. This class implements the [Body](#iface-body) interface.\n\nThe following properties are not implemented in node-fetch at this moment:\n\n- `Response.error()`\n- `Response.redirect()`\n- `type`\n- `trailer`\n\n#### new Response([body[, options]])\n\n<small>_(spec-compliant)_</small>\n\n- `body` A `String` or [`Readable` stream][node-readable]\n- `options` A [`ResponseInit`][response-init] options dictionary\n\nConstructs a new `Response` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Response/Response).\n\nBecause Node.js does not implement service workers (for which this class was designed), one rarely has to construct a `Response` directly.\n\n#### response.ok\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request ended normally. Will evaluate to true if the response status was greater than or equal to 200 but smaller than 300.\n\n#### response.redirected\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request has been redirected at least once. Will evaluate to true if the internal redirect counter is greater than 0.\n\n<a id=\"class-headers\"></a>\n\n### Class: Headers\n\nThis class allows manipulating and iterating over a set of HTTP headers. All methods specified in the [Fetch Standard][whatwg-fetch] are implemented.\n\n#### new Headers([init])\n\n<small>_(spec-compliant)_</small>\n\n- `init` Optional argument to pre-fill the `Headers` object\n\nConstruct a new `Headers` object. `init` can be either `null`, a `Headers` object, an key-value map object or any iterable object.\n\n```js\n// Example adapted from https://fetch.spec.whatwg.org/#example-headers-class\nconst Headers = require('node-fetch');\n\nconst meta = {\n\t'Content-Type': 'text/xml',\n\t'Breaking-Bad': '<3'\n};\nconst headers = new Headers(meta);\n\n// The above is equivalent to\nconst meta = [['Content-Type', 'text/xml'], ['Breaking-Bad', '<3']];\nconst headers = new Headers(meta);\n\n// You can in fact use any iterable objects, like a Map or even another Headers\nconst meta = new Map();\nmeta.set('Content-Type', 'text/xml');\nmeta.set('Breaking-Bad', '<3');\nconst headers = new Headers(meta);\nconst copyOfHeaders = new Headers(headers);\n```\n\n<a id=\"iface-body\"></a>\n\n### Interface: Body\n\n`Body` is an abstract interface with methods that are applicable to both `Request` and `Response` classes.\n\nThe following methods are not yet implemented in node-fetch at this moment:\n\n- `formData()`\n\n#### body.body\n\n<small>_(deviation from spec)_</small>\n\n- Node.js [`Readable` stream][node-readable]\n\nData are encapsulated in the `Body` object. Note that while the [Fetch Standard][whatwg-fetch] requires the property to always be a WHATWG `ReadableStream`, in node-fetch it is a Node.js [`Readable` stream][node-readable].\n\n#### body.bodyUsed\n\n<small>_(spec-compliant)_</small>\n\n- `Boolean`\n\nA boolean property for if this body has been consumed. Per the specs, a consumed body cannot be used again.\n\n#### body.arrayBuffer()\n\n#### body.blob()\n\n#### body.json()\n\n#### body.text()\n\n<small>_(spec-compliant)_</small>\n\n- Returns: `Promise`\n\nConsume the body and return a promise that will resolve to one of these formats.\n\n#### body.buffer()\n\n<small>_(node-fetch extension)_</small>\n\n- Returns: `Promise<Buffer>`\n\nConsume the body and return a promise that will resolve to a Buffer.\n\n<a id=\"class-fetcherror\"></a>\n\n### Class: FetchError\n\n<small>_(node-fetch extension)_</small>\n\nAn operational error in the fetching process. See [ERROR-HANDLING.md][] for more info.\n\n<a id=\"class-aborterror\"></a>\n\n### Class: AbortError\n\n<small>_(node-fetch extension)_</small>\n\nAn Error thrown when the request is aborted in response to an `AbortSignal`'s `abort` event. It has a `name` property of `AbortError`. See [ERROR-HANDLING.MD][] for more info.\n\n## TypeScript\n\nSince `3.x` types are bundled with `node-fetch`, so you don't need to install any additional packages.\n\nFor older versions please use the type definitions from [DefinitelyTyped](https://github.com/DefinitelyTyped/DefinitelyTyped):\n\n```sh\n$ npm install --save-dev @types/node-fetch\n```\n\n## Acknowledgement\n\nThanks to [github/fetch](https://github.com/github/fetch) for providing a solid implementation reference.\n\n## Team\n\n[![David Frank](https://github.com/bitinn.png?size=100)](https://github.com/bitinn) | [![Jimmy Wärting](https://github.com/jimmywarting.png?size=100)](https://github.com/jimmywarting) | [![Antoni Kepinski](https://github.com/xxczaki.png?size=100)](https://github.com/xxczaki) | [![Richie Bendall](https://github.com/Richienb.png?size=100)](https://github.com/Richienb) | [![Gregor Martynus](https://github.com/gr2m.png?size=100)](https://github.com/gr2m)\n---|---|---|---|---\n[David Frank](https://bitinn.net/) | [Jimmy Wärting](https://jimmy.warting.se/) | [Antoni Kepinski](https://kepinski.me) | [Richie Bendall](https://www.richie-bendall.ml/) | [Gregor Martynus](https://twitter.com/gr2m)\n\n###### Former\n\n- [Timothy Gu](https://github.com/timothygu)\n- [Jared Kantrowitz](https://github.com/jkantr)\n\n## License\n\nMIT\n\n[whatwg-fetch]: https://fetch.spec.whatwg.org/\n[response-init]: https://fetch.spec.whatwg.org/#responseinit\n[node-readable]: https://nodejs.org/api/stream.html#stream_readable_streams\n[mdn-headers]: https://developer.mozilla.org/en-US/docs/Web/API/Headers\n[error-handling.md]: https://github.com/node-fetch/node-fetch/blob/master/docs/ERROR-HANDLING.md\n","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"@pika/pack":{"pipeline":[["@pika/plugin-standard-pkg"],["@pika/plugin-build-node"],["@pika/plugin-build-types"],["@pika/plugin-copy-assets",{"files":["externals.d.ts"]}]]},"xo":{"envs":["node","browser"],"rules":{"complexity":0,"promise/prefer-await-to-then":0,"no-mixed-operators":0,"no-negated-condition":0,"unicorn/prevent-abbreviations":0},"ignores":["dist"],"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"new-cap":0,"guard-for-in":0}},{"files":"example.js","rules":{"import/no-extraneous-dependencies":0}}]},"babel":{"presets":[["@babel/preset-env",{"targets":{"node":true}}]]},"nyc":{"require":["@babel/register"],"sourceMap":false,"instrument":false},"runkitExampleFilename":"example.js","readmeFilename":"README.md","gitHead":"6f2a5efbb6b6177b3ae4a99573b517b4c64cf84a","_nodeVersion":"12.0.0","_npmVersion":"6.9.0","maintainers":[{"email":"bitinn@gmail.com","name":"bitinn"},{"email":"jimmy@warting.se","name":"endless"},{"email":"timothygu99@gmail.com","name":"timothygu"}],"_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.0.0-beta.3_1584126606233_0.5859320705818469"},"_hasShrinkwrap":false},"3.0.0-beta.4":{"_id":"node-fetch@3.0.0-beta.4","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"3.0.0-beta.4","keywords":["fetch","http","promise"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"build":"pika build --out dist/","prepublishOnly":"npm run build","test":"cross-env BABEL_ENV=test mocha --require @babel/register --throw-deprecation test/*.js","report":"cross-env BABEL_ENV=coverage nyc --reporter lcov --reporter text mocha -R spec test/*.js","coverage":"cross-env BABEL_ENV=coverage nyc --reporter json --reporter text mocha -R spec test/*.js && codecov -f coverage/coverage-final.json","lint":"xo"},"directories":{},"devDependencies":{"@babel/core":"^7.8.7","@babel/preset-env":"^7.8.7","@babel/register":"^7.8.6","@pika/pack":"^0.5.0","@pika/plugin-standard-pkg":"^0.9.2","abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.4.0","chai":"^4.2.0","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","codecov":"^3.6.5","cross-env":"^7.0.2","form-data":"^3.0.0","mocha":"^7.1.0","nyc":"^15.0.0","parted":"^0.1.1","promise":"^8.1.0","resumer":"0.0.0","string-to-arraybuffer":"^1.0.2","xo":"^0.28.0"},"dependencies":{"data-uri-to-buffer":"^3.0.0","fetch-blob":"^1.0.5"},"engines":{"node":">=10.0.0"},"main":"./dist/dist-src","dist":{"shasum":"f5fcc70e506314c90df4f5f19e81cff55aa1ecea","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.0.0-beta.4.tgz"},"readme":"<div align=\"center\">\n  \t<img src=\"docs/media/Banner.svg\" alt=\"Node Fetch\"/>\n  \t<br>\n  \t<p>A light-weight module that brings <code>window.fetch</code> to Node.js.</p>\n\t<a href=\"https://travis-ci.com/node-fetch/node-fetch\"><img src=\"https://img.shields.io/travis/com/node-fetch/node-fetch/master?style=flat-square\" alt=\"Build status\"></a>\n\t<a href=\"https://codecov.io/gh/node-fetch/node-fetch\"><img src=\"https://img.shields.io/codecov/c/gh/node-fetch/node-fetch/master?style=flat-square\" alt=\"Coverage status\"></a>\n\t<a href=\"https://packagephobia.now.sh/result?p=node-fetch\"><img src=\"https://flat.badgen.net/packagephobia/install/node-fetch\" alt=\"Current version\"></a>\n\t<a href=\"https://www.npmjs.com/package/node-fetch\"><img src=\"https://img.shields.io/npm/v/node-fetch?style=flat-square\" alt=\"Install size\"></a>\n\t<a href=\"https://github.com/sindresorhus/awesome-nodejs\"><img src=\"https://awesome.re/mentioned-badge-flat.svg\" alt=\"Mentioned in Awesome Node.js\"></a>\n\t<a href=\"https://discord.gg/Zxbndcm\"><img src=\"https://img.shields.io/discord/619915844268326952?color=%237289DA&label=Discord&style=flat-square\" alt=\"Discord\"></a>\n\t<br>\n\t<br>\n\t<b>Consider supporting us on our Open Collective:</b>\n\t<br>\n\t<br>\n\t<a href=\"https://opencollective.com/node-fetch\"><img src=\"https://opencollective.com/node-fetch/donate/button.png?color=blue\" alt=\"Open Collective\"></a>\n</div>\n\n---\n\n<!-- TOC -->\n\n- [Motivation](#motivation)\n- [Features](#features)\n- [Difference from client-side fetch](#difference-from-client-side-fetch)\n- [Installation](#installation)\n- [Loading and configuring the module](#loading-and-configuring-the-module)\n- [Upgrading](#upgrading)\n- [Common Usage](#common-usage)\n    - [Plain text or HTML](#plain-text-or-html)\n    - [JSON](#json)\n    - [Simple Post](#simple-post)\n    - [Post with JSON](#post-with-json)\n    - [Post with form parameters](#post-with-form-parameters)\n    - [Handling exceptions](#handling-exceptions)\n    - [Handling client and server errors](#handling-client-and-server-errors)\n- [Advanced Usage](#advanced-usage)\n    - [Streams](#streams)\n    - [Buffer](#buffer)\n    - [Accessing Headers and other Meta data](#accessing-headers-and-other-meta-data)\n    - [Extract Set-Cookie Header](#extract-set-cookie-header)\n    - [Post data using a file stream](#post-data-using-a-file-stream)\n    - [Post with form-data (detect multipart)](#post-with-form-data-detect-multipart)\n    - [Request cancellation with AbortSignal](#request-cancellation-with-abortsignal)\n- [API](#api)\n    - [fetch(url[, options])](#fetchurl-options)\n    - [Options](#options)\n        - [Default Headers](#default-headers)\n        - [Custom Agent](#custom-agent)\n        - [Custom highWaterMark](#custom-highwatermark)\n    - [Class: Request](#class-request)\n        - [new Request(input[, options])](#new-requestinput-options)\n    - [Class: Response](#class-response)\n        - [new Response([body[, options]])](#new-responsebody-options)\n        - [response.ok](#responseok)\n        - [response.redirected](#responseredirected)\n    - [Class: Headers](#class-headers)\n        - [new Headers([init])](#new-headersinit)\n    - [Interface: Body](#interface-body)\n        - [body.body](#bodybody)\n        - [body.bodyUsed](#bodybodyused)\n        - [body.arrayBuffer()](#bodyarraybuffer)\n        - [body.blob()](#bodyblob)\n        - [body.json()](#bodyjson)\n        - [body.text()](#bodytext)\n        - [body.buffer()](#bodybuffer)\n    - [Class: FetchError](#class-fetcherror)\n    - [Class: AbortError](#class-aborterror)\n- [TypeScript](#typescript)\n- [Acknowledgement](#acknowledgement)\n- [Team](#team)\n                - [Former](#former)\n- [License](#license)\n\n<!-- /TOC -->\n\n## Motivation\n\nInstead of implementing `XMLHttpRequest` in Node.js to run browser-specific [Fetch polyfill](https://github.com/github/fetch), why not go from native `http` to `fetch` API directly? Hence, `node-fetch`, minimal code for a `window.fetch` compatible API on Node.js runtime.\n\nSee Matt Andrews' [isomorphic-fetch](https://github.com/matthew-andrews/isomorphic-fetch) or Leonardo Quixada's [cross-fetch](https://github.com/lquixada/cross-fetch) for isomorphic usage (exports `node-fetch` for server-side, `whatwg-fetch` for client-side).\n\n## Features\n\n- Stay consistent with `window.fetch` API.\n- Make conscious trade-off when following [WHATWG fetch spec][whatwg-fetch] and [stream spec](https://streams.spec.whatwg.org/) implementation details, document known differences.\n- Use native promise, but allow substituting it with [insert your favorite promise library].\n- Use native Node streams for body, on both request and response.\n- Decode content encoding (gzip/deflate) properly, and convert string output (such as `res.text()` and `res.json()`) to UTF-8 automatically.\n- Useful extensions such as timeout, redirect limit, response size limit, [explicit errors][error-handling.md] for troubleshooting.\n\n## Difference from client-side fetch\n\n- See known differences:\n\t- [As of v3.x](docs/v3-LIMITS.md)\n\t- [As of v2.x](docs/v2-LIMITS.md)\n- If you happen to use a missing feature that `window.fetch` offers, feel free to open an issue.\n- Pull requests are welcomed too!\n\n## Installation\n\nCurrent stable release (`3.x`)\n\n```sh\n$ npm install node-fetch\n```\n\n## Loading and configuring the module\n\n```js\n// CommonJS\nconst fetch = require('node-fetch');\n\n// ES Module\nimport fetch from 'node-fetch';\n```\n\nIf you are using a Promise library other than native, set it through `fetch.Promise`:\n\n```js\nconst fetch = require('node-fetch');\nconst Bluebird = require('bluebird');\n\nfetch.Promise = Bluebird;\n```\n\nIf you want to patch the global object in node:\n\n```js\nconst fetch = require('node-fetch');\n\nif (!globalThis.fetch) {\n    globalThis.fetch = fetch;\n}\n```\n\nFor versions of node earlier than 12.x, use this `globalThis` [polyfill](https://mathiasbynens.be/notes/globalthis):\n\n```js\n(function() {\n\tif (typeof globalThis === 'object') return;\n\tObject.defineProperty(Object.prototype, '__magic__', {\n\t\tget: function() {\n\t\t\treturn this;\n\t\t},\n\t\tconfigurable: true\n\t});\n\t__magic__.globalThis = __magic__;\n\tdelete Object.prototype.__magic__;\n}());\n```\n\n## Upgrading\n\nUsing an old version of node-fetch? Check out the following files:\n\n- [2.x to 3.x upgrade guide](docs/v3-UPGRADE-GUIDE.md)\n- [1.x to 2.x upgrade guide](docs/v2-UPGRADE-GUIDE.md)\n- [Changelog](docs/CHANGELOG.md)\n\n## Common Usage\n\nNOTE: The documentation below is up-to-date with `3.x` releases, if you are using an older version, please check how to [upgrade](#upgrading).\n\n### Plain text or HTML\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://github.com/')\n\t.then(res => res.text())\n\t.then(body => console.log(body));\n```\n\n### JSON\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://api.github.com/users/github')\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Simple Post\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://httpbin.org/post', {method: 'POST', body: 'a=1'})\n\t.then(res => res.json()) // expecting a json response\n\t.then(json => console.log(json));\n```\n\n### Post with JSON\n\n```js\nconst fetch = require('node-fetch');\n\nconst body = {a: 1};\n\nfetch('https://httpbin.org/post', {\n\tmethod: 'post',\n\tbody: JSON.stringify(body),\n\theaders: {'Content-Type': 'application/json'}\n})\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Post with form parameters\n\n`URLSearchParams` is available on the global object in Node.js as of v10.0.0. See [official documentation](https://nodejs.org/api/url.html#url_class_urlsearchparams) for more usage methods.\n\nNOTE: The `Content-Type` header is only set automatically to `x-www-form-urlencoded` when an instance of `URLSearchParams` is given as such:\n\n```js\nconst fetch = require('node-fetch');\n\nconst params = new URLSearchParams();\nparams.append('a', 1);\n\nfetch('https://httpbin.org/post', {method: 'POST', body: params})\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Handling exceptions\n\nNOTE: 3xx-5xx responses are _NOT_ exceptions, and should be handled in `then()`, see the next section.\n\nAdding a catch to the fetch promise chain will catch _all_ exceptions, such as errors originating from node core libraries, like network errors, and operational errors which are instances of FetchError. See the [error handling document][error-handling.md] for more details.\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://domain.invalid/').catch(err => console.error(err));\n```\n\n### Handling client and server errors\n\nIt is common to create a helper function to check that the response contains no client (4xx) or server (5xx) error responses:\n\n```js\nconst fetch = require('node-fetch');\n\nfunction checkStatus(res) {\n\tif (res.ok) {\n\t\t// res.status >= 200 && res.status < 300\n\t\treturn res;\n\t} else {\n\t\tthrow MyCustomError(res.statusText);\n\t}\n}\n\nfetch('https://httpbin.org/status/400')\n\t.then(checkStatus)\n\t.then(res => console.log('will not get here...'));\n```\n\n## Advanced Usage\n\n### Streams\n\nThe \"Node.js way\" is to use streams when possible:\n\n```js\nconst {createWriteStream} = require('fs');\nconst fetch = require('node-fetch');\n\nfetch(\n\t'https://octodex.github.com/images/Fintechtocat.png'\n).then(res => {\n\tconst dest = fs.createWriteStream('./octocat.png');\n\tres.body.pipe(dest);\n});\n```\n\n### Buffer\n\nIf you prefer to cache binary data in full, use buffer(). (NOTE: buffer() is a `node-fetch` only API)\n\n```js\nconst fetch = require('node-fetch');\nconst fileType = require('file-type');\n\nfetch('https://octodex.github.com/images/Fintechtocat.png')\n\t.then(res => res.buffer())\n\t.then(buffer => fileType(buffer))\n\t.then(type => {\n\t\tconsole.log(type);\n\t});\n```\n\n### Accessing Headers and other Meta data\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://github.com/').then(res => {\n\tconsole.log(res.ok);\n\tconsole.log(res.status);\n\tconsole.log(res.statusText);\n\tconsole.log(res.headers.raw());\n\tconsole.log(res.headers.get('content-type'));\n});\n```\n\n### Extract Set-Cookie Header\n\nUnlike browsers, you can access raw `Set-Cookie` headers manually using `Headers.raw()`. This is a `node-fetch` only API.\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://example.com').then(res => {\n\t// returns an array of values, instead of a string of comma-separated values\n\tconsole.log(res.headers.raw()['set-cookie']);\n});\n```\n\n### Post data using a file stream\n\n```js\nconst {createReadStream} = require('fs');\nconst fetch = require('node-fetch');\n\nconst stream = createReadStream('input.txt');\n\nfetch('https://httpbin.org/post', {method: 'POST', body: stream})\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Post with form-data (detect multipart)\n\n```js\nconst fetch = require('node-fetch');\nconst FormData = require('form-data');\n\nconst form = new FormData();\nform.append('a', 1);\n\nfetch('https://httpbin.org/post', {method: 'POST', body: form})\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n\n// OR, using custom headers\n// NOTE: getHeaders() is non-standard API\n\nconst options = {\n\tmethod: 'POST',\n\tbody: form,\n\theaders: form.getHeaders()\n};\n\nfetch('https://httpbin.org/post', options)\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Request cancellation with AbortSignal\n\nYou may cancel requests with `AbortController`. A suggested implementation is [`abort-controller`](https://www.npmjs.com/package/abort-controller).\n\nAn example of timing out a request after 150ms could be achieved as the following:\n\n```js\nconst fetch = require('node-fetch');\nconst AbortController = require('abort-controller');\n\nconst controller = new AbortController();\nconst timeout = setTimeout(() => {\n\tcontroller.abort();\n}, 150);\n\nfetch('https://example.com', {signal: controller.signal})\n\t.then(res => res.json())\n\t.then(\n\t\tdata => {\n\t\t\tuseData(data);\n\t\t},\n\t\terr => {\n\t\t\tif (err.name === 'AbortError') {\n                console.log('request was aborted');\n\t\t\t}\n\t\t}\n\t)\n\t.finally(() => {\n\t\tclearTimeout(timeout);\n\t});\n```\n\nSee [test cases](https://github.com/node-fetch/node-fetch/blob/master/test/test.js) for more examples.\n\n## API\n\n### fetch(url[, options])\n\n- `url` A string representing the URL for fetching\n- `options` [Options](#fetch-options) for the HTTP(S) request\n- Returns: <code>Promise&lt;[Response](#class-response)&gt;</code>\n\nPerform an HTTP(S) fetch.\n\n`url` should be an absolute url, such as `https://example.com/`. A path-relative URL (`/file/under/root`) or protocol-relative URL (`//can-be-http-or-https.com/`) will result in a rejected `Promise`.\n\n<a id=\"fetch-options\"></a>\n\n### Options\n\nThe default values are shown after each option key.\n\n```js\n{\n    // These properties are part of the Fetch Standard\n    method: 'GET',\n    headers: {},            // request headers. format is the identical to that accepted by the Headers constructor (see below)\n    body: null,             // request body. can be null, a string, a Buffer, a Blob, or a Node.js Readable stream\n    redirect: 'follow',     // set to `manual` to extract redirect headers, `error` to reject redirect\n    signal: null,           // pass an instance of AbortSignal to optionally abort requests\n\n    // The following properties are node-fetch extensions\n    follow: 20,             // maximum redirect count. 0 to not follow redirect\n    timeout: 0,             // req/res timeout in ms, it resets on redirect. 0 to disable (OS limit applies). Signal is recommended instead.\n    compress: true,         // support gzip/deflate content encoding. false to disable\n    size: 0,                // maximum response body size in bytes. 0 to disable\n    agent: null,            // http(s).Agent instance or function that returns an instance (see below)\n    highWaterMark: 16384    // the maximum number of bytes to store in the internal buffer before ceasing to read from the underlying resource.\n}\n```\n\n#### Default Headers\n\nIf no values are set, the following request headers will be sent automatically:\n\n| Header              | Value                                                    |\n| ------------------- | -------------------------------------------------------- |\n| `Accept-Encoding`   | `gzip,deflate` _(when `options.compress === true`)_      |\n| `Accept`            | `*/*`                                                    |\n| `Connection`        | `close` _(when no `options.agent` is present)_           |\n| `Content-Length`    | _(automatically calculated, if possible)_                |\n| `Transfer-Encoding` | `chunked` _(when `req.body` is a stream)_                |\n| `User-Agent`        | `node-fetch (+https://github.com/node-fetch/node-fetch)` |\n\nNote: when `body` is a `Stream`, `Content-Length` is not set automatically.\n\n#### Custom Agent\n\nThe `agent` option allows you to specify networking related options which are out of the scope of Fetch, including and not limited to the following:\n\n- Support self-signed certificate\n- Use only IPv4 or IPv6\n- Custom DNS Lookup\n\nSee [`http.Agent`](https://nodejs.org/api/http.html#http_new_agent_options) for more information.\n\nIn addition, the `agent` option accepts a function that returns `http`(s)`.Agent` instance given current [URL](https://nodejs.org/api/url.html), this is useful during a redirection chain across HTTP and HTTPS protocol.\n\n```js\nconst http = require('http');\nconst https = require('https');\n\nconst httpAgent = new http.Agent({\n\tkeepAlive: true\n});\nconst httpsAgent = new https.Agent({\n\tkeepAlive: true\n});\n\nconst options = {\n\tagent: function(_parsedURL) {\n\t\tif (_parsedURL.protocol == 'http:') {\n\t\t\treturn httpAgent;\n\t\t} else {\n\t\t\treturn httpsAgent;\n\t\t}\n\t}\n};\n```\n\n<a id=\"custom-highWaterMark\"></a>\n\n#### Custom highWaterMark\n\nStream on Node.js have a smaller internal buffer size (16Kb, aka `highWaterMark`) from client-side browsers (>1Mb, not consistent across browsers). Because of that, when you are writing an isomorphic app and using `res.clone()`, it will hang with large response in Node.\n\nThe recommended way to fix this problem is to resolve cloned response in parallel:\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://example.com').then(res => {\n\tconst r1 = res.clone();\n\n\treturn Promise.all([res.json(), r1.text()]).then(results => {\n\t\tconsole.log(results[0]);\n\t\tconsole.log(results[1]);\n\t});\n});\n```\n\nIf for some reason you don't like the solution above, since `3.x` you are able to modify the `highWaterMark` option:\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://example.com', {highWaterMark: 10}).then(res => res.clone().buffer());\n```\n\n<a id=\"class-request\"></a>\n\n### Class: Request\n\nAn HTTP(S) request containing information about URL, method, headers, and the body. This class implements the [Body](#iface-body) interface.\n\nDue to the nature of Node.js, the following properties are not implemented at this moment:\n\n- `type`\n- `destination`\n- `referrer`\n- `referrerPolicy`\n- `mode`\n- `credentials`\n- `cache`\n- `integrity`\n- `keepalive`\n\nThe following node-fetch extension properties are provided:\n\n- `follow`\n- `compress`\n- `counter`\n- `agent`\n- `highWaterMark`\n\nSee [options](#fetch-options) for exact meaning of these extensions.\n\n#### new Request(input[, options])\n\n<small>_(spec-compliant)_</small>\n\n- `input` A string representing a URL, or another `Request` (which will be cloned)\n- `options` [Options][#fetch-options] for the HTTP(S) request\n\nConstructs a new `Request` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Request/Request).\n\nIn most cases, directly `fetch(url, options)` is simpler than creating a `Request` object.\n\n<a id=\"class-response\"></a>\n\n### Class: Response\n\nAn HTTP(S) response. This class implements the [Body](#iface-body) interface.\n\nThe following properties are not implemented in node-fetch at this moment:\n\n- `Response.error()`\n- `Response.redirect()`\n- `type`\n- `trailer`\n\n#### new Response([body[, options]])\n\n<small>_(spec-compliant)_</small>\n\n- `body` A `String` or [`Readable` stream][node-readable]\n- `options` A [`ResponseInit`][response-init] options dictionary\n\nConstructs a new `Response` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Response/Response).\n\nBecause Node.js does not implement service workers (for which this class was designed), one rarely has to construct a `Response` directly.\n\n#### response.ok\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request ended normally. Will evaluate to true if the response status was greater than or equal to 200 but smaller than 300.\n\n#### response.redirected\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request has been redirected at least once. Will evaluate to true if the internal redirect counter is greater than 0.\n\n<a id=\"class-headers\"></a>\n\n### Class: Headers\n\nThis class allows manipulating and iterating over a set of HTTP headers. All methods specified in the [Fetch Standard][whatwg-fetch] are implemented.\n\n#### new Headers([init])\n\n<small>_(spec-compliant)_</small>\n\n- `init` Optional argument to pre-fill the `Headers` object\n\nConstruct a new `Headers` object. `init` can be either `null`, a `Headers` object, an key-value map object or any iterable object.\n\n```js\n// Example adapted from https://fetch.spec.whatwg.org/#example-headers-class\nconst Headers = require('node-fetch');\n\nconst meta = {\n\t'Content-Type': 'text/xml',\n\t'Breaking-Bad': '<3'\n};\nconst headers = new Headers(meta);\n\n// The above is equivalent to\nconst meta = [['Content-Type', 'text/xml'], ['Breaking-Bad', '<3']];\nconst headers = new Headers(meta);\n\n// You can in fact use any iterable objects, like a Map or even another Headers\nconst meta = new Map();\nmeta.set('Content-Type', 'text/xml');\nmeta.set('Breaking-Bad', '<3');\nconst headers = new Headers(meta);\nconst copyOfHeaders = new Headers(headers);\n```\n\n<a id=\"iface-body\"></a>\n\n### Interface: Body\n\n`Body` is an abstract interface with methods that are applicable to both `Request` and `Response` classes.\n\nThe following methods are not yet implemented in node-fetch at this moment:\n\n- `formData()`\n\n#### body.body\n\n<small>_(deviation from spec)_</small>\n\n- Node.js [`Readable` stream][node-readable]\n\nData are encapsulated in the `Body` object. Note that while the [Fetch Standard][whatwg-fetch] requires the property to always be a WHATWG `ReadableStream`, in node-fetch it is a Node.js [`Readable` stream][node-readable].\n\n#### body.bodyUsed\n\n<small>_(spec-compliant)_</small>\n\n- `Boolean`\n\nA boolean property for if this body has been consumed. Per the specs, a consumed body cannot be used again.\n\n#### body.arrayBuffer()\n\n#### body.blob()\n\n#### body.json()\n\n#### body.text()\n\n<small>_(spec-compliant)_</small>\n\n- Returns: `Promise`\n\nConsume the body and return a promise that will resolve to one of these formats.\n\n#### body.buffer()\n\n<small>_(node-fetch extension)_</small>\n\n- Returns: `Promise<Buffer>`\n\nConsume the body and return a promise that will resolve to a Buffer.\n\n<a id=\"class-fetcherror\"></a>\n\n### Class: FetchError\n\n<small>_(node-fetch extension)_</small>\n\nAn operational error in the fetching process. See [ERROR-HANDLING.md][] for more info.\n\n<a id=\"class-aborterror\"></a>\n\n### Class: AbortError\n\n<small>_(node-fetch extension)_</small>\n\nAn Error thrown when the request is aborted in response to an `AbortSignal`'s `abort` event. It has a `name` property of `AbortError`. See [ERROR-HANDLING.MD][] for more info.\n\n## TypeScript\n\nSince `3.x` types are bundled with `node-fetch`, so you don't need to install any additional packages.\n\nFor older versions please use the type definitions from [DefinitelyTyped](https://github.com/DefinitelyTyped/DefinitelyTyped):\n\n```sh\n$ npm install --save-dev @types/node-fetch\n```\n\n## Acknowledgement\n\nThanks to [github/fetch](https://github.com/github/fetch) for providing a solid implementation reference.\n\n## Team\n\n[![David Frank](https://github.com/bitinn.png?size=100)](https://github.com/bitinn) | [![Jimmy Wärting](https://github.com/jimmywarting.png?size=100)](https://github.com/jimmywarting) | [![Antoni Kepinski](https://github.com/xxczaki.png?size=100)](https://github.com/xxczaki) | [![Richie Bendall](https://github.com/Richienb.png?size=100)](https://github.com/Richienb) | [![Gregor Martynus](https://github.com/gr2m.png?size=100)](https://github.com/gr2m)\n---|---|---|---|---\n[David Frank](https://bitinn.net/) | [Jimmy Wärting](https://jimmy.warting.se/) | [Antoni Kepinski](https://kepinski.me) | [Richie Bendall](https://www.richie-bendall.ml/) | [Gregor Martynus](https://twitter.com/gr2m)\n\n###### Former\n\n- [Timothy Gu](https://github.com/timothygu)\n- [Jared Kantrowitz](https://github.com/jkantr)\n\n## License\n\nMIT\n\n[whatwg-fetch]: https://fetch.spec.whatwg.org/\n[response-init]: https://fetch.spec.whatwg.org/#responseinit\n[node-readable]: https://nodejs.org/api/stream.html#stream_readable_streams\n[mdn-headers]: https://developer.mozilla.org/en-US/docs/Web/API/Headers\n[error-handling.md]: https://github.com/node-fetch/node-fetch/blob/master/docs/ERROR-HANDLING.md\n","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"@pika/pack":{"pipeline":[["@pika/plugin-standard-pkg"]]},"xo":{"envs":["node","browser"],"rules":{"complexity":0,"promise/prefer-await-to-then":0,"no-mixed-operators":0,"no-negated-condition":0,"unicorn/prevent-abbreviations":0},"ignores":["dist"],"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"new-cap":0,"guard-for-in":0}},{"files":"example.js","rules":{"import/no-extraneous-dependencies":0}}]},"babel":{"presets":[["@babel/preset-env",{"targets":{"node":true}}]]},"nyc":{"require":["@babel/register"],"sourceMap":false,"instrument":false},"runkitExampleFilename":"example.js","readmeFilename":"README.md","gitHead":"d75bed0da1d79049426bb0c6fcb5710ae1034a2d","_nodeVersion":"12.0.0","_npmVersion":"6.9.0","maintainers":[{"email":"bitinn@gmail.com","name":"bitinn"},{"email":"jimmy@warting.se","name":"endless"},{"email":"timothygu99@gmail.com","name":"timothygu"}],"_npmUser":{"name":"bitinn","email":"bitinn@gmail.com"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.0.0-beta.4_1584165490620_0.27668916199086957"},"_hasShrinkwrap":false},"3.0.0-beta.5":{"_id":"node-fetch@3.0.0-beta.5","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"3.0.0-beta.5","keywords":["fetch","http","promise"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"build":"babel src --out-dir dist","test":"nyc --reporter=html --reporter=text mocha --require @babel/register --throw-deprecation","coverage":"nyc report --reporter=text-lcov | coveralls","lint":"xo"},"directories":{},"devDependencies":{"@babel/cli":"^7.8.4","@babel/core":"^7.9.0","@babel/preset-env":"^7.9.5","@babel/register":"^7.9.0","@istanbuljs/nyc-config-babel":"^3.0.0","abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.4.0","babel-plugin-add-module-exports":"^1.0.2","babel-plugin-istanbul":"^6.0.0","chai":"^4.2.0","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.0.13","form-data":"^3.0.0","mocha":"^7.1.1","nyc":"^15.0.1","parted":"^0.1.1","promise":"^8.1.0","resumer":"0.0.0","string-to-arraybuffer":"^1.0.2","xo":"^0.29.1"},"dependencies":{"data-uri-to-buffer":"^3.0.0","fetch-blob":"^1.0.5"},"engines":{"node":">=10"},"main":"./dist/index.js","dist":{"shasum":"227ec9667a707172c39d7ab0384a21d4c36281d1","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.0.0-beta.5.tgz"},"readme":"<div align=\"center\">\n  \t<img src=\"docs/media/Banner.svg\" alt=\"Node Fetch\"/>\n  \t<br>\n  \t<p>A light-weight module that brings <code>window.fetch</code> to Node.js.</p>\n\t<a href=\"https://travis-ci.com/node-fetch/node-fetch\"><img src=\"https://img.shields.io/travis/com/node-fetch/node-fetch/master?style=flat-square\" alt=\"Build status\"></a>\n\t<a href=\"https://coveralls.io/github/node-fetch/node-fetch\"><img src=\"https://img.shields.io/coveralls/github/node-fetch/node-fetch?style=flat-square\" alt=\"Coverage status\"></a>\n\t<a href=\"https://packagephobia.now.sh/result?p=node-fetch\"><img src=\"https://flat.badgen.net/packagephobia/install/node-fetch\" alt=\"Current version\"></a>\n\t<a href=\"https://www.npmjs.com/package/node-fetch\"><img src=\"https://img.shields.io/npm/v/node-fetch?style=flat-square\" alt=\"Install size\"></a>\n\t<a href=\"https://github.com/sindresorhus/awesome-nodejs\"><img src=\"https://awesome.re/mentioned-badge-flat.svg\" alt=\"Mentioned in Awesome Node.js\"></a>\n\t<a href=\"https://discord.gg/Zxbndcm\"><img src=\"https://img.shields.io/discord/619915844268326952?color=%237289DA&label=Discord&style=flat-square\" alt=\"Discord\"></a>\n\t<br>\n\t<br>\n\t<b>Consider supporting us on our Open Collective:</b>\n\t<br>\n\t<br>\n\t<a href=\"https://opencollective.com/node-fetch\"><img src=\"https://opencollective.com/node-fetch/donate/button.png?color=blue\" alt=\"Open Collective\"></a>\n</div>\n\n---\n\n<!-- TOC -->\n\n- [Motivation](#motivation)\n- [Features](#features)\n- [Difference from client-side fetch](#difference-from-client-side-fetch)\n- [Installation](#installation)\n- [Loading and configuring the module](#loading-and-configuring-the-module)\n- [Upgrading](#upgrading)\n- [Common Usage](#common-usage)\n    - [Plain text or HTML](#plain-text-or-html)\n    - [JSON](#json)\n    - [Simple Post](#simple-post)\n    - [Post with JSON](#post-with-json)\n    - [Post with form parameters](#post-with-form-parameters)\n    - [Handling exceptions](#handling-exceptions)\n    - [Handling client and server errors](#handling-client-and-server-errors)\n    - [Handling cookies](#handling-cookies)\n- [Advanced Usage](#advanced-usage)\n    - [Streams](#streams)\n    - [Buffer](#buffer)\n    - [Accessing Headers and other Meta data](#accessing-headers-and-other-meta-data)\n    - [Extract Set-Cookie Header](#extract-set-cookie-header)\n    - [Post data using a file stream](#post-data-using-a-file-stream)\n    - [Post with form-data (detect multipart)](#post-with-form-data-detect-multipart)\n    - [Request cancellation with AbortSignal](#request-cancellation-with-abortsignal)\n- [API](#api)\n    - [fetch(url[, options])](#fetchurl-options)\n    - [Options](#options)\n        - [Default Headers](#default-headers)\n        - [Custom Agent](#custom-agent)\n        - [Custom highWaterMark](#custom-highwatermark)\n    - [Class: Request](#class-request)\n        - [new Request(input[, options])](#new-requestinput-options)\n    - [Class: Response](#class-response)\n        - [new Response([body[, options]])](#new-responsebody-options)\n        - [response.ok](#responseok)\n        - [response.redirected](#responseredirected)\n    - [Class: Headers](#class-headers)\n        - [new Headers([init])](#new-headersinit)\n    - [Interface: Body](#interface-body)\n        - [body.body](#bodybody)\n        - [body.bodyUsed](#bodybodyused)\n        - [body.arrayBuffer()](#bodyarraybuffer)\n        - [body.blob()](#bodyblob)\n        - [body.json()](#bodyjson)\n        - [body.text()](#bodytext)\n        - [body.buffer()](#bodybuffer)\n    - [Class: FetchError](#class-fetcherror)\n    - [Class: AbortError](#class-aborterror)\n- [TypeScript](#typescript)\n- [Acknowledgement](#acknowledgement)\n- [Team](#team)\n                - [Former](#former)\n- [License](#license)\n\n<!-- /TOC -->\n\n## Motivation\n\nInstead of implementing `XMLHttpRequest` in Node.js to run browser-specific [Fetch polyfill](https://github.com/github/fetch), why not go from native `http` to `fetch` API directly? Hence, `node-fetch`, minimal code for a `window.fetch` compatible API on Node.js runtime.\n\nSee Jason Miller's [isomorphic-unfetch](https://www.npmjs.com/package/isomorphic-unfetch) or Leonardo Quixada's [cross-fetch](https://github.com/lquixada/cross-fetch) for isomorphic usage (exports `node-fetch` for server-side, `whatwg-fetch` for client-side).\n\n## Features\n\n- Stay consistent with `window.fetch` API.\n- Make conscious trade-off when following [WHATWG fetch spec][whatwg-fetch] and [stream spec](https://streams.spec.whatwg.org/) implementation details, document known differences.\n- Use native promise, but allow substituting it with [insert your favorite promise library].\n- Use native Node streams for body, on both request and response.\n- Decode content encoding (gzip/deflate) properly, and convert string output (such as `res.text()` and `res.json()`) to UTF-8 automatically.\n- Useful extensions such as timeout, redirect limit, response size limit, [explicit errors][error-handling.md] for troubleshooting.\n\n## Difference from client-side fetch\n\n- See known differences:\n\t- [As of v3.x](docs/v3-LIMITS.md)\n\t- [As of v2.x](docs/v2-LIMITS.md)\n- If you happen to use a missing feature that `window.fetch` offers, feel free to open an issue.\n- Pull requests are welcomed too!\n\n## Installation\n\nCurrent stable release (`3.x`)\n\n```sh\n$ npm install node-fetch\n```\n\n## Loading and configuring the module\n\n```js\n// CommonJS\nconst fetch = require('node-fetch');\n\n// ES Module\nimport fetch from 'node-fetch';\n```\n\nIf you are using a Promise library other than native, set it through `fetch.Promise`:\n\n```js\nconst fetch = require('node-fetch');\nconst Bluebird = require('bluebird');\n\nfetch.Promise = Bluebird;\n```\n\nIf you want to patch the global object in node:\n\n```js\nconst fetch = require('node-fetch');\n\nif (!globalThis.fetch) {\n    globalThis.fetch = fetch;\n}\n```\n\nFor versions of node earlier than 12.x, use this `globalThis` [polyfill](https://mathiasbynens.be/notes/globalthis):\n\n```js\n(function() {\n\tif (typeof globalThis === 'object') return;\n\tObject.defineProperty(Object.prototype, '__magic__', {\n\t\tget: function() {\n\t\t\treturn this;\n\t\t},\n\t\tconfigurable: true\n\t});\n\t__magic__.globalThis = __magic__;\n\tdelete Object.prototype.__magic__;\n}());\n```\n\n## Upgrading\n\nUsing an old version of node-fetch? Check out the following files:\n\n- [2.x to 3.x upgrade guide](docs/v3-UPGRADE-GUIDE.md)\n- [1.x to 2.x upgrade guide](docs/v2-UPGRADE-GUIDE.md)\n- [Changelog](docs/CHANGELOG.md)\n\n## Common Usage\n\nNOTE: The documentation below is up-to-date with `3.x` releases, if you are using an older version, please check how to [upgrade](#upgrading).\n\n### Plain text or HTML\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://github.com/')\n\t.then(res => res.text())\n\t.then(body => console.log(body));\n```\n\n### JSON\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://api.github.com/users/github')\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Simple Post\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://httpbin.org/post', {method: 'POST', body: 'a=1'})\n\t.then(res => res.json()) // expecting a json response\n\t.then(json => console.log(json));\n```\n\n### Post with JSON\n\n```js\nconst fetch = require('node-fetch');\n\nconst body = {a: 1};\n\nfetch('https://httpbin.org/post', {\n\tmethod: 'post',\n\tbody: JSON.stringify(body),\n\theaders: {'Content-Type': 'application/json'}\n})\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Post with form parameters\n\n`URLSearchParams` is available on the global object in Node.js as of v10.0.0. See [official documentation](https://nodejs.org/api/url.html#url_class_urlsearchparams) for more usage methods.\n\nNOTE: The `Content-Type` header is only set automatically to `x-www-form-urlencoded` when an instance of `URLSearchParams` is given as such:\n\n```js\nconst fetch = require('node-fetch');\n\nconst params = new URLSearchParams();\nparams.append('a', 1);\n\nfetch('https://httpbin.org/post', {method: 'POST', body: params})\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Handling exceptions\n\nNOTE: 3xx-5xx responses are _NOT_ exceptions, and should be handled in `then()`, see the next section.\n\nAdding a catch to the fetch promise chain will catch _all_ exceptions, such as errors originating from node core libraries, like network errors, and operational errors which are instances of FetchError. See the [error handling document][error-handling.md] for more details.\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://domain.invalid/').catch(err => console.error(err));\n```\n\n### Handling client and server errors\n\nIt is common to create a helper function to check that the response contains no client (4xx) or server (5xx) error responses:\n\n```js\nconst fetch = require('node-fetch');\n\nfunction checkStatus(res) {\n\tif (res.ok) {\n\t\t// res.status >= 200 && res.status < 300\n\t\treturn res;\n\t} else {\n\t\tthrow MyCustomError(res.statusText);\n\t}\n}\n\nfetch('https://httpbin.org/status/400')\n\t.then(checkStatus)\n\t.then(res => console.log('will not get here...'));\n```\n\n### Handling cookies\n\nCookies are not stored by default. However, cookies can be extracted and passed by manipulating request and response headers. See [Extract Set-Cookie Header](#extract-set-cookie-header) for details.\n\n## Advanced Usage\n\n### Streams\n\nThe \"Node.js way\" is to use streams when possible. You can pipe `res.body` to another stream. This example uses [stream.pipeline](https://nodejs.org/api/stream.html#stream_stream_pipeline_streams_callback) to attach stream error handlers and wait for the download to complete.\n\n```js\nconst util = require('util');\nconst fs = require('fs');\nconst streamPipeline = util.promisify(require('stream').pipeline);\n\nfetch('https://assets-cdn.github.com/images/modules/logos_page/Octocat.png')\n\t.then(res => {\n\t\tif (!res.ok) {\n\t\t\tthrow new Error(`unexpected response ${res.statusText}`);\n\t\t}\n\n\t\treturn streamPipeline(res.body, fs.createWriteStream('./octocat.png'));\n\t});\n```\n\n### Buffer\n\nIf you prefer to cache binary data in full, use buffer(). (NOTE: buffer() is a `node-fetch` only API)\n\n```js\nconst fetch = require('node-fetch');\nconst fileType = require('file-type');\n\nfetch('https://octodex.github.com/images/Fintechtocat.png')\n\t.then(res => res.buffer())\n\t.then(buffer => fileType(buffer))\n\t.then(type => {\n\t\tconsole.log(type);\n\t});\n```\n\n### Accessing Headers and other Meta data\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://github.com/').then(res => {\n\tconsole.log(res.ok);\n\tconsole.log(res.status);\n\tconsole.log(res.statusText);\n\tconsole.log(res.headers.raw());\n\tconsole.log(res.headers.get('content-type'));\n});\n```\n\n### Extract Set-Cookie Header\n\nUnlike browsers, you can access raw `Set-Cookie` headers manually using `Headers.raw()`. This is a `node-fetch` only API.\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://example.com').then(res => {\n\t// returns an array of values, instead of a string of comma-separated values\n\tconsole.log(res.headers.raw()['set-cookie']);\n});\n```\n\n### Post data using a file stream\n\n```js\nconst {createReadStream} = require('fs');\nconst fetch = require('node-fetch');\n\nconst stream = createReadStream('input.txt');\n\nfetch('https://httpbin.org/post', {method: 'POST', body: stream})\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Post with form-data (detect multipart)\n\n```js\nconst fetch = require('node-fetch');\nconst FormData = require('form-data');\n\nconst form = new FormData();\nform.append('a', 1);\n\nfetch('https://httpbin.org/post', {method: 'POST', body: form})\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n\n// OR, using custom headers\n// NOTE: getHeaders() is non-standard API\n\nconst options = {\n\tmethod: 'POST',\n\tbody: form,\n\theaders: form.getHeaders()\n};\n\nfetch('https://httpbin.org/post', options)\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Request cancellation with AbortSignal\n\nYou may cancel requests with `AbortController`. A suggested implementation is [`abort-controller`](https://www.npmjs.com/package/abort-controller).\n\nAn example of timing out a request after 150ms could be achieved as the following:\n\n```js\nconst fetch = require('node-fetch');\nconst AbortController = require('abort-controller');\n\nconst controller = new AbortController();\nconst timeout = setTimeout(() => {\n\tcontroller.abort();\n}, 150);\n\nfetch('https://example.com', {signal: controller.signal})\n\t.then(res => res.json())\n\t.then(\n\t\tdata => {\n\t\t\tuseData(data);\n\t\t},\n\t\terr => {\n\t\t\tif (err.name === 'AbortError') {\n                console.log('request was aborted');\n\t\t\t}\n\t\t}\n\t)\n\t.finally(() => {\n\t\tclearTimeout(timeout);\n\t});\n```\n\nSee [test cases](https://github.com/node-fetch/node-fetch/blob/master/test/test.js) for more examples.\n\n## API\n\n### fetch(url[, options])\n\n- `url` A string representing the URL for fetching\n- `options` [Options](#fetch-options) for the HTTP(S) request\n- Returns: <code>Promise&lt;[Response](#class-response)&gt;</code>\n\nPerform an HTTP(S) fetch.\n\n`url` should be an absolute url, such as `https://example.com/`. A path-relative URL (`/file/under/root`) or protocol-relative URL (`//can-be-http-or-https.com/`) will result in a rejected `Promise`.\n\n<a id=\"fetch-options\"></a>\n\n### Options\n\nThe default values are shown after each option key.\n\n```js\n{\n    // These properties are part of the Fetch Standard\n    method: 'GET',\n    headers: {},            // request headers. format is the identical to that accepted by the Headers constructor (see below)\n    body: null,             // request body. can be null, a string, a Buffer, a Blob, or a Node.js Readable stream\n    redirect: 'follow',     // set to `manual` to extract redirect headers, `error` to reject redirect\n    signal: null,           // pass an instance of AbortSignal to optionally abort requests\n\n    // The following properties are node-fetch extensions\n    follow: 20,             // maximum redirect count. 0 to not follow redirect\n    timeout: 0,             // req/res timeout in ms, it resets on redirect. 0 to disable (OS limit applies). Signal is recommended instead.\n    compress: true,         // support gzip/deflate content encoding. false to disable\n    size: 0,                // maximum response body size in bytes. 0 to disable\n    agent: null,            // http(s).Agent instance or function that returns an instance (see below)\n    highWaterMark: 16384    // the maximum number of bytes to store in the internal buffer before ceasing to read from the underlying resource.\n}\n```\n\n#### Default Headers\n\nIf no values are set, the following request headers will be sent automatically:\n\n| Header              | Value                                                    |\n| ------------------- | -------------------------------------------------------- |\n| `Accept-Encoding`   | `gzip,deflate` _(when `options.compress === true`)_      |\n| `Accept`            | `*/*`                                                    |\n| `Connection`        | `close` _(when no `options.agent` is present)_           |\n| `Content-Length`    | _(automatically calculated, if possible)_                |\n| `Transfer-Encoding` | `chunked` _(when `req.body` is a stream)_                |\n| `User-Agent`        | `node-fetch (+https://github.com/node-fetch/node-fetch)` |\n\nNote: when `body` is a `Stream`, `Content-Length` is not set automatically.\n\n#### Custom Agent\n\nThe `agent` option allows you to specify networking related options which are out of the scope of Fetch, including and not limited to the following:\n\n- Support self-signed certificate\n- Use only IPv4 or IPv6\n- Custom DNS Lookup\n\nSee [`http.Agent`](https://nodejs.org/api/http.html#http_new_agent_options) for more information.\n\nIn addition, the `agent` option accepts a function that returns `http`(s)`.Agent` instance given current [URL](https://nodejs.org/api/url.html), this is useful during a redirection chain across HTTP and HTTPS protocol.\n\n```js\nconst http = require('http');\nconst https = require('https');\n\nconst httpAgent = new http.Agent({\n\tkeepAlive: true\n});\nconst httpsAgent = new https.Agent({\n\tkeepAlive: true\n});\n\nconst options = {\n\tagent: function(_parsedURL) {\n\t\tif (_parsedURL.protocol == 'http:') {\n\t\t\treturn httpAgent;\n\t\t} else {\n\t\t\treturn httpsAgent;\n\t\t}\n\t}\n};\n```\n\n<a id=\"custom-highWaterMark\"></a>\n\n#### Custom highWaterMark\n\nStream on Node.js have a smaller internal buffer size (16Kb, aka `highWaterMark`) from client-side browsers (>1Mb, not consistent across browsers). Because of that, when you are writing an isomorphic app and using `res.clone()`, it will hang with large response in Node.\n\nThe recommended way to fix this problem is to resolve cloned response in parallel:\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://example.com').then(res => {\n\tconst r1 = res.clone();\n\n\treturn Promise.all([res.json(), r1.text()]).then(results => {\n\t\tconsole.log(results[0]);\n\t\tconsole.log(results[1]);\n\t});\n});\n```\n\nIf for some reason you don't like the solution above, since `3.x` you are able to modify the `highWaterMark` option:\n\n```js\nconst fetch = require('node-fetch');\n\nfetch('https://example.com', {highWaterMark: 10}).then(res => res.clone().buffer());\n```\n\n<a id=\"class-request\"></a>\n\n### Class: Request\n\nAn HTTP(S) request containing information about URL, method, headers, and the body. This class implements the [Body](#iface-body) interface.\n\nDue to the nature of Node.js, the following properties are not implemented at this moment:\n\n- `type`\n- `destination`\n- `referrer`\n- `referrerPolicy`\n- `mode`\n- `credentials`\n- `cache`\n- `integrity`\n- `keepalive`\n\nThe following node-fetch extension properties are provided:\n\n- `follow`\n- `compress`\n- `counter`\n- `agent`\n- `highWaterMark`\n\nSee [options](#fetch-options) for exact meaning of these extensions.\n\n#### new Request(input[, options])\n\n<small>_(spec-compliant)_</small>\n\n- `input` A string representing a URL, or another `Request` (which will be cloned)\n- `options` [Options][#fetch-options] for the HTTP(S) request\n\nConstructs a new `Request` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Request/Request).\n\nIn most cases, directly `fetch(url, options)` is simpler than creating a `Request` object.\n\n<a id=\"class-response\"></a>\n\n### Class: Response\n\nAn HTTP(S) response. This class implements the [Body](#iface-body) interface.\n\nThe following properties are not implemented in node-fetch at this moment:\n\n- `Response.error()`\n- `Response.redirect()`\n- `type`\n- `trailer`\n\n#### new Response([body[, options]])\n\n<small>_(spec-compliant)_</small>\n\n- `body` A `String` or [`Readable` stream][node-readable]\n- `options` A [`ResponseInit`][response-init] options dictionary\n\nConstructs a new `Response` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Response/Response).\n\nBecause Node.js does not implement service workers (for which this class was designed), one rarely has to construct a `Response` directly.\n\n#### response.ok\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request ended normally. Will evaluate to true if the response status was greater than or equal to 200 but smaller than 300.\n\n#### response.redirected\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request has been redirected at least once. Will evaluate to true if the internal redirect counter is greater than 0.\n\n<a id=\"class-headers\"></a>\n\n### Class: Headers\n\nThis class allows manipulating and iterating over a set of HTTP headers. All methods specified in the [Fetch Standard][whatwg-fetch] are implemented.\n\n#### new Headers([init])\n\n<small>_(spec-compliant)_</small>\n\n- `init` Optional argument to pre-fill the `Headers` object\n\nConstruct a new `Headers` object. `init` can be either `null`, a `Headers` object, an key-value map object or any iterable object.\n\n```js\n// Example adapted from https://fetch.spec.whatwg.org/#example-headers-class\nconst Headers = require('node-fetch');\n\nconst meta = {\n\t'Content-Type': 'text/xml',\n\t'Breaking-Bad': '<3'\n};\nconst headers = new Headers(meta);\n\n// The above is equivalent to\nconst meta = [['Content-Type', 'text/xml'], ['Breaking-Bad', '<3']];\nconst headers = new Headers(meta);\n\n// You can in fact use any iterable objects, like a Map or even another Headers\nconst meta = new Map();\nmeta.set('Content-Type', 'text/xml');\nmeta.set('Breaking-Bad', '<3');\nconst headers = new Headers(meta);\nconst copyOfHeaders = new Headers(headers);\n```\n\n<a id=\"iface-body\"></a>\n\n### Interface: Body\n\n`Body` is an abstract interface with methods that are applicable to both `Request` and `Response` classes.\n\nThe following methods are not yet implemented in node-fetch at this moment:\n\n- `formData()`\n\n#### body.body\n\n<small>_(deviation from spec)_</small>\n\n- Node.js [`Readable` stream][node-readable]\n\nData are encapsulated in the `Body` object. Note that while the [Fetch Standard][whatwg-fetch] requires the property to always be a WHATWG `ReadableStream`, in node-fetch it is a Node.js [`Readable` stream][node-readable].\n\n#### body.bodyUsed\n\n<small>_(spec-compliant)_</small>\n\n- `Boolean`\n\nA boolean property for if this body has been consumed. Per the specs, a consumed body cannot be used again.\n\n#### body.arrayBuffer()\n\n#### body.blob()\n\n#### body.json()\n\n#### body.text()\n\n<small>_(spec-compliant)_</small>\n\n- Returns: `Promise`\n\nConsume the body and return a promise that will resolve to one of these formats.\n\n#### body.buffer()\n\n<small>_(node-fetch extension)_</small>\n\n- Returns: `Promise<Buffer>`\n\nConsume the body and return a promise that will resolve to a Buffer.\n\n<a id=\"class-fetcherror\"></a>\n\n### Class: FetchError\n\n<small>_(node-fetch extension)_</small>\n\nAn operational error in the fetching process. See [ERROR-HANDLING.md][] for more info.\n\n<a id=\"class-aborterror\"></a>\n\n### Class: AbortError\n\n<small>_(node-fetch extension)_</small>\n\nAn Error thrown when the request is aborted in response to an `AbortSignal`'s `abort` event. It has a `name` property of `AbortError`. See [ERROR-HANDLING.MD][] for more info.\n\n## TypeScript\n\nSince `3.x` types are bundled with `node-fetch`, so you don't need to install any additional packages.\n\nFor older versions please use the type definitions from [DefinitelyTyped](https://github.com/DefinitelyTyped/DefinitelyTyped):\n\n```sh\n$ npm install --save-dev @types/node-fetch\n```\n\n## Acknowledgement\n\nThanks to [github/fetch](https://github.com/github/fetch) for providing a solid implementation reference.\n\n## Team\n\n[![David Frank](https://github.com/bitinn.png?size=100)](https://github.com/bitinn) | [![Jimmy Wärting](https://github.com/jimmywarting.png?size=100)](https://github.com/jimmywarting) | [![Antoni Kepinski](https://github.com/xxczaki.png?size=100)](https://github.com/xxczaki) | [![Richie Bendall](https://github.com/Richienb.png?size=100)](https://github.com/Richienb) | [![Gregor Martynus](https://github.com/gr2m.png?size=100)](https://github.com/gr2m)\n---|---|---|---|---\n[David Frank](https://bitinn.net/) | [Jimmy Wärting](https://jimmy.warting.se/) | [Antoni Kepinski](https://kepinski.me) | [Richie Bendall](https://www.richie-bendall.ml/) | [Gregor Martynus](https://twitter.com/gr2m)\n\n###### Former\n\n- [Timothy Gu](https://github.com/timothygu)\n- [Jared Kantrowitz](https://github.com/jkantr)\n\n## License\n\nMIT\n\n[whatwg-fetch]: https://fetch.spec.whatwg.org/\n[response-init]: https://fetch.spec.whatwg.org/#responseinit\n[node-readable]: https://nodejs.org/api/stream.html#stream_readable_streams\n[mdn-headers]: https://developer.mozilla.org/en-US/docs/Web/API/Headers\n[error-handling.md]: https://github.com/node-fetch/node-fetch/blob/master/docs/ERROR-HANDLING.md\n","module":"./src/index.js","sideEffects":false,"funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"xo":{"envs":["node","browser"],"rules":{"complexity":0,"promise/prefer-await-to-then":0,"no-mixed-operators":0,"no-negated-condition":0,"unicorn/prevent-abbreviations":0,"@typescript-eslint/prefer-readonly-parameter-types":0},"ignores":["dist","index.d.ts"],"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"new-cap":0,"guard-for-in":0}},{"files":"example.js","rules":{"import/no-extraneous-dependencies":0}}]},"babel":{"presets":[["@babel/preset-env",{"targets":{"node":true}}]],"plugins":["add-module-exports","istanbul"]},"nyc":{"extends":"@istanbuljs/nyc-config-babel"},"runkitExampleFilename":"example.js","readmeFilename":"README.md","gitHead":"4f73c8a766fb509fdb27f38bf7ecf3fef9944b4d","_nodeVersion":"13.13.0","_npmVersion":"6.14.4","maintainers":[{"email":"xxczaki@pm.me","name":"akepinski"},{"email":"bitinn@gmail.com","name":"bitinn"},{"email":"jimmy@warting.se","name":"endless"},{"email":"timothygu99@gmail.com","name":"timothygu"}],"_npmUser":{"name":"akepinski","email":"xxczaki@pm.me"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.0.0-beta.5_1587548563871_0.13264435111849293"},"_hasShrinkwrap":false},"3.0.0-beta.6":{"_id":"node-fetch@3.0.0-beta.6","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"3.0.0-beta.6","keywords":["fetch","http","promise"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"build":"rollup -c","test":"node --experimental-modules node_modules/c8/bin/c8 --reporter=html --reporter=lcov --reporter=text --check-coverage node --experimental-modules node_modules/mocha/bin/mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.4.0","c8":"^7.1.2","chai":"^4.2.0","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","delay":"^4.3.0","form-data":"^3.0.0","mocha":"^7.1.2","p-timeout":"^3.2.0","parted":"^0.1.1","promise":"^8.1.0","resumer":"0.0.0","rollup":"^2.10.8","string-to-arraybuffer":"^1.0.2","tsc":"^1.20150623.0","tsd":"^0.11.0","xo":"^0.30.0"},"dependencies":{"data-uri-to-buffer":"^3.0.0","fetch-blob":"^1.0.6"},"engines":{"node":">=10.16"},"main":"./dist/index.cjs","dist":{"shasum":"eaec5c49371d7aaf0905e0433b596178a23174e4","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.0.0-beta.6.tgz"},"readme":"<div align=\"center\">\n  \t<img src=\"docs/media/Banner.svg\" alt=\"Node Fetch\"/>\n  \t<br>\n  \t<p>A light-weight module that brings <code>window.fetch</code> to Node.js.</p>\n\t<a href=\"https://github.com/node-fetch/node-fetch/actions\"><img src=\"https://github.com/node-fetch/node-fetch/workflows/CI/badge.svg?branch=master\" alt=\"Build status\"></a>\n\t<a href=\"https://coveralls.io/github/node-fetch/node-fetch\"><img src=\"https://img.shields.io/coveralls/github/node-fetch/node-fetch\" alt=\"Coverage status\"></a>\n\t<a href=\"https://packagephobia.now.sh/result?p=node-fetch\"><img src=\"https://badgen.net/packagephobia/install/node-fetch\" alt=\"Current version\"></a>\n\t<a href=\"https://www.npmjs.com/package/node-fetch\"><img src=\"https://img.shields.io/npm/v/node-fetch\" alt=\"Install size\"></a>\n\t<a href=\"https://github.com/sindresorhus/awesome-nodejs\"><img src=\"https://awesome.re/mentioned-badge.svg\" alt=\"Mentioned in Awesome Node.js\"></a>\n\t<a href=\"https://discord.gg/Zxbndcm\"><img src=\"https://img.shields.io/discord/619915844268326952?color=%237289DA&label=Discord\" alt=\"Discord\"></a>\n\t<br>\n\t<br>\n\t<b>Consider supporting us on our Open Collective:</b>\n\t<br>\n\t<br>\n\t<a href=\"https://opencollective.com/node-fetch\"><img src=\"https://opencollective.com/node-fetch/donate/button.png?color=blue\" alt=\"Open Collective\"></a>\n</div>\n\n---\n\n<!-- TOC -->\n\n- [Motivation](#motivation)\n- [Features](#features)\n- [Difference from client-side fetch](#difference-from-client-side-fetch)\n- [Installation](#installation)\n- [Loading and configuring the module](#loading-and-configuring-the-module)\n- [Upgrading](#upgrading)\n- [Common Usage](#common-usage)\n\t- [Plain text or HTML](#plain-text-or-html)\n\t- [JSON](#json)\n\t- [Simple Post](#simple-post)\n\t- [Post with JSON](#post-with-json)\n\t- [Post with form parameters](#post-with-form-parameters)\n\t- [Handling exceptions](#handling-exceptions)\n\t- [Handling client and server errors](#handling-client-and-server-errors)\n\t- [Handling cookies](#handling-cookies)\n- [Advanced Usage](#advanced-usage)\n\t- [Streams](#streams)\n\t- [Buffer](#buffer)\n\t- [Accessing Headers and other Meta data](#accessing-headers-and-other-meta-data)\n\t- [Extract Set-Cookie Header](#extract-set-cookie-header)\n\t- [Post data using a file stream](#post-data-using-a-file-stream)\n\t- [Post with form-data (detect multipart)](#post-with-form-data-detect-multipart)\n\t- [Request cancellation with AbortSignal](#request-cancellation-with-abortsignal)\n- [API](#api)\n\t- [fetch(url[, options])](#fetchurl-options)\n\t- [Options](#options)\n\t\t- [Default Headers](#default-headers)\n\t\t- [Custom Agent](#custom-agent)\n\t\t- [Custom highWaterMark](#custom-highwatermark)\n\t- [Class: Request](#class-request)\n\t\t- [new Request(input[, options])](#new-requestinput-options)\n\t- [Class: Response](#class-response)\n\t\t- [new Response([body[, options]])](#new-responsebody-options)\n\t\t- [response.ok](#responseok)\n\t\t- [response.redirected](#responseredirected)\n\t- [Class: Headers](#class-headers)\n\t\t- [new Headers([init])](#new-headersinit)\n\t- [Interface: Body](#interface-body)\n\t\t- [body.body](#bodybody)\n\t\t- [body.bodyUsed](#bodybodyused)\n\t\t- [body.arrayBuffer()](#bodyarraybuffer)\n\t\t- [body.blob()](#bodyblob)\n\t\t- [body.json()](#bodyjson)\n\t\t- [body.text()](#bodytext)\n\t\t- [body.buffer()](#bodybuffer)\n\t- [Class: FetchError](#class-fetcherror)\n\t- [Class: AbortError](#class-aborterror)\n- [TypeScript](#typescript)\n- [Acknowledgement](#acknowledgement)\n- [Team](#team)\n\t\t\t\t- [Former](#former)\n- [License](#license)\n\n<!-- /TOC -->\n\n## Motivation\n\nInstead of implementing `XMLHttpRequest` in Node.js to run browser-specific [Fetch polyfill](https://github.com/github/fetch), why not go from native `http` to `fetch` API directly? Hence, `node-fetch`, minimal code for a `window.fetch` compatible API on Node.js runtime.\n\nSee Jason Miller's [isomorphic-unfetch](https://www.npmjs.com/package/isomorphic-unfetch) or Leonardo Quixada's [cross-fetch](https://github.com/lquixada/cross-fetch) for isomorphic usage (exports `node-fetch` for server-side, `whatwg-fetch` for client-side).\n\n## Features\n\n- Stay consistent with `window.fetch` API.\n- Make conscious trade-off when following [WHATWG fetch spec][whatwg-fetch] and [stream spec](https://streams.spec.whatwg.org/) implementation details, document known differences.\n- Use native promise, but allow substituting it with [insert your favorite promise library].\n- Use native Node streams for body, on both request and response.\n- Decode content encoding (gzip/deflate) properly, and convert string output (such as `res.text()` and `res.json()`) to UTF-8 automatically.\n- Useful extensions such as redirect limit, response size limit, [explicit errors][error-handling.md] for troubleshooting.\n\n## Difference from client-side fetch\n\n- See known differences:\n\t- [As of v3.x](docs/v3-LIMITS.md)\n\t- [As of v2.x](docs/v2-LIMITS.md)\n- If you happen to use a missing feature that `window.fetch` offers, feel free to open an issue.\n- Pull requests are welcomed too!\n\n## Installation\n\nCurrent stable release (`3.x`)\n\n```sh\n$ npm install node-fetch\n```\n\n## Loading and configuring the module\n\n```js\n// CommonJS\nconst fetch = require('node-fetch');\n\n// ES Module\nimport fetch from 'node-fetch';\n```\n\nIf you are using a Promise library other than native, set it through `fetch.Promise`:\n\n```js\nconst fetch = require('node-fetch');\nconst Bluebird = require('bluebird');\n\nfetch.Promise = Bluebird;\n```\n\nIf you want to patch the global object in node:\n\n```js\nconst fetch = require('node-fetch');\n\nif (!globalThis.fetch) {\n    globalThis.fetch = fetch;\n}\n```\n\nFor versions of Node earlier than 12, use this `globalThis` [polyfill](https://mathiasbynens.be/notes/globalthis).\n\n## Upgrading\n\nUsing an old version of node-fetch? Check out the following files:\n\n- [2.x to 3.x upgrade guide](docs/v3-UPGRADE-GUIDE.md)\n- [1.x to 2.x upgrade guide](docs/v2-UPGRADE-GUIDE.md)\n- [Changelog](docs/CHANGELOG.md)\n\n## Common Usage\n\nNOTE: The documentation below is up-to-date with `3.x` releases, if you are using an older version, please check how to [upgrade](#upgrading).\n\n### Plain text or HTML\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://github.com/');\n\tconst body = await response.text();\n\n\tconsole.log(body);\n})();\n```\n\n### JSON\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://api.github.com/users/github');\n\tconst json = await response.json();\n\n\tconsole.log(json);\n})();\n```\n\n### Simple Post\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: 'a=1'});\n\tconst json = await response.json();\n\n\tconsole.log(json);\n})();\n```\n\n### Post with JSON\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst body = {a: 1};\n\n\tconst response = await fetch('https://httpbin.org/post', {\n\t\tmethod: 'post',\n\t\tbody: JSON.stringify(body),\n\t\theaders: {'Content-Type': 'application/json'}\n\t});\n\tconst json = await response.json();\n\n\tconsole.log(json);\n})();\n```\n\n### Post with form parameters\n\n`URLSearchParams` is available on the global object in Node.js as of v10.0.0. See [official documentation](https://nodejs.org/api/url.html#url_class_urlsearchparams) for more usage methods.\n\nNOTE: The `Content-Type` header is only set automatically to `x-www-form-urlencoded` when an instance of `URLSearchParams` is given as such:\n\n```js\nconst fetch = require('node-fetch');\n\nconst params = new URLSearchParams();\nparams.append('a', 1);\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: params});\n\tconst json = await response.json();\n\n\tconsole.log(json);\n})();\n```\n\n### Handling exceptions\n\nNOTE: 3xx-5xx responses are _NOT_ exceptions, and should be handled in `then()`, see the next section.\n\nWrapping the fetch function into a `try/catch` block will catch _all_ exceptions, such as errors originating from node core libraries, like network errors, and operational errors which are instances of FetchError. See the [error handling document][error-handling.md] for more details.\n\n```js\nconst fetch = require('node-fetch');\n\ntry {\n\tfetch('https://domain.invalid/');\n} catch (error) {\n\tconsole.log(error);\n}\n```\n\n### Handling client and server errors\n\nIt is common to create a helper function to check that the response contains no client (4xx) or server (5xx) error responses:\n\n```js\nconst fetch = require('node-fetch');\n\nconst checkStatus = res => {\n\tif (res.ok) {\n\t\t// res.status >= 200 && res.status < 300\n\t\treturn res;\n\t} else {\n\t\tthrow MyCustomError(res.statusText);\n\t}\n}\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/status/400');\n\tconst data = checkStatus(response);\n\n\tconsole.log(data); //=> MyCustomError\n})();\n```\n\n### Handling cookies\n\nCookies are not stored by default. However, cookies can be extracted and passed by manipulating request and response headers. See [Extract Set-Cookie Header](#extract-set-cookie-header) for details.\n\n## Advanced Usage\n\n### Streams\n\nThe \"Node.js way\" is to use streams when possible. You can pipe `res.body` to another stream. This example uses [stream.pipeline](https://nodejs.org/api/stream.html#stream_stream_pipeline_streams_callback) to attach stream error handlers and wait for the download to complete.\n\n```js\nconst util = require('util');\nconst fs = require('fs');\nconst streamPipeline = util.promisify(require('stream').pipeline);\n\n(async () => {\n\tconst response = await fetch('https://assets-cdn.github.com/images/modules/logos_page/Octocat.png');\n\t\n\tif (response.ok) {\n\t\treturn streamPipeline(res.body, fs.createWriteStream('./octocat.png'));\n\t}\n\n\tthrow new Error(`unexpected response ${res.statusText}`);\n})();\n```\n\n### Buffer\n\nIf you prefer to cache binary data in full, use buffer(). (NOTE: buffer() is a `node-fetch` only API)\n\n```js\nconst fetch = require('node-fetch');\nconst fileType = require('file-type');\n\n(async () => {\n\tconst response = await fetch('https://octodex.github.com/images/Fintechtocat.png');\n\tconst buffer = await response.buffer();\n\tconst type = fileType.fromBuffer(buffer)\n\t\n\tconsole.log(type);\n})();\n```\n\n### Accessing Headers and other Meta data\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://github.com/');\n\t\n\tconsole.log(res.ok);\n\tconsole.log(res.status);\n\tconsole.log(res.statusText);\n\tconsole.log(res.headers.raw());\n\tconsole.log(res.headers.get('content-type'));\n})();\n```\n\n### Extract Set-Cookie Header\n\nUnlike browsers, you can access raw `Set-Cookie` headers manually using `Headers.raw()`. This is a `node-fetch` only API.\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://example.com');\n\t\n\t// Returns an array of values, instead of a string of comma-separated values\n\tconsole.log(res.headers.raw()['set-cookie']);\n})();\n```\n\n### Post data using a file stream\n\n```js\nconst {createReadStream} = require('fs');\nconst fetch = require('node-fetch');\n\nconst stream = createReadStream('input.txt');\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: stream});\n\tconst json = await response.json();\n\t\n\tconsole.log(json)\n})();\n```\n\n### Post with form-data (detect multipart)\n\n```js\nconst fetch = require('node-fetch');\nconst FormData = require('form-data');\n\nconst form = new FormData();\nform.append('a', 1);\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: form});\n\tconst json = await response.json();\n\t\n\tconsole.log(json)\n})();\n\n// OR, using custom headers\n// NOTE: getHeaders() is non-standard API\n\nconst options = {\n\tmethod: 'POST',\n\tbody: form,\n\theaders: form.getHeaders()\n};\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', options);\n\tconst json = await response.json();\n\t\n\tconsole.log(json)\n})();\n```\n\n### Request cancellation with AbortSignal\n\nYou may cancel requests with `AbortController`. A suggested implementation is [`abort-controller`](https://www.npmjs.com/package/abort-controller).\n\nAn example of timing out a request after 150ms could be achieved as the following:\n\n```js\nconst fetch = require('node-fetch');\nconst AbortController = require('abort-controller');\n\nconst controller = new AbortController();\nconst timeout = setTimeout(() => {\n\tcontroller.abort();\n}, 150);\n\n(async () => {\n\ttry {\n\t\tconst response = await fetch('https://example.com', {signal: controller.signal});\n\t\tconst data = await response.json();\n\t\t\n\t\tuseData(data);\n\t} catch (error) {\n\t\tif (error.name === 'AbortError') {\n            console.log('request was aborted');\n\t\t}\n\t} finally {\n\t\tclearTimeout(timeout);\n\t}\n})();\n```\n\nSee [test cases](https://github.com/node-fetch/node-fetch/blob/master/test/) for more examples.\n\n## API\n\n### fetch(url[, options])\n\n- `url` A string representing the URL for fetching\n- `options` [Options](#fetch-options) for the HTTP(S) request\n- Returns: <code>Promise&lt;[Response](#class-response)&gt;</code>\n\nPerform an HTTP(S) fetch.\n\n`url` should be an absolute url, such as `https://example.com/`. A path-relative URL (`/file/under/root`) or protocol-relative URL (`//can-be-http-or-https.com/`) will result in a rejected `Promise`.\n\n<a id=\"fetch-options\"></a>\n\n### Options\n\nThe default values are shown after each option key.\n\n```js\n{\n    // These properties are part of the Fetch Standard\n    method: 'GET',\n    headers: {},            // Request headers. format is the identical to that accepted by the Headers constructor (see below)\n    body: null,             // Request body. can be null, a string, a Buffer, a Blob, or a Node.js Readable stream\n    redirect: 'follow',     // Set to `manual` to extract redirect headers, `error` to reject redirect\n    signal: null,           // Pass an instance of AbortSignal to optionally abort requests\n\n    // The following properties are node-fetch extensions\n    follow: 20,             // maximum redirect count. 0 to not follow redirect\n    compress: true,         // support gzip/deflate content encoding. false to disable\n    size: 0,                // maximum response body size in bytes. 0 to disable\n    agent: null,            // http(s).Agent instance or function that returns an instance (see below)\n    highWaterMark: 16384    // the maximum number of bytes to store in the internal buffer before ceasing to read from the underlying resource.\n}\n```\n\n#### Default Headers\n\nIf no values are set, the following request headers will be sent automatically:\n\n| Header              | Value                                                  |\n| ------------------- | ------------------------------------------------------ |\n| `Accept-Encoding`   | `gzip,deflate,br` _(when `options.compress === true`)_ |\n| `Accept`            | `*/*`                                                  |\n| `Connection`        | `close` _(when no `options.agent` is present)_         |\n| `Content-Length`    | _(automatically calculated, if possible)_              |\n| `Transfer-Encoding` | `chunked` _(when `req.body` is a stream)_              |\n| `User-Agent`        | `node-fetch`                                           |\n\n\nNote: when `body` is a `Stream`, `Content-Length` is not set automatically.\n\n#### Custom Agent\n\nThe `agent` option allows you to specify networking related options which are out of the scope of Fetch, including and not limited to the following:\n\n- Support self-signed certificate\n- Use only IPv4 or IPv6\n- Custom DNS Lookup\n\nSee [`http.Agent`](https://nodejs.org/api/http.html#http_new_agent_options) for more information.\n\nIn addition, the `agent` option accepts a function that returns `http`(s)`.Agent` instance given current [URL](https://nodejs.org/api/url.html), this is useful during a redirection chain across HTTP and HTTPS protocol.\n\n```js\nconst http = require('http');\nconst https = require('https');\n\nconst httpAgent = new http.Agent({\n\tkeepAlive: true\n});\nconst httpsAgent = new https.Agent({\n\tkeepAlive: true\n});\n\nconst options = {\n\tagent: function(_parsedURL) {\n\t\tif (_parsedURL.protocol == 'http:') {\n\t\t\treturn httpAgent;\n\t\t} else {\n\t\t\treturn httpsAgent;\n\t\t}\n\t}\n};\n```\n\n<a id=\"custom-highWaterMark\"></a>\n\n#### Custom highWaterMark\n\nStream on Node.js have a smaller internal buffer size (16kB, aka `highWaterMark`) from client-side browsers (>1MB, not consistent across browsers). Because of that, when you are writing an isomorphic app and using `res.clone()`, it will hang with large response in Node.\n\nThe recommended way to fix this problem is to resolve cloned response in parallel:\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://example.com');\n\tconst r1 = await response.clone();\n\t\n\treturn Promise.all([res.json(), r1.text()]).then(results => {\n\t\tconsole.log(results[0]);\n\t\tconsole.log(results[1]);\n\t});\n})();\n```\n\nIf for some reason you don't like the solution above, since `3.x` you are able to modify the `highWaterMark` option:\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://example.com', {\n\t\t// About 1MB\n\t\thighWaterMark: 1024 * 1024\n\t});\n\t\n\treturn res.clone().buffer();\n})();\n```\n\n<a id=\"class-request\"></a>\n\n### Class: Request\n\nAn HTTP(S) request containing information about URL, method, headers, and the body. This class implements the [Body](#iface-body) interface.\n\nDue to the nature of Node.js, the following properties are not implemented at this moment:\n\n- `type`\n- `destination`\n- `referrer`\n- `referrerPolicy`\n- `mode`\n- `credentials`\n- `cache`\n- `integrity`\n- `keepalive`\n\nThe following node-fetch extension properties are provided:\n\n- `follow`\n- `compress`\n- `counter`\n- `agent`\n- `highWaterMark`\n\nSee [options](#fetch-options) for exact meaning of these extensions.\n\n#### new Request(input[, options])\n\n<small>_(spec-compliant)_</small>\n\n- `input` A string representing a URL, or another `Request` (which will be cloned)\n- `options` [Options][#fetch-options] for the HTTP(S) request\n\nConstructs a new `Request` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Request/Request).\n\nIn most cases, directly `fetch(url, options)` is simpler than creating a `Request` object.\n\n<a id=\"class-response\"></a>\n\n### Class: Response\n\nAn HTTP(S) response. This class implements the [Body](#iface-body) interface.\n\nThe following properties are not implemented in node-fetch at this moment:\n\n- `Response.error()`\n- `Response.redirect()`\n- `type`\n- `trailer`\n\n#### new Response([body[, options]])\n\n<small>_(spec-compliant)_</small>\n\n- `body` A `String` or [`Readable` stream][node-readable]\n- `options` A [`ResponseInit`][response-init] options dictionary\n\nConstructs a new `Response` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Response/Response).\n\nBecause Node.js does not implement service workers (for which this class was designed), one rarely has to construct a `Response` directly.\n\n#### response.ok\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request ended normally. Will evaluate to true if the response status was greater than or equal to 200 but smaller than 300.\n\n#### response.redirected\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request has been redirected at least once. Will evaluate to true if the internal redirect counter is greater than 0.\n\n<a id=\"class-headers\"></a>\n\n### Class: Headers\n\nThis class allows manipulating and iterating over a set of HTTP headers. All methods specified in the [Fetch Standard][whatwg-fetch] are implemented.\n\n#### new Headers([init])\n\n<small>_(spec-compliant)_</small>\n\n- `init` Optional argument to pre-fill the `Headers` object\n\nConstruct a new `Headers` object. `init` can be either `null`, a `Headers` object, an key-value map object or any iterable object.\n\n```js\n// Example adapted from https://fetch.spec.whatwg.org/#example-headers-class\nconst Headers = require('node-fetch');\n\nconst meta = {\n\t'Content-Type': 'text/xml',\n\t'Breaking-Bad': '<3'\n};\nconst headers = new Headers(meta);\n\n// The above is equivalent to\nconst meta = [['Content-Type', 'text/xml'], ['Breaking-Bad', '<3']];\nconst headers = new Headers(meta);\n\n// You can in fact use any iterable objects, like a Map or even another Headers\nconst meta = new Map();\nmeta.set('Content-Type', 'text/xml');\nmeta.set('Breaking-Bad', '<3');\nconst headers = new Headers(meta);\nconst copyOfHeaders = new Headers(headers);\n```\n\n<a id=\"iface-body\"></a>\n\n### Interface: Body\n\n`Body` is an abstract interface with methods that are applicable to both `Request` and `Response` classes.\n\nThe following methods are not yet implemented in node-fetch at this moment:\n\n- `formData()`\n\n#### body.body\n\n<small>_(deviation from spec)_</small>\n\n- Node.js [`Readable` stream][node-readable]\n\nData are encapsulated in the `Body` object. Note that while the [Fetch Standard][whatwg-fetch] requires the property to always be a WHATWG `ReadableStream`, in node-fetch it is a Node.js [`Readable` stream][node-readable].\n\n#### body.bodyUsed\n\n<small>_(spec-compliant)_</small>\n\n- `Boolean`\n\nA boolean property for if this body has been consumed. Per the specs, a consumed body cannot be used again.\n\n#### body.arrayBuffer()\n\n#### body.blob()\n\n#### body.json()\n\n#### body.text()\n\n<small>_(spec-compliant)_</small>\n\n- Returns: `Promise`\n\nConsume the body and return a promise that will resolve to one of these formats.\n\n#### body.buffer()\n\n<small>_(node-fetch extension)_</small>\n\n- Returns: `Promise<Buffer>`\n\nConsume the body and return a promise that will resolve to a Buffer.\n\n<a id=\"class-fetcherror\"></a>\n\n### Class: FetchError\n\n<small>_(node-fetch extension)_</small>\n\nAn operational error in the fetching process. See [ERROR-HANDLING.md][] for more info.\n\n<a id=\"class-aborterror\"></a>\n\n### Class: AbortError\n\n<small>_(node-fetch extension)_</small>\n\nAn Error thrown when the request is aborted in response to an `AbortSignal`'s `abort` event. It has a `name` property of `AbortError`. See [ERROR-HANDLING.MD][] for more info.\n\n## TypeScript\n\n**Since `3.x` types are bundled with `node-fetch`, so you don't need to install any additional packages.**\n\nFor older versions please use the type definitions from [DefinitelyTyped](https://github.com/DefinitelyTyped/DefinitelyTyped):\n\n```sh\n$ npm install --save-dev @types/node-fetch\n```\n\n## Acknowledgement\n\nThanks to [github/fetch](https://github.com/github/fetch) for providing a solid implementation reference.\n\n## Team\n\n| [![David Frank](https://github.com/bitinn.png?size=100)](https://github.com/bitinn) | [![Jimmy Wärting](https://github.com/jimmywarting.png?size=100)](https://github.com/jimmywarting) | [![Antoni Kepinski](https://github.com/xxczaki.png?size=100)](https://github.com/xxczaki) | [![Richie Bendall](https://github.com/Richienb.png?size=100)](https://github.com/Richienb) | [![Gregor Martynus](https://github.com/gr2m.png?size=100)](https://github.com/gr2m) |\n| ----------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------- |\n| [David Frank](https://bitinn.net/)                                                  | [Jimmy Wärting](https://jimmy.warting.se/)                                                        | [Antoni Kepinski](https://kepinski.me)                                                    | [Richie Bendall](https://www.richie-bendall.ml/)                                           | [Gregor Martynus](https://twitter.com/gr2m)                                         |\n\n###### Former\n\n- [Timothy Gu](https://github.com/timothygu)\n- [Jared Kantrowitz](https://github.com/jkantr)\n\n## License\n\n[MIT](LICENSE.md)\n\n[whatwg-fetch]: https://fetch.spec.whatwg.org/\n[response-init]: https://fetch.spec.whatwg.org/#responseinit\n[node-readable]: https://nodejs.org/api/stream.html#stream_readable_streams\n[mdn-headers]: https://developer.mozilla.org/en-US/docs/Web/API/Headers\n[error-handling.md]: https://github.com/node-fetch/node-fetch/blob/master/docs/ERROR-HANDLING.md\n","module":"./src/index.js","sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"target":"esnext","lib":["es2018"],"allowSyntheticDefaultImports":true}},"xo":{"envs":["node","browser"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"unicorn/import-index":0,"capitalized-comments":0},"ignores":["dist","@types"],"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"new-cap":0,"guard-for-in":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}},{"files":"example.js","rules":{"import/no-extraneous-dependencies":0}}]},"runkitExampleFilename":"example.js","readmeFilename":"README.md","gitHead":"aab3c605eb8e1897dbcf105c43b00d31db754a4d","_nodeVersion":"14.3.0","_npmVersion":"6.14.5","maintainers":[{"email":"xxczaki@pm.me","name":"akepinski"},{"email":"bitinn@gmail.com","name":"bitinn"},{"email":"jimmy@warting.se","name":"endless"},{"email":"timothygu99@gmail.com","name":"timothygu"}],"_npmUser":{"name":"akepinski","email":"xxczaki@pm.me"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.0.0-beta.6_1590420066603_0.794872758899698"},"_hasShrinkwrap":false},"3.0.0-beta.7":{"_id":"node-fetch@3.0.0-beta.7","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"3.0.0-beta.7","keywords":["fetch","http","promise"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"build":"rollup -c","test":"node --experimental-modules node_modules/c8/bin/c8 --reporter=html --reporter=lcov --reporter=text --check-coverage node --experimental-modules node_modules/mocha/bin/mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo","prepublishOnly":"node ./test/commonjs/test-artifact.js"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.4.0","busboy":"^0.3.1","c8":"^7.1.2","chai":"^4.2.0","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","delay":"^4.3.0","form-data":"^3.0.0","formdata-node":"^2.2.0","mocha":"^8.0.0","p-timeout":"^3.2.0","parted":"^0.1.1","rollup":"^2.15.0","string-to-arraybuffer":"^1.0.2","tsd":"^0.11.0","xo":"^0.32.0"},"dependencies":{"data-uri-to-buffer":"^3.0.1","fetch-blob":"^2.0.0"},"engines":{"node":">=10.17"},"main":"./dist/index.cjs","dist":{"shasum":"28e122943aa8a3e4e7447d525fc138c207faa834","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.0.0-beta.7.tgz"},"readme":"<div align=\"center\">\n  \t<img src=\"docs/media/Banner.svg\" alt=\"Node Fetch\"/>\n  \t<br>\n  \t<p>A light-weight module that brings <code>window.fetch</code> to Node.js.</p>\n\t<a href=\"https://github.com/node-fetch/node-fetch/actions\"><img src=\"https://github.com/node-fetch/node-fetch/workflows/CI/badge.svg?branch=master\" alt=\"Build status\"></a>\n\t<a href=\"https://coveralls.io/github/node-fetch/node-fetch\"><img src=\"https://img.shields.io/coveralls/github/node-fetch/node-fetch\" alt=\"Coverage status\"></a>\n\t<a href=\"https://packagephobia.now.sh/result?p=node-fetch\"><img src=\"https://badgen.net/packagephobia/install/node-fetch\" alt=\"Current version\"></a>\n\t<a href=\"https://www.npmjs.com/package/node-fetch\"><img src=\"https://img.shields.io/npm/v/node-fetch\" alt=\"Install size\"></a>\n\t<a href=\"https://github.com/sindresorhus/awesome-nodejs\"><img src=\"https://awesome.re/mentioned-badge.svg\" alt=\"Mentioned in Awesome Node.js\"></a>\n\t<a href=\"https://discord.gg/Zxbndcm\"><img src=\"https://img.shields.io/discord/619915844268326952?color=%237289DA&label=Discord\" alt=\"Discord\"></a>\n\t<br>\n\t<br>\n\t<b>Consider supporting us on our Open Collective:</b>\n\t<br>\n\t<br>\n\t<a href=\"https://opencollective.com/node-fetch\"><img src=\"https://opencollective.com/node-fetch/donate/button.png?color=blue\" alt=\"Open Collective\"></a>\n</div>\n\n---\n\n<!-- TOC -->\n\n- [Motivation](#motivation)\n- [Features](#features)\n- [Difference from client-side fetch](#difference-from-client-side-fetch)\n- [Installation](#installation)\n- [Loading and configuring the module](#loading-and-configuring-the-module)\n- [Upgrading](#upgrading)\n- [Common Usage](#common-usage)\n\t- [Plain text or HTML](#plain-text-or-html)\n\t- [JSON](#json)\n\t- [Simple Post](#simple-post)\n\t- [Post with JSON](#post-with-json)\n\t- [Post with form parameters](#post-with-form-parameters)\n\t- [Handling exceptions](#handling-exceptions)\n\t- [Handling client and server errors](#handling-client-and-server-errors)\n\t- [Handling cookies](#handling-cookies)\n- [Advanced Usage](#advanced-usage)\n\t- [Streams](#streams)\n\t- [Buffer](#buffer)\n\t- [Accessing Headers and other Meta data](#accessing-headers-and-other-meta-data)\n\t- [Extract Set-Cookie Header](#extract-set-cookie-header)\n\t- [Post data using a file stream](#post-data-using-a-file-stream)\n\t- [Post with form-data (detect multipart)](#post-with-form-data-detect-multipart)\n\t- [Request cancellation with AbortSignal](#request-cancellation-with-abortsignal)\n- [API](#api)\n\t- [fetch(url[, options])](#fetchurl-options)\n\t- [Options](#options)\n\t\t- [Default Headers](#default-headers)\n\t\t- [Custom Agent](#custom-agent)\n\t\t- [Custom highWaterMark](#custom-highwatermark)\n\t- [Class: Request](#class-request)\n\t\t- [new Request(input[, options])](#new-requestinput-options)\n\t- [Class: Response](#class-response)\n\t\t- [new Response([body[, options]])](#new-responsebody-options)\n\t\t- [response.ok](#responseok)\n\t\t- [response.redirected](#responseredirected)\n\t- [Class: Headers](#class-headers)\n\t\t- [new Headers([init])](#new-headersinit)\n\t- [Interface: Body](#interface-body)\n\t\t- [body.body](#bodybody)\n\t\t- [body.bodyUsed](#bodybodyused)\n\t\t- [body.arrayBuffer()](#bodyarraybuffer)\n\t\t- [body.blob()](#bodyblob)\n\t\t- [body.json()](#bodyjson)\n\t\t- [body.text()](#bodytext)\n\t\t- [body.buffer()](#bodybuffer)\n\t- [Class: FetchError](#class-fetcherror)\n\t- [Class: AbortError](#class-aborterror)\n- [TypeScript](#typescript)\n- [Acknowledgement](#acknowledgement)\n- [Team](#team)\n\t\t\t\t- [Former](#former)\n- [License](#license)\n\n<!-- /TOC -->\n\n## Motivation\n\nInstead of implementing `XMLHttpRequest` in Node.js to run browser-specific [Fetch polyfill](https://github.com/github/fetch), why not go from native `http` to `fetch` API directly? Hence, `node-fetch`, minimal code for a `window.fetch` compatible API on Node.js runtime.\n\nSee Jason Miller's [isomorphic-unfetch](https://www.npmjs.com/package/isomorphic-unfetch) or Leonardo Quixada's [cross-fetch](https://github.com/lquixada/cross-fetch) for isomorphic usage (exports `node-fetch` for server-side, `whatwg-fetch` for client-side).\n\n## Features\n\n- Stay consistent with `window.fetch` API.\n- Make conscious trade-off when following [WHATWG fetch spec][whatwg-fetch] and [stream spec](https://streams.spec.whatwg.org/) implementation details, document known differences.\n- Use native promise and async functions.\n- Use native Node streams for body, on both request and response.\n- Decode content encoding (gzip/deflate/brotli) properly, and convert string output (such as `res.text()` and `res.json()`) to UTF-8 automatically.\n- Useful extensions such as redirect limit, response size limit, [explicit errors][error-handling.md] for troubleshooting.\n\n## Difference from client-side fetch\n\n- See known differences:\n\t- [As of v3.x](docs/v3-LIMITS.md)\n\t- [As of v2.x](docs/v2-LIMITS.md)\n- If you happen to use a missing feature that `window.fetch` offers, feel free to open an issue.\n- Pull requests are welcomed too!\n\n## Installation\n\nCurrent stable release (`3.x`)\n\n```sh\n$ npm install node-fetch\n```\n\n## Loading and configuring the module\n\n```js\n// CommonJS\nconst fetch = require('node-fetch');\n\n// ES Module\nimport fetch from 'node-fetch';\n```\n\nIf you want to patch the global object in node:\n\n```js\nconst fetch = require('node-fetch');\n\nif (!globalThis.fetch) {\n    globalThis.fetch = fetch;\n}\n```\n\nFor versions of Node earlier than 12, use this `globalThis` [polyfill](https://mathiasbynens.be/notes/globalthis).\n\n## Upgrading\n\nUsing an old version of node-fetch? Check out the following files:\n\n- [2.x to 3.x upgrade guide](docs/v3-UPGRADE-GUIDE.md)\n- [1.x to 2.x upgrade guide](docs/v2-UPGRADE-GUIDE.md)\n- [Changelog](docs/CHANGELOG.md)\n\n## Common Usage\n\nNOTE: The documentation below is up-to-date with `3.x` releases, if you are using an older version, please check how to [upgrade](#upgrading).\n\n### Plain text or HTML\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://github.com/');\n\tconst body = await response.text();\n\n\tconsole.log(body);\n})();\n```\n\n### JSON\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://api.github.com/users/github');\n\tconst json = await response.json();\n\n\tconsole.log(json);\n})();\n```\n\n### Simple Post\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: 'a=1'});\n\tconst json = await response.json();\n\n\tconsole.log(json);\n})();\n```\n\n### Post with JSON\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst body = {a: 1};\n\n\tconst response = await fetch('https://httpbin.org/post', {\n\t\tmethod: 'post',\n\t\tbody: JSON.stringify(body),\n\t\theaders: {'Content-Type': 'application/json'}\n\t});\n\tconst json = await response.json();\n\n\tconsole.log(json);\n})();\n```\n\n### Post with form parameters\n\n`URLSearchParams` is available on the global object in Node.js as of v10.0.0. See [official documentation](https://nodejs.org/api/url.html#url_class_urlsearchparams) for more usage methods.\n\nNOTE: The `Content-Type` header is only set automatically to `x-www-form-urlencoded` when an instance of `URLSearchParams` is given as such:\n\n```js\nconst fetch = require('node-fetch');\n\nconst params = new URLSearchParams();\nparams.append('a', 1);\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: params});\n\tconst json = await response.json();\n\n\tconsole.log(json);\n})();\n```\n\n### Handling exceptions\n\nNOTE: 3xx-5xx responses are _NOT_ exceptions, and should be handled in `then()`, see the next section.\n\nWrapping the fetch function into a `try/catch` block will catch _all_ exceptions, such as errors originating from node core libraries, like network errors, and operational errors which are instances of FetchError. See the [error handling document][error-handling.md] for more details.\n\n```js\nconst fetch = require('node-fetch');\n\ntry {\n\tfetch('https://domain.invalid/');\n} catch (error) {\n\tconsole.log(error);\n}\n```\n\n### Handling client and server errors\n\nIt is common to create a helper function to check that the response contains no client (4xx) or server (5xx) error responses:\n\n```js\nconst fetch = require('node-fetch');\n\nconst checkStatus = res => {\n\tif (res.ok) {\n\t\t// res.status >= 200 && res.status < 300\n\t\treturn res;\n\t} else {\n\t\tthrow MyCustomError(res.statusText);\n\t}\n}\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/status/400');\n\tconst data = checkStatus(response);\n\n\tconsole.log(data); //=> MyCustomError\n})();\n```\n\n### Handling cookies\n\nCookies are not stored by default. However, cookies can be extracted and passed by manipulating request and response headers. See [Extract Set-Cookie Header](#extract-set-cookie-header) for details.\n\n## Advanced Usage\n\n### Streams\n\nThe \"Node.js way\" is to use streams when possible. You can pipe `res.body` to another stream. This example uses [stream.pipeline](https://nodejs.org/api/stream.html#stream_stream_pipeline_streams_callback) to attach stream error handlers and wait for the download to complete.\n\n```js\nconst util = require('util');\nconst fs = require('fs');\nconst streamPipeline = util.promisify(require('stream').pipeline);\n\n(async () => {\n\tconst response = await fetch('https://assets-cdn.github.com/images/modules/logos_page/Octocat.png');\n\t\n\tif (response.ok) {\n\t\treturn streamPipeline(response.body, fs.createWriteStream('./octocat.png'));\n\t}\n\n\tthrow new Error(`unexpected response ${response.statusText}`);\n})();\n```\n\n### Buffer\n\nIf you prefer to cache binary data in full, use buffer(). (NOTE: buffer() is a `node-fetch` only API)\n\n```js\nconst fetch = require('node-fetch');\nconst fileType = require('file-type');\n\n(async () => {\n\tconst response = await fetch('https://octodex.github.com/images/Fintechtocat.png');\n\tconst buffer = await response.buffer();\n\tconst type = fileType.fromBuffer(buffer)\n\t\n\tconsole.log(type);\n})();\n```\n\n### Accessing Headers and other Meta data\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://github.com/');\n\t\n\tconsole.log(response.ok);\n\tconsole.log(response.status);\n\tconsole.log(response.statusText);\n\tconsole.log(response.headers.raw());\n\tconsole.log(response.headers.get('content-type'));\n})();\n```\n\n### Extract Set-Cookie Header\n\nUnlike browsers, you can access raw `Set-Cookie` headers manually using `Headers.raw()`. This is a `node-fetch` only API.\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://example.com');\n\t\n\t// Returns an array of values, instead of a string of comma-separated values\n\tconsole.log(response.headers.raw()['set-cookie']);\n})();\n```\n\n### Post data using a file stream\n\n```js\nconst {createReadStream} = require('fs');\nconst fetch = require('node-fetch');\n\nconst stream = createReadStream('input.txt');\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: stream});\n\tconst json = await response.json();\n\t\n\tconsole.log(json)\n})();\n```\n\n### Post with form-data (detect multipart)\n\n```js\nconst fetch = require('node-fetch');\nconst FormData = require('form-data');\n\nconst form = new FormData();\nform.append('a', 1);\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: form});\n\tconst json = await response.json();\n\t\n\tconsole.log(json)\n})();\n\n// OR, using custom headers\n// NOTE: getHeaders() is non-standard API\n\nconst options = {\n\tmethod: 'POST',\n\tbody: form,\n\theaders: form.getHeaders()\n};\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', options);\n\tconst json = await response.json();\n\t\n\tconsole.log(json)\n})();\n```\n\nnode-fetch also supports spec-compliant FormData implementations such as [formdata-node](https://github.com/octet-stream/form-data):\n\n```js\nconst fetch = require('node-fetch');\nconst FormData = require('formdata-node');\n\nconst form = new FormData();\nform.set('greeting', 'Hello, world!');\n\nfetch('https://httpbin.org/post', {method: 'POST', body: form})\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Request cancellation with AbortSignal\n\nYou may cancel requests with `AbortController`. A suggested implementation is [`abort-controller`](https://www.npmjs.com/package/abort-controller).\n\nAn example of timing out a request after 150ms could be achieved as the following:\n\n```js\nconst fetch = require('node-fetch');\nconst AbortController = require('abort-controller');\n\nconst controller = new AbortController();\nconst timeout = setTimeout(() => {\n\tcontroller.abort();\n}, 150);\n\n(async () => {\n\ttry {\n\t\tconst response = await fetch('https://example.com', {signal: controller.signal});\n\t\tconst data = await response.json();\n\t\t\n\t\tuseData(data);\n\t} catch (error) {\n\t\tif (error.name === 'AbortError') {\n            console.log('request was aborted');\n\t\t}\n\t} finally {\n\t\tclearTimeout(timeout);\n\t}\n})();\n```\n\nSee [test cases](https://github.com/node-fetch/node-fetch/blob/master/test/) for more examples.\n\n## API\n\n### fetch(url[, options])\n\n- `url` A string representing the URL for fetching\n- `options` [Options](#fetch-options) for the HTTP(S) request\n- Returns: <code>Promise&lt;[Response](#class-response)&gt;</code>\n\nPerform an HTTP(S) fetch.\n\n`url` should be an absolute url, such as `https://example.com/`. A path-relative URL (`/file/under/root`) or protocol-relative URL (`//can-be-http-or-https.com/`) will result in a rejected `Promise`.\n\n<a id=\"fetch-options\"></a>\n\n### Options\n\nThe default values are shown after each option key.\n\n```js\n{\n    // These properties are part of the Fetch Standard\n    method: 'GET',\n    headers: {},            // Request headers. format is the identical to that accepted by the Headers constructor (see below)\n    body: null,             // Request body. can be null, a string, a Buffer, a Blob, or a Node.js Readable stream\n    redirect: 'follow',     // Set to `manual` to extract redirect headers, `error` to reject redirect\n    signal: null,           // Pass an instance of AbortSignal to optionally abort requests\n\n    // The following properties are node-fetch extensions\n    follow: 20,             // maximum redirect count. 0 to not follow redirect\n    compress: true,         // support gzip/deflate content encoding. false to disable\n    size: 0,                // maximum response body size in bytes. 0 to disable\n    agent: null,            // http(s).Agent instance or function that returns an instance (see below)\n    highWaterMark: 16384,   // the maximum number of bytes to store in the internal buffer before ceasing to read from the underlying resource.\n    insecureHTTPParser: false\t// Use an insecure HTTP parser that accepts invalid HTTP headers when `true`.\n}\n```\n\n#### Default Headers\n\nIf no values are set, the following request headers will be sent automatically:\n\n| Header              | Value                                                  |\n| ------------------- | ------------------------------------------------------ |\n| `Accept-Encoding`   | `gzip,deflate,br` _(when `options.compress === true`)_ |\n| `Accept`            | `*/*`                                                  |\n| `Connection`        | `close` _(when no `options.agent` is present)_         |\n| `Content-Length`    | _(automatically calculated, if possible)_              |\n| `Transfer-Encoding` | `chunked` _(when `req.body` is a stream)_              |\n| `User-Agent`        | `node-fetch`                                           |\n\n\nNote: when `body` is a `Stream`, `Content-Length` is not set automatically.\n\n#### Custom Agent\n\nThe `agent` option allows you to specify networking related options which are out of the scope of Fetch, including and not limited to the following:\n\n- Support self-signed certificate\n- Use only IPv4 or IPv6\n- Custom DNS Lookup\n\nSee [`http.Agent`](https://nodejs.org/api/http.html#http_new_agent_options) for more information.\n\nIn addition, the `agent` option accepts a function that returns `http`(s)`.Agent` instance given current [URL](https://nodejs.org/api/url.html), this is useful during a redirection chain across HTTP and HTTPS protocol.\n\n```js\nconst http = require('http');\nconst https = require('https');\n\nconst httpAgent = new http.Agent({\n\tkeepAlive: true\n});\nconst httpsAgent = new https.Agent({\n\tkeepAlive: true\n});\n\nconst options = {\n\tagent: function(_parsedURL) {\n\t\tif (_parsedURL.protocol == 'http:') {\n\t\t\treturn httpAgent;\n\t\t} else {\n\t\t\treturn httpsAgent;\n\t\t}\n\t}\n};\n```\n\n<a id=\"custom-highWaterMark\"></a>\n\n#### Custom highWaterMark\n\nStream on Node.js have a smaller internal buffer size (16kB, aka `highWaterMark`) from client-side browsers (>1MB, not consistent across browsers). Because of that, when you are writing an isomorphic app and using `res.clone()`, it will hang with large response in Node.\n\nThe recommended way to fix this problem is to resolve cloned response in parallel:\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://example.com');\n\tconst r1 = await response.clone();\n\t\n\treturn Promise.all([res.json(), r1.text()]).then(results => {\n\t\tconsole.log(results[0]);\n\t\tconsole.log(results[1]);\n\t});\n})();\n```\n\nIf for some reason you don't like the solution above, since `3.x` you are able to modify the `highWaterMark` option:\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://example.com', {\n\t\t// About 1MB\n\t\thighWaterMark: 1024 * 1024\n\t});\n\t\n\treturn res.clone().buffer();\n})();\n```\n\n#### Insecure HTTP Parser\n\nPassed through to the `insecureHTTPParser` option on http(s).request. See [`http.request`](https://nodejs.org/api/http.html#http_http_request_url_options_callback) for more information.\n\n\n<a id=\"class-request\"></a>\n\n### Class: Request\n\nAn HTTP(S) request containing information about URL, method, headers, and the body. This class implements the [Body](#iface-body) interface.\n\nDue to the nature of Node.js, the following properties are not implemented at this moment:\n\n- `type`\n- `destination`\n- `referrer`\n- `referrerPolicy`\n- `mode`\n- `credentials`\n- `cache`\n- `integrity`\n- `keepalive`\n\nThe following node-fetch extension properties are provided:\n\n- `follow`\n- `compress`\n- `counter`\n- `agent`\n- `highWaterMark`\n\nSee [options](#fetch-options) for exact meaning of these extensions.\n\n#### new Request(input[, options])\n\n<small>_(spec-compliant)_</small>\n\n- `input` A string representing a URL, or another `Request` (which will be cloned)\n- `options` [Options][#fetch-options] for the HTTP(S) request\n\nConstructs a new `Request` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Request/Request).\n\nIn most cases, directly `fetch(url, options)` is simpler than creating a `Request` object.\n\n<a id=\"class-response\"></a>\n\n### Class: Response\n\nAn HTTP(S) response. This class implements the [Body](#iface-body) interface.\n\nThe following properties are not implemented in node-fetch at this moment:\n\n- `Response.error()`\n- `Response.redirect()`\n- `type`\n- `trailer`\n\n#### new Response([body[, options]])\n\n<small>_(spec-compliant)_</small>\n\n- `body` A `String` or [`Readable` stream][node-readable]\n- `options` A [`ResponseInit`][response-init] options dictionary\n\nConstructs a new `Response` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Response/Response).\n\nBecause Node.js does not implement service workers (for which this class was designed), one rarely has to construct a `Response` directly.\n\n#### response.ok\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request ended normally. Will evaluate to true if the response status was greater than or equal to 200 but smaller than 300.\n\n#### response.redirected\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request has been redirected at least once. Will evaluate to true if the internal redirect counter is greater than 0.\n\n<a id=\"class-headers\"></a>\n\n### Class: Headers\n\nThis class allows manipulating and iterating over a set of HTTP headers. All methods specified in the [Fetch Standard][whatwg-fetch] are implemented.\n\n#### new Headers([init])\n\n<small>_(spec-compliant)_</small>\n\n- `init` Optional argument to pre-fill the `Headers` object\n\nConstruct a new `Headers` object. `init` can be either `null`, a `Headers` object, an key-value map object or any iterable object.\n\n```js\n// Example adapted from https://fetch.spec.whatwg.org/#example-headers-class\nconst { Headers } = require('node-fetch');\n\nconst meta = {\n\t'Content-Type': 'text/xml',\n\t'Breaking-Bad': '<3'\n};\nconst headers = new Headers(meta);\n\n// The above is equivalent to\nconst meta = [['Content-Type', 'text/xml'], ['Breaking-Bad', '<3']];\nconst headers = new Headers(meta);\n\n// You can in fact use any iterable objects, like a Map or even another Headers\nconst meta = new Map();\nmeta.set('Content-Type', 'text/xml');\nmeta.set('Breaking-Bad', '<3');\nconst headers = new Headers(meta);\nconst copyOfHeaders = new Headers(headers);\n```\n\n<a id=\"iface-body\"></a>\n\n### Interface: Body\n\n`Body` is an abstract interface with methods that are applicable to both `Request` and `Response` classes.\n\nThe following methods are not yet implemented in node-fetch at this moment:\n\n- `formData()`\n\n#### body.body\n\n<small>_(deviation from spec)_</small>\n\n- Node.js [`Readable` stream][node-readable]\n\nData are encapsulated in the `Body` object. Note that while the [Fetch Standard][whatwg-fetch] requires the property to always be a WHATWG `ReadableStream`, in node-fetch it is a Node.js [`Readable` stream][node-readable].\n\n#### body.bodyUsed\n\n<small>_(spec-compliant)_</small>\n\n- `Boolean`\n\nA boolean property for if this body has been consumed. Per the specs, a consumed body cannot be used again.\n\n#### body.arrayBuffer()\n\n#### body.blob()\n\n#### body.json()\n\n#### body.text()\n\n<small>_(spec-compliant)_</small>\n\n- Returns: `Promise`\n\nConsume the body and return a promise that will resolve to one of these formats.\n\n#### body.buffer()\n\n<small>_(node-fetch extension)_</small>\n\n- Returns: `Promise<Buffer>`\n\nConsume the body and return a promise that will resolve to a Buffer.\n\n<a id=\"class-fetcherror\"></a>\n\n### Class: FetchError\n\n<small>_(node-fetch extension)_</small>\n\nAn operational error in the fetching process. See [ERROR-HANDLING.md][] for more info.\n\n<a id=\"class-aborterror\"></a>\n\n### Class: AbortError\n\n<small>_(node-fetch extension)_</small>\n\nAn Error thrown when the request is aborted in response to an `AbortSignal`'s `abort` event. It has a `name` property of `AbortError`. See [ERROR-HANDLING.MD][] for more info.\n\n## TypeScript\n\n**Since `3.x` types are bundled with `node-fetch`, so you don't need to install any additional packages.**\n\nFor older versions please use the type definitions from [DefinitelyTyped](https://github.com/DefinitelyTyped/DefinitelyTyped):\n\n```sh\n$ npm install --save-dev @types/node-fetch\n```\n\n## Acknowledgement\n\nThanks to [github/fetch](https://github.com/github/fetch) for providing a solid implementation reference.\n\n## Team\n\n| [![David Frank](https://github.com/bitinn.png?size=100)](https://github.com/bitinn) | [![Jimmy Wärting](https://github.com/jimmywarting.png?size=100)](https://github.com/jimmywarting) | [![Antoni Kepinski](https://github.com/xxczaki.png?size=100)](https://github.com/xxczaki) | [![Richie Bendall](https://github.com/Richienb.png?size=100)](https://github.com/Richienb) | [![Gregor Martynus](https://github.com/gr2m.png?size=100)](https://github.com/gr2m) |\n| ----------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------- |\n| [David Frank](https://bitinn.net/)                                                  | [Jimmy Wärting](https://jimmy.warting.se/)                                                        | [Antoni Kepinski](https://kepinski.me)                                                    | [Richie Bendall](https://www.richie-bendall.ml/)                                           | [Gregor Martynus](https://twitter.com/gr2m)                                         |\n\n###### Former\n\n- [Timothy Gu](https://github.com/timothygu)\n- [Jared Kantrowitz](https://github.com/jkantr)\n\n## License\n\n[MIT](LICENSE.md)\n\n[whatwg-fetch]: https://fetch.spec.whatwg.org/\n[response-init]: https://fetch.spec.whatwg.org/#responseinit\n[node-readable]: https://nodejs.org/api/stream.html#stream_readable_streams\n[mdn-headers]: https://developer.mozilla.org/en-US/docs/Web/API/Headers\n[error-handling.md]: https://github.com/node-fetch/node-fetch/blob/master/docs/ERROR-HANDLING.md\n","module":"./src/index.js","sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"esm":{"sourceMap":true,"cjs":false},"tsd":{"cwd":"@types","compilerOptions":{"target":"esnext","lib":["es2018"],"allowSyntheticDefaultImports":false,"esModuleInterop":false}},"xo":{"envs":["node","browser"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"unicorn/import-index":0,"unicorn/no-reduce":0,"capitalized-comments":0,"node/no-unsupported-features/node-builtins":["error",{"ignores":["stream.Readable.from"]}]},"ignores":["dist","@types"],"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"new-cap":0,"guard-for-in":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}},{"files":"example.js","rules":{"import/no-extraneous-dependencies":0}}]},"runkitExampleFilename":"example.js","readmeFilename":"README.md","gitHead":"2c005872ae21eff6b11c9536a55e7b8091b96273","_nodeVersion":"14.3.0","_npmVersion":"6.14.5","maintainers":[{"email":"xxczaki@pm.me","name":"akepinski"},{"email":"bitinn@gmail.com","name":"bitinn"},{"email":"jimmy@warting.se","name":"endless"},{"email":"timothygu99@gmail.com","name":"timothygu"}],"_npmUser":{"name":"akepinski","email":"xxczaki@pm.me"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.0.0-beta.7_1591867868680_0.8094233683683905"},"_hasShrinkwrap":false},"3.0.0-beta.8":{"_id":"node-fetch@3.0.0-beta.8","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"3.0.0-beta.8","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"build":"rollup -c","test":"node --experimental-modules node_modules/c8/bin/c8 --reporter=html --reporter=lcov --reporter=text --check-coverage node --experimental-modules node_modules/mocha/bin/mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo","prepublishOnly":"node ./test/commonjs/test-artifact.js"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.4.0","busboy":"^0.3.1","c8":"^7.1.2","chai":"^4.2.0","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","delay":"^4.3.0","form-data":"^3.0.0","formdata-node":"^2.2.0","mocha":"^8.0.0","p-timeout":"^3.2.0","rollup":"^2.15.0","tsd":"^0.13.1","xo":"^0.32.0"},"dependencies":{"data-uri-to-buffer":"^3.0.1","fetch-blob":"^2.0.0"},"engines":{"node":"^10.17 || >=12.3"},"main":"./dist/index.cjs","dist":{"shasum":"d8c4408a54b7727654b5823f8944550a72a10c50","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.0.0-beta.8.tgz"},"readme":"<div align=\"center\">\n  \t<img src=\"docs/media/Banner.svg\" alt=\"Node Fetch\"/>\n  \t<br>\n  \t<p>A light-weight module that brings <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\">Fetch API</a> to Node.js.</p>\n\t<a href=\"https://github.com/node-fetch/node-fetch/actions\"><img src=\"https://github.com/node-fetch/node-fetch/workflows/CI/badge.svg?branch=master\" alt=\"Build status\"></a>\n\t<a href=\"https://coveralls.io/github/node-fetch/node-fetch\"><img src=\"https://img.shields.io/coveralls/github/node-fetch/node-fetch\" alt=\"Coverage status\"></a>\n\t<a href=\"https://packagephobia.now.sh/result?p=node-fetch\"><img src=\"https://badgen.net/packagephobia/install/node-fetch\" alt=\"Current version\"></a>\n\t<a href=\"https://www.npmjs.com/package/node-fetch\"><img src=\"https://img.shields.io/npm/v/node-fetch\" alt=\"Install size\"></a>\n\t<a href=\"https://github.com/sindresorhus/awesome-nodejs\"><img src=\"https://awesome.re/mentioned-badge.svg\" alt=\"Mentioned in Awesome Node.js\"></a>\n\t<a href=\"https://discord.gg/Zxbndcm\"><img src=\"https://img.shields.io/discord/619915844268326952?color=%237289DA&label=Discord\" alt=\"Discord\"></a>\n\t<br>\n\t<br>\n\t<b>Consider supporting us on our Open Collective:</b>\n\t<br>\n\t<br>\n\t<a href=\"https://opencollective.com/node-fetch\"><img src=\"https://opencollective.com/node-fetch/donate/button.png?color=blue\" alt=\"Open Collective\"></a>\n</div>\n\n---\n\n<!-- TOC -->\n\n- [Motivation](#motivation)\n- [Features](#features)\n- [Difference from client-side fetch](#difference-from-client-side-fetch)\n- [Installation](#installation)\n- [Loading and configuring the module](#loading-and-configuring-the-module)\n- [Upgrading](#upgrading)\n- [Common Usage](#common-usage)\n\t- [Plain text or HTML](#plain-text-or-html)\n\t- [JSON](#json)\n\t- [Simple Post](#simple-post)\n\t- [Post with JSON](#post-with-json)\n\t- [Post with form parameters](#post-with-form-parameters)\n\t- [Handling exceptions](#handling-exceptions)\n\t- [Handling client and server errors](#handling-client-and-server-errors)\n\t- [Handling cookies](#handling-cookies)\n- [Advanced Usage](#advanced-usage)\n\t- [Streams](#streams)\n\t- [Buffer](#buffer)\n\t- [Accessing Headers and other Meta data](#accessing-headers-and-other-meta-data)\n\t- [Extract Set-Cookie Header](#extract-set-cookie-header)\n\t- [Post data using a file stream](#post-data-using-a-file-stream)\n\t- [Post with form-data (detect multipart)](#post-with-form-data-detect-multipart)\n\t- [Request cancellation with AbortSignal](#request-cancellation-with-abortsignal)\n- [API](#api)\n\t- [fetch(url[, options])](#fetchurl-options)\n\t- [Options](#options)\n\t\t- [Default Headers](#default-headers)\n\t\t- [Custom Agent](#custom-agent)\n\t\t- [Custom highWaterMark](#custom-highwatermark)\n\t\t- [Insecure HTTP Parser](#insecure-http-parser)\n\t- [Class: Request](#class-request)\n\t\t- [new Request(input[, options])](#new-requestinput-options)\n\t- [Class: Response](#class-response)\n\t\t- [new Response([body[, options]])](#new-responsebody-options)\n\t\t- [response.ok](#responseok)\n\t\t- [response.redirected](#responseredirected)\n\t- [Class: Headers](#class-headers)\n\t\t- [new Headers([init])](#new-headersinit)\n\t- [Interface: Body](#interface-body)\n\t\t- [body.body](#bodybody)\n\t\t- [body.bodyUsed](#bodybodyused)\n\t\t- [body.arrayBuffer()](#bodyarraybuffer)\n\t\t- [body.blob()](#bodyblob)\n\t\t- [body.json()](#bodyjson)\n\t\t- [body.text()](#bodytext)\n\t\t- [body.buffer()](#bodybuffer)\n\t- [Class: FetchError](#class-fetcherror)\n\t- [Class: AbortError](#class-aborterror)\n- [TypeScript](#typescript)\n- [Acknowledgement](#acknowledgement)\n- [Team](#team)\n\t\t\t\t- [Former](#former)\n- [License](#license)\n\n<!-- /TOC -->\n\n## Motivation\n\nInstead of implementing `XMLHttpRequest` in Node.js to run browser-specific [Fetch polyfill](https://github.com/github/fetch), why not go from native `http` to `fetch` API directly? Hence, `node-fetch`, minimal code for a `window.fetch` compatible API on Node.js runtime.\n\nSee Jason Miller's [isomorphic-unfetch](https://www.npmjs.com/package/isomorphic-unfetch) or Leonardo Quixada's [cross-fetch](https://github.com/lquixada/cross-fetch) for isomorphic usage (exports `node-fetch` for server-side, `whatwg-fetch` for client-side).\n\n## Features\n\n- Stay consistent with `window.fetch` API.\n- Make conscious trade-off when following [WHATWG fetch spec][whatwg-fetch] and [stream spec](https://streams.spec.whatwg.org/) implementation details, document known differences.\n- Use native promise and async functions.\n- Use native Node streams for body, on both request and response.\n- Decode content encoding (gzip/deflate/brotli) properly, and convert string output (such as `res.text()` and `res.json()`) to UTF-8 automatically.\n- Useful extensions such as redirect limit, response size limit, [explicit errors][error-handling.md] for troubleshooting.\n\n## Difference from client-side fetch\n\n- See known differences:\n\t- [As of v3.x](docs/v3-LIMITS.md)\n\t- [As of v2.x](docs/v2-LIMITS.md)\n- If you happen to use a missing feature that `window.fetch` offers, feel free to open an issue.\n- Pull requests are welcomed too!\n\n## Installation\n\nCurrent stable release (`3.x`)\n\n```sh\n$ npm install node-fetch\n```\n\n## Loading and configuring the module\n\n```js\n// CommonJS\nconst fetch = require('node-fetch');\n\n// ES Module\nimport fetch from 'node-fetch';\n```\n\nIf you want to patch the global object in node:\n\n```js\nconst fetch = require('node-fetch');\n\nif (!globalThis.fetch) {\n    globalThis.fetch = fetch;\n}\n```\n\nFor versions of Node earlier than 12, use this `globalThis` [polyfill](https://mathiasbynens.be/notes/globalthis).\n\n## Upgrading\n\nUsing an old version of node-fetch? Check out the following files:\n\n- [2.x to 3.x upgrade guide](docs/v3-UPGRADE-GUIDE.md)\n- [1.x to 2.x upgrade guide](docs/v2-UPGRADE-GUIDE.md)\n- [Changelog](docs/CHANGELOG.md)\n\n## Common Usage\n\nNOTE: The documentation below is up-to-date with `3.x` releases, if you are using an older version, please check how to [upgrade](#upgrading).\n\n### Plain text or HTML\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://github.com/');\n\tconst body = await response.text();\n\n\tconsole.log(body);\n})();\n```\n\n### JSON\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://api.github.com/users/github');\n\tconst json = await response.json();\n\n\tconsole.log(json);\n})();\n```\n\n### Simple Post\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: 'a=1'});\n\tconst json = await response.json();\n\n\tconsole.log(json);\n})();\n```\n\n### Post with JSON\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst body = {a: 1};\n\n\tconst response = await fetch('https://httpbin.org/post', {\n\t\tmethod: 'post',\n\t\tbody: JSON.stringify(body),\n\t\theaders: {'Content-Type': 'application/json'}\n\t});\n\tconst json = await response.json();\n\n\tconsole.log(json);\n})();\n```\n\n### Post with form parameters\n\n`URLSearchParams` is available on the global object in Node.js as of v10.0.0. See [official documentation](https://nodejs.org/api/url.html#url_class_urlsearchparams) for more usage methods.\n\nNOTE: The `Content-Type` header is only set automatically to `x-www-form-urlencoded` when an instance of `URLSearchParams` is given as such:\n\n```js\nconst fetch = require('node-fetch');\n\nconst params = new URLSearchParams();\nparams.append('a', 1);\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: params});\n\tconst json = await response.json();\n\n\tconsole.log(json);\n})();\n```\n\n### Handling exceptions\n\nNOTE: 3xx-5xx responses are _NOT_ exceptions, and should be handled in `then()`, see the next section.\n\nWrapping the fetch function into a `try/catch` block will catch _all_ exceptions, such as errors originating from node core libraries, like network errors, and operational errors which are instances of FetchError. See the [error handling document][error-handling.md] for more details.\n\n```js\nconst fetch = require('node-fetch');\n\ntry {\n\tfetch('https://domain.invalid/');\n} catch (error) {\n\tconsole.log(error);\n}\n```\n\n### Handling client and server errors\n\nIt is common to create a helper function to check that the response contains no client (4xx) or server (5xx) error responses:\n\n```js\nconst fetch = require('node-fetch');\n\nconst checkStatus = res => {\n\tif (res.ok) {\n\t\t// res.status >= 200 && res.status < 300\n\t\treturn res;\n\t} else {\n\t\tthrow MyCustomError(res.statusText);\n\t}\n}\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/status/400');\n\tconst data = checkStatus(response);\n\n\tconsole.log(data); //=> MyCustomError\n})();\n```\n\n### Handling cookies\n\nCookies are not stored by default. However, cookies can be extracted and passed by manipulating request and response headers. See [Extract Set-Cookie Header](#extract-set-cookie-header) for details.\n\n## Advanced Usage\n\n### Streams\n\nThe \"Node.js way\" is to use streams when possible. You can pipe `res.body` to another stream. This example uses [stream.pipeline](https://nodejs.org/api/stream.html#stream_stream_pipeline_streams_callback) to attach stream error handlers and wait for the download to complete.\n\n```js\nconst util = require('util');\nconst fs = require('fs');\nconst streamPipeline = util.promisify(require('stream').pipeline);\n\n(async () => {\n\tconst response = await fetch('https://assets-cdn.github.com/images/modules/logos_page/Octocat.png');\n\t\n\tif (response.ok) {\n\t\treturn streamPipeline(response.body, fs.createWriteStream('./octocat.png'));\n\t}\n\n\tthrow new Error(`unexpected response ${response.statusText}`);\n})();\n```\n\n### Buffer\n\nIf you prefer to cache binary data in full, use buffer(). (NOTE: buffer() is a `node-fetch` only API)\n\n```js\nconst fetch = require('node-fetch');\nconst fileType = require('file-type');\n\n(async () => {\n\tconst response = await fetch('https://octodex.github.com/images/Fintechtocat.png');\n\tconst buffer = await response.buffer();\n\tconst type = fileType.fromBuffer(buffer)\n\t\n\tconsole.log(type);\n})();\n```\n\n### Accessing Headers and other Meta data\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://github.com/');\n\t\n\tconsole.log(response.ok);\n\tconsole.log(response.status);\n\tconsole.log(response.statusText);\n\tconsole.log(response.headers.raw());\n\tconsole.log(response.headers.get('content-type'));\n})();\n```\n\n### Extract Set-Cookie Header\n\nUnlike browsers, you can access raw `Set-Cookie` headers manually using `Headers.raw()`. This is a `node-fetch` only API.\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://example.com');\n\t\n\t// Returns an array of values, instead of a string of comma-separated values\n\tconsole.log(response.headers.raw()['set-cookie']);\n})();\n```\n\n### Post data using a file stream\n\n```js\nconst {createReadStream} = require('fs');\nconst fetch = require('node-fetch');\n\nconst stream = createReadStream('input.txt');\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: stream});\n\tconst json = await response.json();\n\t\n\tconsole.log(json)\n})();\n```\n\n### Post with form-data (detect multipart)\n\n```js\nconst fetch = require('node-fetch');\nconst FormData = require('form-data');\n\nconst form = new FormData();\nform.append('a', 1);\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: form});\n\tconst json = await response.json();\n\t\n\tconsole.log(json)\n})();\n\n// OR, using custom headers\n// NOTE: getHeaders() is non-standard API\n\nconst options = {\n\tmethod: 'POST',\n\tbody: form,\n\theaders: form.getHeaders()\n};\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', options);\n\tconst json = await response.json();\n\t\n\tconsole.log(json)\n})();\n```\n\nnode-fetch also supports spec-compliant FormData implementations such as [formdata-node](https://github.com/octet-stream/form-data):\n\n```js\nconst fetch = require('node-fetch');\nconst FormData = require('formdata-node');\n\nconst form = new FormData();\nform.set('greeting', 'Hello, world!');\n\nfetch('https://httpbin.org/post', {method: 'POST', body: form})\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Request cancellation with AbortSignal\n\nYou may cancel requests with `AbortController`. A suggested implementation is [`abort-controller`](https://www.npmjs.com/package/abort-controller).\n\nAn example of timing out a request after 150ms could be achieved as the following:\n\n```js\nconst fetch = require('node-fetch');\nconst AbortController = require('abort-controller');\n\nconst controller = new AbortController();\nconst timeout = setTimeout(() => {\n\tcontroller.abort();\n}, 150);\n\n(async () => {\n\ttry {\n\t\tconst response = await fetch('https://example.com', {signal: controller.signal});\n\t\tconst data = await response.json();\n\t\t\n\t\tuseData(data);\n\t} catch (error) {\n\t\tif (error.name === 'AbortError') {\n            console.log('request was aborted');\n\t\t}\n\t} finally {\n\t\tclearTimeout(timeout);\n\t}\n})();\n```\n\nSee [test cases](https://github.com/node-fetch/node-fetch/blob/master/test/) for more examples.\n\n## API\n\n### fetch(url[, options])\n\n- `url` A string representing the URL for fetching\n- `options` [Options](#fetch-options) for the HTTP(S) request\n- Returns: <code>Promise&lt;[Response](#class-response)&gt;</code>\n\nPerform an HTTP(S) fetch.\n\n`url` should be an absolute url, such as `https://example.com/`. A path-relative URL (`/file/under/root`) or protocol-relative URL (`//can-be-http-or-https.com/`) will result in a rejected `Promise`.\n\n<a id=\"fetch-options\"></a>\n\n### Options\n\nThe default values are shown after each option key.\n\n```js\n{\n    // These properties are part of the Fetch Standard\n    method: 'GET',\n    headers: {},            // Request headers. format is the identical to that accepted by the Headers constructor (see below)\n    body: null,             // Request body. can be null, a string, a Buffer, a Blob, or a Node.js Readable stream\n    redirect: 'follow',     // Set to `manual` to extract redirect headers, `error` to reject redirect\n    signal: null,           // Pass an instance of AbortSignal to optionally abort requests\n\n    // The following properties are node-fetch extensions\n    follow: 20,             // maximum redirect count. 0 to not follow redirect\n    compress: true,         // support gzip/deflate content encoding. false to disable\n    size: 0,                // maximum response body size in bytes. 0 to disable\n    agent: null,            // http(s).Agent instance or function that returns an instance (see below)\n    highWaterMark: 16384,   // the maximum number of bytes to store in the internal buffer before ceasing to read from the underlying resource.\n    insecureHTTPParser: false\t// Use an insecure HTTP parser that accepts invalid HTTP headers when `true`.\n}\n```\n\n#### Default Headers\n\nIf no values are set, the following request headers will be sent automatically:\n\n| Header              | Value                                                  |\n| ------------------- | ------------------------------------------------------ |\n| `Accept-Encoding`   | `gzip,deflate,br` _(when `options.compress === true`)_ |\n| `Accept`            | `*/*`                                                  |\n| `Connection`        | `close` _(when no `options.agent` is present)_         |\n| `Content-Length`    | _(automatically calculated, if possible)_              |\n| `Transfer-Encoding` | `chunked` _(when `req.body` is a stream)_              |\n| `User-Agent`        | `node-fetch`                                           |\n\n\nNote: when `body` is a `Stream`, `Content-Length` is not set automatically.\n\n#### Custom Agent\n\nThe `agent` option allows you to specify networking related options which are out of the scope of Fetch, including and not limited to the following:\n\n- Support self-signed certificate\n- Use only IPv4 or IPv6\n- Custom DNS Lookup\n\nSee [`http.Agent`](https://nodejs.org/api/http.html#http_new_agent_options) for more information.\n\nIn addition, the `agent` option accepts a function that returns `http`(s)`.Agent` instance given current [URL](https://nodejs.org/api/url.html), this is useful during a redirection chain across HTTP and HTTPS protocol.\n\n```js\nconst http = require('http');\nconst https = require('https');\n\nconst httpAgent = new http.Agent({\n\tkeepAlive: true\n});\nconst httpsAgent = new https.Agent({\n\tkeepAlive: true\n});\n\nconst options = {\n\tagent: function(_parsedURL) {\n\t\tif (_parsedURL.protocol == 'http:') {\n\t\t\treturn httpAgent;\n\t\t} else {\n\t\t\treturn httpsAgent;\n\t\t}\n\t}\n};\n```\n\n<a id=\"custom-highWaterMark\"></a>\n\n#### Custom highWaterMark\n\nStream on Node.js have a smaller internal buffer size (16kB, aka `highWaterMark`) from client-side browsers (>1MB, not consistent across browsers). Because of that, when you are writing an isomorphic app and using `res.clone()`, it will hang with large response in Node.\n\nThe recommended way to fix this problem is to resolve cloned response in parallel:\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://example.com');\n\tconst r1 = await response.clone();\n\t\n\treturn Promise.all([res.json(), r1.text()]).then(results => {\n\t\tconsole.log(results[0]);\n\t\tconsole.log(results[1]);\n\t});\n})();\n```\n\nIf for some reason you don't like the solution above, since `3.x` you are able to modify the `highWaterMark` option:\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://example.com', {\n\t\t// About 1MB\n\t\thighWaterMark: 1024 * 1024\n\t});\n\t\n\treturn res.clone().buffer();\n})();\n```\n\n#### Insecure HTTP Parser\n\nPassed through to the `insecureHTTPParser` option on http(s).request. See [`http.request`](https://nodejs.org/api/http.html#http_http_request_url_options_callback) for more information.\n\n\n<a id=\"class-request\"></a>\n\n### Class: Request\n\nAn HTTP(S) request containing information about URL, method, headers, and the body. This class implements the [Body](#iface-body) interface.\n\nDue to the nature of Node.js, the following properties are not implemented at this moment:\n\n- `type`\n- `destination`\n- `referrer`\n- `referrerPolicy`\n- `mode`\n- `credentials`\n- `cache`\n- `integrity`\n- `keepalive`\n\nThe following node-fetch extension properties are provided:\n\n- `follow`\n- `compress`\n- `counter`\n- `agent`\n- `highWaterMark`\n\nSee [options](#fetch-options) for exact meaning of these extensions.\n\n#### new Request(input[, options])\n\n<small>_(spec-compliant)_</small>\n\n- `input` A string representing a URL, or another `Request` (which will be cloned)\n- `options` [Options][#fetch-options] for the HTTP(S) request\n\nConstructs a new `Request` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Request/Request).\n\nIn most cases, directly `fetch(url, options)` is simpler than creating a `Request` object.\n\n<a id=\"class-response\"></a>\n\n### Class: Response\n\nAn HTTP(S) response. This class implements the [Body](#iface-body) interface.\n\nThe following properties are not implemented in node-fetch at this moment:\n\n- `Response.error()`\n- `Response.redirect()`\n- `type`\n- `trailer`\n\n#### new Response([body[, options]])\n\n<small>_(spec-compliant)_</small>\n\n- `body` A `String` or [`Readable` stream][node-readable]\n- `options` A [`ResponseInit`][response-init] options dictionary\n\nConstructs a new `Response` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Response/Response).\n\nBecause Node.js does not implement service workers (for which this class was designed), one rarely has to construct a `Response` directly.\n\n#### response.ok\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request ended normally. Will evaluate to true if the response status was greater than or equal to 200 but smaller than 300.\n\n#### response.redirected\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request has been redirected at least once. Will evaluate to true if the internal redirect counter is greater than 0.\n\n<a id=\"class-headers\"></a>\n\n### Class: Headers\n\nThis class allows manipulating and iterating over a set of HTTP headers. All methods specified in the [Fetch Standard][whatwg-fetch] are implemented.\n\n#### new Headers([init])\n\n<small>_(spec-compliant)_</small>\n\n- `init` Optional argument to pre-fill the `Headers` object\n\nConstruct a new `Headers` object. `init` can be either `null`, a `Headers` object, an key-value map object or any iterable object.\n\n```js\n// Example adapted from https://fetch.spec.whatwg.org/#example-headers-class\nconst { Headers } = require('node-fetch');\n\nconst meta = {\n\t'Content-Type': 'text/xml',\n\t'Breaking-Bad': '<3'\n};\nconst headers = new Headers(meta);\n\n// The above is equivalent to\nconst meta = [['Content-Type', 'text/xml'], ['Breaking-Bad', '<3']];\nconst headers = new Headers(meta);\n\n// You can in fact use any iterable objects, like a Map or even another Headers\nconst meta = new Map();\nmeta.set('Content-Type', 'text/xml');\nmeta.set('Breaking-Bad', '<3');\nconst headers = new Headers(meta);\nconst copyOfHeaders = new Headers(headers);\n```\n\n<a id=\"iface-body\"></a>\n\n### Interface: Body\n\n`Body` is an abstract interface with methods that are applicable to both `Request` and `Response` classes.\n\nThe following methods are not yet implemented in node-fetch at this moment:\n\n- `formData()`\n\n#### body.body\n\n<small>_(deviation from spec)_</small>\n\n- Node.js [`Readable` stream][node-readable]\n\nData are encapsulated in the `Body` object. Note that while the [Fetch Standard][whatwg-fetch] requires the property to always be a WHATWG `ReadableStream`, in node-fetch it is a Node.js [`Readable` stream][node-readable].\n\n#### body.bodyUsed\n\n<small>_(spec-compliant)_</small>\n\n- `Boolean`\n\nA boolean property for if this body has been consumed. Per the specs, a consumed body cannot be used again.\n\n#### body.arrayBuffer()\n\n#### body.blob()\n\n#### body.json()\n\n#### body.text()\n\n<small>_(spec-compliant)_</small>\n\n- Returns: `Promise`\n\nConsume the body and return a promise that will resolve to one of these formats.\n\n#### body.buffer()\n\n<small>_(node-fetch extension)_</small>\n\n- Returns: `Promise<Buffer>`\n\nConsume the body and return a promise that will resolve to a Buffer.\n\n<a id=\"class-fetcherror\"></a>\n\n### Class: FetchError\n\n<small>_(node-fetch extension)_</small>\n\nAn operational error in the fetching process. See [ERROR-HANDLING.md][] for more info.\n\n<a id=\"class-aborterror\"></a>\n\n### Class: AbortError\n\n<small>_(node-fetch extension)_</small>\n\nAn Error thrown when the request is aborted in response to an `AbortSignal`'s `abort` event. It has a `name` property of `AbortError`. See [ERROR-HANDLING.MD][] for more info.\n\n## TypeScript\n\n**Since `3.x` types are bundled with `node-fetch`, so you don't need to install any additional packages.**\n\nFor older versions please use the type definitions from [DefinitelyTyped](https://github.com/DefinitelyTyped/DefinitelyTyped):\n\n```sh\n$ npm install --save-dev @types/node-fetch\n```\n\n## Acknowledgement\n\nThanks to [github/fetch](https://github.com/github/fetch) for providing a solid implementation reference.\n\n## Team\n\n| [![David Frank](https://github.com/bitinn.png?size=100)](https://github.com/bitinn) | [![Jimmy Wärting](https://github.com/jimmywarting.png?size=100)](https://github.com/jimmywarting) | [![Antoni Kepinski](https://github.com/xxczaki.png?size=100)](https://github.com/xxczaki) | [![Richie Bendall](https://github.com/Richienb.png?size=100)](https://github.com/Richienb) | [![Gregor Martynus](https://github.com/gr2m.png?size=100)](https://github.com/gr2m) |\n| ----------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------- |\n| [David Frank](https://bitinn.net/)                                                  | [Jimmy Wärting](https://jimmy.warting.se/)                                                        | [Antoni Kepinski](https://kepinski.me)                                                    | [Richie Bendall](https://www.richie-bendall.ml/)                                           | [Gregor Martynus](https://twitter.com/gr2m)                                         |\n\n###### Former\n\n- [Timothy Gu](https://github.com/timothygu)\n- [Jared Kantrowitz](https://github.com/jkantr)\n\n## License\n\n[MIT](LICENSE.md)\n\n[whatwg-fetch]: https://fetch.spec.whatwg.org/\n[response-init]: https://fetch.spec.whatwg.org/#responseinit\n[node-readable]: https://nodejs.org/api/stream.html#stream_readable_streams\n[mdn-headers]: https://developer.mozilla.org/en-US/docs/Web/API/Headers\n[error-handling.md]: https://github.com/node-fetch/node-fetch/blob/master/docs/ERROR-HANDLING.md\n","module":"./src/index.js","sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"esm":{"sourceMap":true,"cjs":false},"tsd":{"cwd":"@types","compilerOptions":{"target":"esnext","lib":["es2018"],"allowSyntheticDefaultImports":false,"esModuleInterop":false}},"xo":{"envs":["node","browser"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"unicorn/import-index":0,"unicorn/no-reduce":0,"capitalized-comments":0},"ignores":["dist","@types"],"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"new-cap":0,"guard-for-in":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}},{"files":"example.js","rules":{"import/no-extraneous-dependencies":0}}]},"runkitExampleFilename":"example.js","gitHead":"4083ce5cddbf901ea74a18b8afc630aa45197b83","readmeFilename":"README.md","_nodeVersion":"10.19.0","_npmVersion":"6.14.7","maintainers":[{"email":"xxczaki@pm.me","name":"akepinski"},{"email":"bitinn@gmail.com","name":"bitinn"},{"email":"jimmy@warting.se","name":"endless"},{"email":"timothygu99@gmail.com","name":"timothygu"}],"_npmUser":{"name":"akepinski","email":"xxczaki@pm.me"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.0.0-beta.8_1597048644308_0.3498696917605659"},"_hasShrinkwrap":false},"3.0.0-beta.9":{"_id":"node-fetch@3.0.0-beta.9","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"3.0.0-beta.9","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"build":"rollup -c","test":"node --experimental-modules node_modules/c8/bin/c8 --reporter=html --reporter=lcov --reporter=text --check-coverage node --experimental-modules node_modules/mocha/bin/mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo","prepublishOnly":"node ./test/commonjs/test-artifact.js"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.5.0","busboy":"^0.3.1","c8":"^7.3.0","chai":"^4.2.0","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","delay":"^4.4.0","form-data":"^3.0.0","formdata-node":"^2.4.0","mocha":"^8.1.3","p-timeout":"^3.2.0","rollup":"^2.26.10","tsd":"^0.13.1","xo":"^0.33.1"},"dependencies":{"data-uri-to-buffer":"^3.0.1","fetch-blob":"^2.1.1"},"engines":{"node":"^10.17 || >=12.3"},"main":"./dist/index.cjs","dist":{"shasum":"0a7554cfb824380dd6812864389923c783c80d9b","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.0.0-beta.9.tgz"},"readme":"<div align=\"center\">\n  \t<img src=\"docs/media/Banner.svg\" alt=\"Node Fetch\"/>\n  \t<br>\n  \t<p>A light-weight module that brings <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\">Fetch API</a> to Node.js.</p>\n\t<a href=\"https://github.com/node-fetch/node-fetch/actions\"><img src=\"https://github.com/node-fetch/node-fetch/workflows/CI/badge.svg?branch=master\" alt=\"Build status\"></a>\n\t<a href=\"https://coveralls.io/github/node-fetch/node-fetch\"><img src=\"https://img.shields.io/coveralls/github/node-fetch/node-fetch\" alt=\"Coverage status\"></a>\n\t<a href=\"https://packagephobia.now.sh/result?p=node-fetch\"><img src=\"https://badgen.net/packagephobia/install/node-fetch\" alt=\"Current version\"></a>\n\t<a href=\"https://www.npmjs.com/package/node-fetch\"><img src=\"https://img.shields.io/npm/v/node-fetch\" alt=\"Install size\"></a>\n\t<a href=\"https://github.com/sindresorhus/awesome-nodejs\"><img src=\"https://awesome.re/mentioned-badge.svg\" alt=\"Mentioned in Awesome Node.js\"></a>\n\t<a href=\"https://discord.gg/Zxbndcm\"><img src=\"https://img.shields.io/discord/619915844268326952?color=%237289DA&label=Discord\" alt=\"Discord\"></a>\n\t<br>\n\t<br>\n\t<b>Consider supporting us on our Open Collective:</b>\n\t<br>\n\t<br>\n\t<a href=\"https://opencollective.com/node-fetch\"><img src=\"https://opencollective.com/node-fetch/donate/button.png?color=blue\" alt=\"Open Collective\"></a>\n</div>\n\n---\n\n<!-- TOC -->\n\n- [Motivation](#motivation)\n- [Features](#features)\n- [Difference from client-side fetch](#difference-from-client-side-fetch)\n- [Installation](#installation)\n- [Loading and configuring the module](#loading-and-configuring-the-module)\n- [Upgrading](#upgrading)\n- [Common Usage](#common-usage)\n\t- [Plain text or HTML](#plain-text-or-html)\n\t- [JSON](#json)\n\t- [Simple Post](#simple-post)\n\t- [Post with JSON](#post-with-json)\n\t- [Post with form parameters](#post-with-form-parameters)\n\t- [Handling exceptions](#handling-exceptions)\n\t- [Handling client and server errors](#handling-client-and-server-errors)\n\t- [Handling cookies](#handling-cookies)\n- [Advanced Usage](#advanced-usage)\n\t- [Streams](#streams)\n\t- [Buffer](#buffer)\n\t- [Accessing Headers and other Meta data](#accessing-headers-and-other-meta-data)\n\t- [Extract Set-Cookie Header](#extract-set-cookie-header)\n\t- [Post data using a file stream](#post-data-using-a-file-stream)\n\t- [Post with form-data (detect multipart)](#post-with-form-data-detect-multipart)\n\t- [Request cancellation with AbortSignal](#request-cancellation-with-abortsignal)\n- [API](#api)\n\t- [fetch(url[, options])](#fetchurl-options)\n\t- [Options](#options)\n\t\t- [Default Headers](#default-headers)\n\t\t- [Custom Agent](#custom-agent)\n\t\t- [Custom highWaterMark](#custom-highwatermark)\n\t\t- [Insecure HTTP Parser](#insecure-http-parser)\n\t- [Class: Request](#class-request)\n\t\t- [new Request(input[, options])](#new-requestinput-options)\n\t- [Class: Response](#class-response)\n\t\t- [new Response([body[, options]])](#new-responsebody-options)\n\t\t- [response.ok](#responseok)\n\t\t- [response.redirected](#responseredirected)\n\t- [Class: Headers](#class-headers)\n\t\t- [new Headers([init])](#new-headersinit)\n\t- [Interface: Body](#interface-body)\n\t\t- [body.body](#bodybody)\n\t\t- [body.bodyUsed](#bodybodyused)\n\t\t- [body.arrayBuffer()](#bodyarraybuffer)\n\t\t- [body.blob()](#bodyblob)\n\t\t- [body.json()](#bodyjson)\n\t\t- [body.text()](#bodytext)\n\t\t- [body.buffer()](#bodybuffer)\n\t- [Class: FetchError](#class-fetcherror)\n\t- [Class: AbortError](#class-aborterror)\n- [TypeScript](#typescript)\n- [Acknowledgement](#acknowledgement)\n- [Team](#team)\n\t\t\t\t- [Former](#former)\n- [License](#license)\n\n<!-- /TOC -->\n\n## Motivation\n\nInstead of implementing `XMLHttpRequest` in Node.js to run browser-specific [Fetch polyfill](https://github.com/github/fetch), why not go from native `http` to `fetch` API directly? Hence, `node-fetch`, minimal code for a `window.fetch` compatible API on Node.js runtime.\n\nSee Jason Miller's [isomorphic-unfetch](https://www.npmjs.com/package/isomorphic-unfetch) or Leonardo Quixada's [cross-fetch](https://github.com/lquixada/cross-fetch) for isomorphic usage (exports `node-fetch` for server-side, `whatwg-fetch` for client-side).\n\n## Features\n\n- Stay consistent with `window.fetch` API.\n- Make conscious trade-off when following [WHATWG fetch spec][whatwg-fetch] and [stream spec](https://streams.spec.whatwg.org/) implementation details, document known differences.\n- Use native promise and async functions.\n- Use native Node streams for body, on both request and response.\n- Decode content encoding (gzip/deflate/brotli) properly, and convert string output (such as `res.text()` and `res.json()`) to UTF-8 automatically.\n- Useful extensions such as redirect limit, response size limit, [explicit errors][error-handling.md] for troubleshooting.\n\n## Difference from client-side fetch\n\n- See known differences:\n\t- [As of v3.x](docs/v3-LIMITS.md)\n\t- [As of v2.x](docs/v2-LIMITS.md)\n- If you happen to use a missing feature that `window.fetch` offers, feel free to open an issue.\n- Pull requests are welcomed too!\n\n## Installation\n\nCurrent stable release (`3.x`)\n\n```sh\n$ npm install node-fetch\n```\n\n## Loading and configuring the module\n\n```js\n// CommonJS\nconst fetch = require('node-fetch');\n\n// ES Module\nimport fetch from 'node-fetch';\n```\n\nIf you want to patch the global object in node:\n\n```js\nconst fetch = require('node-fetch');\n\nif (!globalThis.fetch) {\n    globalThis.fetch = fetch;\n}\n```\n\nFor versions of Node earlier than 12, use this `globalThis` [polyfill](https://mathiasbynens.be/notes/globalthis).\n\n## Upgrading\n\nUsing an old version of node-fetch? Check out the following files:\n\n- [2.x to 3.x upgrade guide](docs/v3-UPGRADE-GUIDE.md)\n- [1.x to 2.x upgrade guide](docs/v2-UPGRADE-GUIDE.md)\n- [Changelog](docs/CHANGELOG.md)\n\n## Common Usage\n\nNOTE: The documentation below is up-to-date with `3.x` releases, if you are using an older version, please check how to [upgrade](#upgrading).\n\n### Plain text or HTML\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://github.com/');\n\tconst body = await response.text();\n\n\tconsole.log(body);\n})();\n```\n\n### JSON\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://api.github.com/users/github');\n\tconst json = await response.json();\n\n\tconsole.log(json);\n})();\n```\n\n### Simple Post\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: 'a=1'});\n\tconst json = await response.json();\n\n\tconsole.log(json);\n})();\n```\n\n### Post with JSON\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst body = {a: 1};\n\n\tconst response = await fetch('https://httpbin.org/post', {\n\t\tmethod: 'post',\n\t\tbody: JSON.stringify(body),\n\t\theaders: {'Content-Type': 'application/json'}\n\t});\n\tconst json = await response.json();\n\n\tconsole.log(json);\n})();\n```\n\n### Post with form parameters\n\n`URLSearchParams` is available on the global object in Node.js as of v10.0.0. See [official documentation](https://nodejs.org/api/url.html#url_class_urlsearchparams) for more usage methods.\n\nNOTE: The `Content-Type` header is only set automatically to `x-www-form-urlencoded` when an instance of `URLSearchParams` is given as such:\n\n```js\nconst fetch = require('node-fetch');\n\nconst params = new URLSearchParams();\nparams.append('a', 1);\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: params});\n\tconst json = await response.json();\n\n\tconsole.log(json);\n})();\n```\n\n### Handling exceptions\n\nNOTE: 3xx-5xx responses are _NOT_ exceptions, and should be handled in `then()`, see the next section.\n\nWrapping the fetch function into a `try/catch` block will catch _all_ exceptions, such as errors originating from node core libraries, like network errors, and operational errors which are instances of FetchError. See the [error handling document][error-handling.md] for more details.\n\n```js\nconst fetch = require('node-fetch');\n\ntry {\n\tfetch('https://domain.invalid/');\n} catch (error) {\n\tconsole.log(error);\n}\n```\n\n### Handling client and server errors\n\nIt is common to create a helper function to check that the response contains no client (4xx) or server (5xx) error responses:\n\n```js\nconst fetch = require('node-fetch');\n\nconst checkStatus = res => {\n\tif (res.ok) {\n\t\t// res.status >= 200 && res.status < 300\n\t\treturn res;\n\t} else {\n\t\tthrow MyCustomError(res.statusText);\n\t}\n}\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/status/400');\n\tconst data = checkStatus(response);\n\n\tconsole.log(data); //=> MyCustomError\n})();\n```\n\n### Handling cookies\n\nCookies are not stored by default. However, cookies can be extracted and passed by manipulating request and response headers. See [Extract Set-Cookie Header](#extract-set-cookie-header) for details.\n\n## Advanced Usage\n\n### Streams\n\nThe \"Node.js way\" is to use streams when possible. You can pipe `res.body` to another stream. This example uses [stream.pipeline](https://nodejs.org/api/stream.html#stream_stream_pipeline_streams_callback) to attach stream error handlers and wait for the download to complete.\n\n```js\nconst util = require('util');\nconst fs = require('fs');\nconst streamPipeline = util.promisify(require('stream').pipeline);\n\n(async () => {\n\tconst response = await fetch('https://assets-cdn.github.com/images/modules/logos_page/Octocat.png');\n\t\n\tif (response.ok) {\n\t\treturn streamPipeline(response.body, fs.createWriteStream('./octocat.png'));\n\t}\n\n\tthrow new Error(`unexpected response ${response.statusText}`);\n})();\n```\n\n### Buffer\n\nIf you prefer to cache binary data in full, use buffer(). (NOTE: buffer() is a `node-fetch` only API)\n\n```js\nconst fetch = require('node-fetch');\nconst fileType = require('file-type');\n\n(async () => {\n\tconst response = await fetch('https://octodex.github.com/images/Fintechtocat.png');\n\tconst buffer = await response.buffer();\n\tconst type = fileType.fromBuffer(buffer)\n\t\n\tconsole.log(type);\n})();\n```\n\n### Accessing Headers and other Meta data\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://github.com/');\n\t\n\tconsole.log(response.ok);\n\tconsole.log(response.status);\n\tconsole.log(response.statusText);\n\tconsole.log(response.headers.raw());\n\tconsole.log(response.headers.get('content-type'));\n})();\n```\n\n### Extract Set-Cookie Header\n\nUnlike browsers, you can access raw `Set-Cookie` headers manually using `Headers.raw()`. This is a `node-fetch` only API.\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://example.com');\n\t\n\t// Returns an array of values, instead of a string of comma-separated values\n\tconsole.log(response.headers.raw()['set-cookie']);\n})();\n```\n\n### Post data using a file stream\n\n```js\nconst {createReadStream} = require('fs');\nconst fetch = require('node-fetch');\n\nconst stream = createReadStream('input.txt');\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: stream});\n\tconst json = await response.json();\n\t\n\tconsole.log(json)\n})();\n```\n\n### Post with form-data (detect multipart)\n\n```js\nconst fetch = require('node-fetch');\nconst FormData = require('form-data');\n\nconst form = new FormData();\nform.append('a', 1);\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: form});\n\tconst json = await response.json();\n\t\n\tconsole.log(json)\n})();\n\n// OR, using custom headers\n// NOTE: getHeaders() is non-standard API\n\nconst options = {\n\tmethod: 'POST',\n\tbody: form,\n\theaders: form.getHeaders()\n};\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', options);\n\tconst json = await response.json();\n\t\n\tconsole.log(json)\n})();\n```\n\nnode-fetch also supports spec-compliant FormData implementations such as [formdata-node](https://github.com/octet-stream/form-data):\n\n```js\nconst fetch = require('node-fetch');\nconst FormData = require('formdata-node');\n\nconst form = new FormData();\nform.set('greeting', 'Hello, world!');\n\nfetch('https://httpbin.org/post', {method: 'POST', body: form})\n\t.then(res => res.json())\n\t.then(json => console.log(json));\n```\n\n### Request cancellation with AbortSignal\n\nYou may cancel requests with `AbortController`. A suggested implementation is [`abort-controller`](https://www.npmjs.com/package/abort-controller).\n\nAn example of timing out a request after 150ms could be achieved as the following:\n\n```js\nconst fetch = require('node-fetch');\nconst AbortController = require('abort-controller');\n\nconst controller = new AbortController();\nconst timeout = setTimeout(() => {\n\tcontroller.abort();\n}, 150);\n\n(async () => {\n\ttry {\n\t\tconst response = await fetch('https://example.com', {signal: controller.signal});\n\t\tconst data = await response.json();\n\t\t\n\t\tuseData(data);\n\t} catch (error) {\n\t\tif (error.name === 'AbortError') {\n            console.log('request was aborted');\n\t\t}\n\t} finally {\n\t\tclearTimeout(timeout);\n\t}\n})();\n```\n\nSee [test cases](https://github.com/node-fetch/node-fetch/blob/master/test/) for more examples.\n\n## API\n\n### fetch(url[, options])\n\n- `url` A string representing the URL for fetching\n- `options` [Options](#fetch-options) for the HTTP(S) request\n- Returns: <code>Promise&lt;[Response](#class-response)&gt;</code>\n\nPerform an HTTP(S) fetch.\n\n`url` should be an absolute url, such as `https://example.com/`. A path-relative URL (`/file/under/root`) or protocol-relative URL (`//can-be-http-or-https.com/`) will result in a rejected `Promise`.\n\n<a id=\"fetch-options\"></a>\n\n### Options\n\nThe default values are shown after each option key.\n\n```js\n{\n    // These properties are part of the Fetch Standard\n    method: 'GET',\n    headers: {},            // Request headers. format is the identical to that accepted by the Headers constructor (see below)\n    body: null,             // Request body. can be null, a string, a Buffer, a Blob, or a Node.js Readable stream\n    redirect: 'follow',     // Set to `manual` to extract redirect headers, `error` to reject redirect\n    signal: null,           // Pass an instance of AbortSignal to optionally abort requests\n\n    // The following properties are node-fetch extensions\n    follow: 20,             // maximum redirect count. 0 to not follow redirect\n    compress: true,         // support gzip/deflate content encoding. false to disable\n    size: 0,                // maximum response body size in bytes. 0 to disable\n    agent: null,            // http(s).Agent instance or function that returns an instance (see below)\n    highWaterMark: 16384,   // the maximum number of bytes to store in the internal buffer before ceasing to read from the underlying resource.\n    insecureHTTPParser: false\t// Use an insecure HTTP parser that accepts invalid HTTP headers when `true`.\n}\n```\n\n#### Default Headers\n\nIf no values are set, the following request headers will be sent automatically:\n\n| Header              | Value                                                  |\n| ------------------- | ------------------------------------------------------ |\n| `Accept-Encoding`   | `gzip,deflate,br` _(when `options.compress === true`)_ |\n| `Accept`            | `*/*`                                                  |\n| `Connection`        | `close` _(when no `options.agent` is present)_         |\n| `Content-Length`    | _(automatically calculated, if possible)_              |\n| `Transfer-Encoding` | `chunked` _(when `req.body` is a stream)_              |\n| `User-Agent`        | `node-fetch`                                           |\n\n\nNote: when `body` is a `Stream`, `Content-Length` is not set automatically.\n\n#### Custom Agent\n\nThe `agent` option allows you to specify networking related options which are out of the scope of Fetch, including and not limited to the following:\n\n- Support self-signed certificate\n- Use only IPv4 or IPv6\n- Custom DNS Lookup\n\nSee [`http.Agent`](https://nodejs.org/api/http.html#http_new_agent_options) for more information.\n\nIn addition, the `agent` option accepts a function that returns `http`(s)`.Agent` instance given current [URL](https://nodejs.org/api/url.html), this is useful during a redirection chain across HTTP and HTTPS protocol.\n\n```js\nconst http = require('http');\nconst https = require('https');\n\nconst httpAgent = new http.Agent({\n\tkeepAlive: true\n});\nconst httpsAgent = new https.Agent({\n\tkeepAlive: true\n});\n\nconst options = {\n\tagent: function(_parsedURL) {\n\t\tif (_parsedURL.protocol == 'http:') {\n\t\t\treturn httpAgent;\n\t\t} else {\n\t\t\treturn httpsAgent;\n\t\t}\n\t}\n};\n```\n\n<a id=\"custom-highWaterMark\"></a>\n\n#### Custom highWaterMark\n\nStream on Node.js have a smaller internal buffer size (16kB, aka `highWaterMark`) from client-side browsers (>1MB, not consistent across browsers). Because of that, when you are writing an isomorphic app and using `res.clone()`, it will hang with large response in Node.\n\nThe recommended way to fix this problem is to resolve cloned response in parallel:\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://example.com');\n\tconst r1 = await response.clone();\n\t\n\treturn Promise.all([res.json(), r1.text()]).then(results => {\n\t\tconsole.log(results[0]);\n\t\tconsole.log(results[1]);\n\t});\n})();\n```\n\nIf for some reason you don't like the solution above, since `3.x` you are able to modify the `highWaterMark` option:\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://example.com', {\n\t\t// About 1MB\n\t\thighWaterMark: 1024 * 1024\n\t});\n\t\n\treturn res.clone().buffer();\n})();\n```\n\n#### Insecure HTTP Parser\n\nPassed through to the `insecureHTTPParser` option on http(s).request. See [`http.request`](https://nodejs.org/api/http.html#http_http_request_url_options_callback) for more information.\n\n\n<a id=\"class-request\"></a>\n\n### Class: Request\n\nAn HTTP(S) request containing information about URL, method, headers, and the body. This class implements the [Body](#iface-body) interface.\n\nDue to the nature of Node.js, the following properties are not implemented at this moment:\n\n- `type`\n- `destination`\n- `referrer`\n- `referrerPolicy`\n- `mode`\n- `credentials`\n- `cache`\n- `integrity`\n- `keepalive`\n\nThe following node-fetch extension properties are provided:\n\n- `follow`\n- `compress`\n- `counter`\n- `agent`\n- `highWaterMark`\n\nSee [options](#fetch-options) for exact meaning of these extensions.\n\n#### new Request(input[, options])\n\n<small>_(spec-compliant)_</small>\n\n- `input` A string representing a URL, or another `Request` (which will be cloned)\n- `options` [Options][#fetch-options] for the HTTP(S) request\n\nConstructs a new `Request` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Request/Request).\n\nIn most cases, directly `fetch(url, options)` is simpler than creating a `Request` object.\n\n<a id=\"class-response\"></a>\n\n### Class: Response\n\nAn HTTP(S) response. This class implements the [Body](#iface-body) interface.\n\nThe following properties are not implemented in node-fetch at this moment:\n\n- `Response.error()`\n- `Response.redirect()`\n- `type`\n- `trailer`\n\n#### new Response([body[, options]])\n\n<small>_(spec-compliant)_</small>\n\n- `body` A `String` or [`Readable` stream][node-readable]\n- `options` A [`ResponseInit`][response-init] options dictionary\n\nConstructs a new `Response` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Response/Response).\n\nBecause Node.js does not implement service workers (for which this class was designed), one rarely has to construct a `Response` directly.\n\n#### response.ok\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request ended normally. Will evaluate to true if the response status was greater than or equal to 200 but smaller than 300.\n\n#### response.redirected\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request has been redirected at least once. Will evaluate to true if the internal redirect counter is greater than 0.\n\n<a id=\"class-headers\"></a>\n\n### Class: Headers\n\nThis class allows manipulating and iterating over a set of HTTP headers. All methods specified in the [Fetch Standard][whatwg-fetch] are implemented.\n\n#### new Headers([init])\n\n<small>_(spec-compliant)_</small>\n\n- `init` Optional argument to pre-fill the `Headers` object\n\nConstruct a new `Headers` object. `init` can be either `null`, a `Headers` object, an key-value map object or any iterable object.\n\n```js\n// Example adapted from https://fetch.spec.whatwg.org/#example-headers-class\nconst { Headers } = require('node-fetch');\n\nconst meta = {\n\t'Content-Type': 'text/xml',\n\t'Breaking-Bad': '<3'\n};\nconst headers = new Headers(meta);\n\n// The above is equivalent to\nconst meta = [['Content-Type', 'text/xml'], ['Breaking-Bad', '<3']];\nconst headers = new Headers(meta);\n\n// You can in fact use any iterable objects, like a Map or even another Headers\nconst meta = new Map();\nmeta.set('Content-Type', 'text/xml');\nmeta.set('Breaking-Bad', '<3');\nconst headers = new Headers(meta);\nconst copyOfHeaders = new Headers(headers);\n```\n\n<a id=\"iface-body\"></a>\n\n### Interface: Body\n\n`Body` is an abstract interface with methods that are applicable to both `Request` and `Response` classes.\n\nThe following methods are not yet implemented in node-fetch at this moment:\n\n- `formData()`\n\n#### body.body\n\n<small>_(deviation from spec)_</small>\n\n- Node.js [`Readable` stream][node-readable]\n\nData are encapsulated in the `Body` object. Note that while the [Fetch Standard][whatwg-fetch] requires the property to always be a WHATWG `ReadableStream`, in node-fetch it is a Node.js [`Readable` stream][node-readable].\n\n#### body.bodyUsed\n\n<small>_(spec-compliant)_</small>\n\n- `Boolean`\n\nA boolean property for if this body has been consumed. Per the specs, a consumed body cannot be used again.\n\n#### body.arrayBuffer()\n\n#### body.blob()\n\n#### body.json()\n\n#### body.text()\n\n<small>_(spec-compliant)_</small>\n\n- Returns: `Promise`\n\nConsume the body and return a promise that will resolve to one of these formats.\n\n#### body.buffer()\n\n<small>_(node-fetch extension)_</small>\n\n- Returns: `Promise<Buffer>`\n\nConsume the body and return a promise that will resolve to a Buffer.\n\n<a id=\"class-fetcherror\"></a>\n\n### Class: FetchError\n\n<small>_(node-fetch extension)_</small>\n\nAn operational error in the fetching process. See [ERROR-HANDLING.md][] for more info.\n\n<a id=\"class-aborterror\"></a>\n\n### Class: AbortError\n\n<small>_(node-fetch extension)_</small>\n\nAn Error thrown when the request is aborted in response to an `AbortSignal`'s `abort` event. It has a `name` property of `AbortError`. See [ERROR-HANDLING.MD][] for more info.\n\n## TypeScript\n\n**Since `3.x` types are bundled with `node-fetch`, so you don't need to install any additional packages.**\n\nFor older versions please use the type definitions from [DefinitelyTyped](https://github.com/DefinitelyTyped/DefinitelyTyped):\n\n```sh\n$ npm install --save-dev @types/node-fetch\n```\n\n## Acknowledgement\n\nThanks to [github/fetch](https://github.com/github/fetch) for providing a solid implementation reference.\n\n## Team\n\n| [![David Frank](https://github.com/bitinn.png?size=100)](https://github.com/bitinn) | [![Jimmy Wärting](https://github.com/jimmywarting.png?size=100)](https://github.com/jimmywarting) | [![Antoni Kepinski](https://github.com/xxczaki.png?size=100)](https://github.com/xxczaki) | [![Richie Bendall](https://github.com/Richienb.png?size=100)](https://github.com/Richienb) | [![Gregor Martynus](https://github.com/gr2m.png?size=100)](https://github.com/gr2m) |\n| ----------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------- |\n| [David Frank](https://bitinn.net/)                                                  | [Jimmy Wärting](https://jimmy.warting.se/)                                                        | [Antoni Kepinski](https://kepinski.me)                                                    | [Richie Bendall](https://www.richie-bendall.ml/)                                           | [Gregor Martynus](https://twitter.com/gr2m)                                         |\n\n###### Former\n\n- [Timothy Gu](https://github.com/timothygu)\n- [Jared Kantrowitz](https://github.com/jkantr)\n\n## License\n\n[MIT](LICENSE.md)\n\n[whatwg-fetch]: https://fetch.spec.whatwg.org/\n[response-init]: https://fetch.spec.whatwg.org/#responseinit\n[node-readable]: https://nodejs.org/api/stream.html#stream_readable_streams\n[mdn-headers]: https://developer.mozilla.org/en-US/docs/Web/API/Headers\n[error-handling.md]: https://github.com/node-fetch/node-fetch/blob/master/docs/ERROR-HANDLING.md\n","module":"./src/index.js","sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"esm":{"sourceMap":true,"cjs":false},"tsd":{"cwd":"@types","compilerOptions":{"target":"esnext","lib":["es2018"],"allowSyntheticDefaultImports":false,"esModuleInterop":false}},"xo":{"envs":["node","browser"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"unicorn/import-index":0,"unicorn/no-reduce":0,"capitalized-comments":0},"ignores":["dist","@types"],"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"new-cap":0,"guard-for-in":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}},{"files":"example.js","rules":{"import/no-extraneous-dependencies":0}}]},"runkitExampleFilename":"example.js","readmeFilename":"README.md","gitHead":"38839c53bd417cef440757265f75c8371d4c51e6","_nodeVersion":"12.18.3","_npmVersion":"6.14.7","maintainers":[{"email":"xxczaki@pm.me","name":"akepinski"},{"email":"bitinn@gmail.com","name":"bitinn"},{"email":"jimmy@warting.se","name":"endless"},{"email":"timothygu99@gmail.com","name":"timothygu"}],"_npmUser":{"name":"akepinski","email":"xxczaki@pm.me"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.0.0-beta.9_1599310347581_0.8595690156309526"},"_hasShrinkwrap":false},"3.0.0-beta.10":{"_id":"node-fetch@3.0.0-beta.10","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"3.0.0-beta.10","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.7.1","busboy":"^0.3.1","c8":"^7.7.2","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","delay":"^5.0.0","form-data":"^4.0.0","formdata-node":"^3.5.4","mocha":"^8.3.2","p-timeout":"^5.0.0","tsd":"^0.14.0","xo":"^0.39.1"},"dependencies":{"data-uri-to-buffer":"^3.0.1","fetch-blob":"^3.1.2"},"engines":{"node":"^12.20.0 || ^14.13.1 || >=16.0.0"},"main":"./src/index.js","dist":{"shasum":"bd79bc429bf92c083d592c7be2c46d8ce96ca1f8","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.0.0-beta.10.tgz"},"sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"esModuleInterop":true}},"xo":{"envs":["node","browser"],"ignores":["example.js"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"import/no-named-as-default":0,"unicorn/import-index":0,"unicorn/no-array-reduce":0,"unicorn/prefer-node-protocol":0,"unicorn/numeric-separators-style":0,"unicorn/explicit-length-check":0,"capitalized-comments":0,"@typescript-eslint/member-ordering":0},"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"no-warning-comments":0,"new-cap":0,"guard-for-in":0,"unicorn/no-array-for-each":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}}]},"runkitExampleFilename":"example.js","gitHead":"b50fbc105755123cad34fb0bc9d5653ecc693b8a","_nodeVersion":"16.1.0","_npmVersion":"7.11.2","_npmUser":{"name":"endless","email":"jimmy@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"xxczaki@pm.me"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.0.0-beta.10_1626684061458_0.6017906281701693"},"_hasShrinkwrap":false},"3.0.0-beta.6-exportfix":{"_id":"node-fetch@3.0.0-beta.6-exportfix","name":"node-fetch","description":"A light-weight module that brings window.fetch to node.js","version":"3.0.0-beta.6-exportfix","keywords":["fetch","http","promise"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"build":"rollup -c","test":"node --experimental-modules node_modules/c8/bin/c8 --reporter=html --reporter=lcov --reporter=text --check-coverage node --experimental-modules node_modules/mocha/bin/mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.4.0","c8":"^7.1.2","chai":"^4.2.0","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","delay":"^4.3.0","form-data":"^3.0.0","mocha":"^7.1.2","p-timeout":"^3.2.0","parted":"^0.1.1","promise":"^8.1.0","resumer":"0.0.0","rollup":"^2.10.8","string-to-arraybuffer":"^1.0.2","tsc":"^1.20150623.0","tsd":"^0.11.0","xo":"^0.30.0"},"dependencies":{"data-uri-to-buffer":"^3.0.0","fetch-blob":"^1.0.6"},"engines":{"node":">=10.16"},"main":"./dist/index.cjs","dist":{"shasum":"fc39091dd71487c48a4d02ebcd3474b5c578fdea","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.0.0-beta.6-exportfix.tgz"},"readme":"<div align=\"center\">\n  \t<img src=\"docs/media/Banner.svg\" alt=\"Node Fetch\"/>\n  \t<br>\n  \t<p>A light-weight module that brings <code>window.fetch</code> to Node.js.</p>\n\t<a href=\"https://github.com/node-fetch/node-fetch/actions\"><img src=\"https://github.com/node-fetch/node-fetch/workflows/CI/badge.svg?branch=master\" alt=\"Build status\"></a>\n\t<a href=\"https://coveralls.io/github/node-fetch/node-fetch\"><img src=\"https://img.shields.io/coveralls/github/node-fetch/node-fetch\" alt=\"Coverage status\"></a>\n\t<a href=\"https://packagephobia.now.sh/result?p=node-fetch\"><img src=\"https://badgen.net/packagephobia/install/node-fetch\" alt=\"Current version\"></a>\n\t<a href=\"https://www.npmjs.com/package/node-fetch\"><img src=\"https://img.shields.io/npm/v/node-fetch\" alt=\"Install size\"></a>\n\t<a href=\"https://github.com/sindresorhus/awesome-nodejs\"><img src=\"https://awesome.re/mentioned-badge.svg\" alt=\"Mentioned in Awesome Node.js\"></a>\n\t<a href=\"https://discord.gg/Zxbndcm\"><img src=\"https://img.shields.io/discord/619915844268326952?color=%237289DA&label=Discord\" alt=\"Discord\"></a>\n\t<br>\n\t<br>\n\t<b>Consider supporting us on our Open Collective:</b>\n\t<br>\n\t<br>\n\t<a href=\"https://opencollective.com/node-fetch\"><img src=\"https://opencollective.com/node-fetch/donate/button.png?color=blue\" alt=\"Open Collective\"></a>\n</div>\n\n---\n\n<!-- TOC -->\n\n- [Motivation](#motivation)\n- [Features](#features)\n- [Difference from client-side fetch](#difference-from-client-side-fetch)\n- [Installation](#installation)\n- [Loading and configuring the module](#loading-and-configuring-the-module)\n- [Upgrading](#upgrading)\n- [Common Usage](#common-usage)\n\t- [Plain text or HTML](#plain-text-or-html)\n\t- [JSON](#json)\n\t- [Simple Post](#simple-post)\n\t- [Post with JSON](#post-with-json)\n\t- [Post with form parameters](#post-with-form-parameters)\n\t- [Handling exceptions](#handling-exceptions)\n\t- [Handling client and server errors](#handling-client-and-server-errors)\n\t- [Handling cookies](#handling-cookies)\n- [Advanced Usage](#advanced-usage)\n\t- [Streams](#streams)\n\t- [Buffer](#buffer)\n\t- [Accessing Headers and other Meta data](#accessing-headers-and-other-meta-data)\n\t- [Extract Set-Cookie Header](#extract-set-cookie-header)\n\t- [Post data using a file stream](#post-data-using-a-file-stream)\n\t- [Post with form-data (detect multipart)](#post-with-form-data-detect-multipart)\n\t- [Request cancellation with AbortSignal](#request-cancellation-with-abortsignal)\n- [API](#api)\n\t- [fetch(url[, options])](#fetchurl-options)\n\t- [Options](#options)\n\t\t- [Default Headers](#default-headers)\n\t\t- [Custom Agent](#custom-agent)\n\t\t- [Custom highWaterMark](#custom-highwatermark)\n\t- [Class: Request](#class-request)\n\t\t- [new Request(input[, options])](#new-requestinput-options)\n\t- [Class: Response](#class-response)\n\t\t- [new Response([body[, options]])](#new-responsebody-options)\n\t\t- [response.ok](#responseok)\n\t\t- [response.redirected](#responseredirected)\n\t- [Class: Headers](#class-headers)\n\t\t- [new Headers([init])](#new-headersinit)\n\t- [Interface: Body](#interface-body)\n\t\t- [body.body](#bodybody)\n\t\t- [body.bodyUsed](#bodybodyused)\n\t\t- [body.arrayBuffer()](#bodyarraybuffer)\n\t\t- [body.blob()](#bodyblob)\n\t\t- [body.json()](#bodyjson)\n\t\t- [body.text()](#bodytext)\n\t\t- [body.buffer()](#bodybuffer)\n\t- [Class: FetchError](#class-fetcherror)\n\t- [Class: AbortError](#class-aborterror)\n- [TypeScript](#typescript)\n- [Acknowledgement](#acknowledgement)\n- [Team](#team)\n\t\t\t\t- [Former](#former)\n- [License](#license)\n\n<!-- /TOC -->\n\n## Motivation\n\nInstead of implementing `XMLHttpRequest` in Node.js to run browser-specific [Fetch polyfill](https://github.com/github/fetch), why not go from native `http` to `fetch` API directly? Hence, `node-fetch`, minimal code for a `window.fetch` compatible API on Node.js runtime.\n\nSee Jason Miller's [isomorphic-unfetch](https://www.npmjs.com/package/isomorphic-unfetch) or Leonardo Quixada's [cross-fetch](https://github.com/lquixada/cross-fetch) for isomorphic usage (exports `node-fetch` for server-side, `whatwg-fetch` for client-side).\n\n## Features\n\n- Stay consistent with `window.fetch` API.\n- Make conscious trade-off when following [WHATWG fetch spec][whatwg-fetch] and [stream spec](https://streams.spec.whatwg.org/) implementation details, document known differences.\n- Use native promise, but allow substituting it with [insert your favorite promise library].\n- Use native Node streams for body, on both request and response.\n- Decode content encoding (gzip/deflate) properly, and convert string output (such as `res.text()` and `res.json()`) to UTF-8 automatically.\n- Useful extensions such as redirect limit, response size limit, [explicit errors][error-handling.md] for troubleshooting.\n\n## Difference from client-side fetch\n\n- See known differences:\n\t- [As of v3.x](docs/v3-LIMITS.md)\n\t- [As of v2.x](docs/v2-LIMITS.md)\n- If you happen to use a missing feature that `window.fetch` offers, feel free to open an issue.\n- Pull requests are welcomed too!\n\n## Installation\n\nCurrent stable release (`3.x`)\n\n```sh\n$ npm install node-fetch\n```\n\n## Loading and configuring the module\n\n```js\n// CommonJS\nconst fetch = require('node-fetch');\n\n// ES Module\nimport fetch from 'node-fetch';\n```\n\nIf you are using a Promise library other than native, set it through `fetch.Promise`:\n\n```js\nconst fetch = require('node-fetch');\nconst Bluebird = require('bluebird');\n\nfetch.Promise = Bluebird;\n```\n\nIf you want to patch the global object in node:\n\n```js\nconst fetch = require('node-fetch');\n\nif (!globalThis.fetch) {\n    globalThis.fetch = fetch;\n}\n```\n\nFor versions of Node earlier than 12, use this `globalThis` [polyfill](https://mathiasbynens.be/notes/globalthis).\n\n## Upgrading\n\nUsing an old version of node-fetch? Check out the following files:\n\n- [2.x to 3.x upgrade guide](docs/v3-UPGRADE-GUIDE.md)\n- [1.x to 2.x upgrade guide](docs/v2-UPGRADE-GUIDE.md)\n- [Changelog](docs/CHANGELOG.md)\n\n## Common Usage\n\nNOTE: The documentation below is up-to-date with `3.x` releases, if you are using an older version, please check how to [upgrade](#upgrading).\n\n### Plain text or HTML\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://github.com/');\n\tconst body = await response.text();\n\n\tconsole.log(body);\n})();\n```\n\n### JSON\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://api.github.com/users/github');\n\tconst json = await response.json();\n\n\tconsole.log(json);\n})();\n```\n\n### Simple Post\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: 'a=1'});\n\tconst json = await response.json();\n\n\tconsole.log(json);\n})();\n```\n\n### Post with JSON\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst body = {a: 1};\n\n\tconst response = await fetch('https://httpbin.org/post', {\n\t\tmethod: 'post',\n\t\tbody: JSON.stringify(body),\n\t\theaders: {'Content-Type': 'application/json'}\n\t});\n\tconst json = await response.json();\n\n\tconsole.log(json);\n})();\n```\n\n### Post with form parameters\n\n`URLSearchParams` is available on the global object in Node.js as of v10.0.0. See [official documentation](https://nodejs.org/api/url.html#url_class_urlsearchparams) for more usage methods.\n\nNOTE: The `Content-Type` header is only set automatically to `x-www-form-urlencoded` when an instance of `URLSearchParams` is given as such:\n\n```js\nconst fetch = require('node-fetch');\n\nconst params = new URLSearchParams();\nparams.append('a', 1);\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: params});\n\tconst json = await response.json();\n\n\tconsole.log(json);\n})();\n```\n\n### Handling exceptions\n\nNOTE: 3xx-5xx responses are _NOT_ exceptions, and should be handled in `then()`, see the next section.\n\nWrapping the fetch function into a `try/catch` block will catch _all_ exceptions, such as errors originating from node core libraries, like network errors, and operational errors which are instances of FetchError. See the [error handling document][error-handling.md] for more details.\n\n```js\nconst fetch = require('node-fetch');\n\ntry {\n\tfetch('https://domain.invalid/');\n} catch (error) {\n\tconsole.log(error);\n}\n```\n\n### Handling client and server errors\n\nIt is common to create a helper function to check that the response contains no client (4xx) or server (5xx) error responses:\n\n```js\nconst fetch = require('node-fetch');\n\nconst checkStatus = res => {\n\tif (res.ok) {\n\t\t// res.status >= 200 && res.status < 300\n\t\treturn res;\n\t} else {\n\t\tthrow MyCustomError(res.statusText);\n\t}\n}\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/status/400');\n\tconst data = checkStatus(response);\n\n\tconsole.log(data); //=> MyCustomError\n})();\n```\n\n### Handling cookies\n\nCookies are not stored by default. However, cookies can be extracted and passed by manipulating request and response headers. See [Extract Set-Cookie Header](#extract-set-cookie-header) for details.\n\n## Advanced Usage\n\n### Streams\n\nThe \"Node.js way\" is to use streams when possible. You can pipe `res.body` to another stream. This example uses [stream.pipeline](https://nodejs.org/api/stream.html#stream_stream_pipeline_streams_callback) to attach stream error handlers and wait for the download to complete.\n\n```js\nconst util = require('util');\nconst fs = require('fs');\nconst streamPipeline = util.promisify(require('stream').pipeline);\n\n(async () => {\n\tconst response = await fetch('https://assets-cdn.github.com/images/modules/logos_page/Octocat.png');\n\t\n\tif (response.ok) {\n\t\treturn streamPipeline(res.body, fs.createWriteStream('./octocat.png'));\n\t}\n\n\tthrow new Error(`unexpected response ${res.statusText}`);\n})();\n```\n\n### Buffer\n\nIf you prefer to cache binary data in full, use buffer(). (NOTE: buffer() is a `node-fetch` only API)\n\n```js\nconst fetch = require('node-fetch');\nconst fileType = require('file-type');\n\n(async () => {\n\tconst response = await fetch('https://octodex.github.com/images/Fintechtocat.png');\n\tconst buffer = await response.buffer();\n\tconst type = fileType.fromBuffer(buffer)\n\t\n\tconsole.log(type);\n})();\n```\n\n### Accessing Headers and other Meta data\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://github.com/');\n\t\n\tconsole.log(res.ok);\n\tconsole.log(res.status);\n\tconsole.log(res.statusText);\n\tconsole.log(res.headers.raw());\n\tconsole.log(res.headers.get('content-type'));\n})();\n```\n\n### Extract Set-Cookie Header\n\nUnlike browsers, you can access raw `Set-Cookie` headers manually using `Headers.raw()`. This is a `node-fetch` only API.\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://example.com');\n\t\n\t// Returns an array of values, instead of a string of comma-separated values\n\tconsole.log(res.headers.raw()['set-cookie']);\n})();\n```\n\n### Post data using a file stream\n\n```js\nconst {createReadStream} = require('fs');\nconst fetch = require('node-fetch');\n\nconst stream = createReadStream('input.txt');\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: stream});\n\tconst json = await response.json();\n\t\n\tconsole.log(json)\n})();\n```\n\n### Post with form-data (detect multipart)\n\n```js\nconst fetch = require('node-fetch');\nconst FormData = require('form-data');\n\nconst form = new FormData();\nform.append('a', 1);\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: form});\n\tconst json = await response.json();\n\t\n\tconsole.log(json)\n})();\n\n// OR, using custom headers\n// NOTE: getHeaders() is non-standard API\n\nconst options = {\n\tmethod: 'POST',\n\tbody: form,\n\theaders: form.getHeaders()\n};\n\n(async () => {\n\tconst response = await fetch('https://httpbin.org/post', options);\n\tconst json = await response.json();\n\t\n\tconsole.log(json)\n})();\n```\n\n### Request cancellation with AbortSignal\n\nYou may cancel requests with `AbortController`. A suggested implementation is [`abort-controller`](https://www.npmjs.com/package/abort-controller).\n\nAn example of timing out a request after 150ms could be achieved as the following:\n\n```js\nconst fetch = require('node-fetch');\nconst AbortController = require('abort-controller');\n\nconst controller = new AbortController();\nconst timeout = setTimeout(() => {\n\tcontroller.abort();\n}, 150);\n\n(async () => {\n\ttry {\n\t\tconst response = await fetch('https://example.com', {signal: controller.signal});\n\t\tconst data = await response.json();\n\t\t\n\t\tuseData(data);\n\t} catch (error) {\n\t\tif (error.name === 'AbortError') {\n            console.log('request was aborted');\n\t\t}\n\t} finally {\n\t\tclearTimeout(timeout);\n\t}\n})();\n```\n\nSee [test cases](https://github.com/node-fetch/node-fetch/blob/master/test/) for more examples.\n\n## API\n\n### fetch(url[, options])\n\n- `url` A string representing the URL for fetching\n- `options` [Options](#fetch-options) for the HTTP(S) request\n- Returns: <code>Promise&lt;[Response](#class-response)&gt;</code>\n\nPerform an HTTP(S) fetch.\n\n`url` should be an absolute url, such as `https://example.com/`. A path-relative URL (`/file/under/root`) or protocol-relative URL (`//can-be-http-or-https.com/`) will result in a rejected `Promise`.\n\n<a id=\"fetch-options\"></a>\n\n### Options\n\nThe default values are shown after each option key.\n\n```js\n{\n    // These properties are part of the Fetch Standard\n    method: 'GET',\n    headers: {},            // Request headers. format is the identical to that accepted by the Headers constructor (see below)\n    body: null,             // Request body. can be null, a string, a Buffer, a Blob, or a Node.js Readable stream\n    redirect: 'follow',     // Set to `manual` to extract redirect headers, `error` to reject redirect\n    signal: null,           // Pass an instance of AbortSignal to optionally abort requests\n\n    // The following properties are node-fetch extensions\n    follow: 20,             // maximum redirect count. 0 to not follow redirect\n    compress: true,         // support gzip/deflate content encoding. false to disable\n    size: 0,                // maximum response body size in bytes. 0 to disable\n    agent: null,            // http(s).Agent instance or function that returns an instance (see below)\n    highWaterMark: 16384    // the maximum number of bytes to store in the internal buffer before ceasing to read from the underlying resource.\n}\n```\n\n#### Default Headers\n\nIf no values are set, the following request headers will be sent automatically:\n\n| Header              | Value                                                  |\n| ------------------- | ------------------------------------------------------ |\n| `Accept-Encoding`   | `gzip,deflate,br` _(when `options.compress === true`)_ |\n| `Accept`            | `*/*`                                                  |\n| `Connection`        | `close` _(when no `options.agent` is present)_         |\n| `Content-Length`    | _(automatically calculated, if possible)_              |\n| `Transfer-Encoding` | `chunked` _(when `req.body` is a stream)_              |\n| `User-Agent`        | `node-fetch`                                           |\n\n\nNote: when `body` is a `Stream`, `Content-Length` is not set automatically.\n\n#### Custom Agent\n\nThe `agent` option allows you to specify networking related options which are out of the scope of Fetch, including and not limited to the following:\n\n- Support self-signed certificate\n- Use only IPv4 or IPv6\n- Custom DNS Lookup\n\nSee [`http.Agent`](https://nodejs.org/api/http.html#http_new_agent_options) for more information.\n\nIn addition, the `agent` option accepts a function that returns `http`(s)`.Agent` instance given current [URL](https://nodejs.org/api/url.html), this is useful during a redirection chain across HTTP and HTTPS protocol.\n\n```js\nconst http = require('http');\nconst https = require('https');\n\nconst httpAgent = new http.Agent({\n\tkeepAlive: true\n});\nconst httpsAgent = new https.Agent({\n\tkeepAlive: true\n});\n\nconst options = {\n\tagent: function(_parsedURL) {\n\t\tif (_parsedURL.protocol == 'http:') {\n\t\t\treturn httpAgent;\n\t\t} else {\n\t\t\treturn httpsAgent;\n\t\t}\n\t}\n};\n```\n\n<a id=\"custom-highWaterMark\"></a>\n\n#### Custom highWaterMark\n\nStream on Node.js have a smaller internal buffer size (16kB, aka `highWaterMark`) from client-side browsers (>1MB, not consistent across browsers). Because of that, when you are writing an isomorphic app and using `res.clone()`, it will hang with large response in Node.\n\nThe recommended way to fix this problem is to resolve cloned response in parallel:\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://example.com');\n\tconst r1 = await response.clone();\n\t\n\treturn Promise.all([res.json(), r1.text()]).then(results => {\n\t\tconsole.log(results[0]);\n\t\tconsole.log(results[1]);\n\t});\n})();\n```\n\nIf for some reason you don't like the solution above, since `3.x` you are able to modify the `highWaterMark` option:\n\n```js\nconst fetch = require('node-fetch');\n\n(async () => {\n\tconst response = await fetch('https://example.com', {\n\t\t// About 1MB\n\t\thighWaterMark: 1024 * 1024\n\t});\n\t\n\treturn res.clone().buffer();\n})();\n```\n\n<a id=\"class-request\"></a>\n\n### Class: Request\n\nAn HTTP(S) request containing information about URL, method, headers, and the body. This class implements the [Body](#iface-body) interface.\n\nDue to the nature of Node.js, the following properties are not implemented at this moment:\n\n- `type`\n- `destination`\n- `referrer`\n- `referrerPolicy`\n- `mode`\n- `credentials`\n- `cache`\n- `integrity`\n- `keepalive`\n\nThe following node-fetch extension properties are provided:\n\n- `follow`\n- `compress`\n- `counter`\n- `agent`\n- `highWaterMark`\n\nSee [options](#fetch-options) for exact meaning of these extensions.\n\n#### new Request(input[, options])\n\n<small>_(spec-compliant)_</small>\n\n- `input` A string representing a URL, or another `Request` (which will be cloned)\n- `options` [Options][#fetch-options] for the HTTP(S) request\n\nConstructs a new `Request` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Request/Request).\n\nIn most cases, directly `fetch(url, options)` is simpler than creating a `Request` object.\n\n<a id=\"class-response\"></a>\n\n### Class: Response\n\nAn HTTP(S) response. This class implements the [Body](#iface-body) interface.\n\nThe following properties are not implemented in node-fetch at this moment:\n\n- `Response.error()`\n- `Response.redirect()`\n- `type`\n- `trailer`\n\n#### new Response([body[, options]])\n\n<small>_(spec-compliant)_</small>\n\n- `body` A `String` or [`Readable` stream][node-readable]\n- `options` A [`ResponseInit`][response-init] options dictionary\n\nConstructs a new `Response` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Response/Response).\n\nBecause Node.js does not implement service workers (for which this class was designed), one rarely has to construct a `Response` directly.\n\n#### response.ok\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request ended normally. Will evaluate to true if the response status was greater than or equal to 200 but smaller than 300.\n\n#### response.redirected\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request has been redirected at least once. Will evaluate to true if the internal redirect counter is greater than 0.\n\n<a id=\"class-headers\"></a>\n\n### Class: Headers\n\nThis class allows manipulating and iterating over a set of HTTP headers. All methods specified in the [Fetch Standard][whatwg-fetch] are implemented.\n\n#### new Headers([init])\n\n<small>_(spec-compliant)_</small>\n\n- `init` Optional argument to pre-fill the `Headers` object\n\nConstruct a new `Headers` object. `init` can be either `null`, a `Headers` object, an key-value map object or any iterable object.\n\n```js\n// Example adapted from https://fetch.spec.whatwg.org/#example-headers-class\nconst Headers = require('node-fetch');\n\nconst meta = {\n\t'Content-Type': 'text/xml',\n\t'Breaking-Bad': '<3'\n};\nconst headers = new Headers(meta);\n\n// The above is equivalent to\nconst meta = [['Content-Type', 'text/xml'], ['Breaking-Bad', '<3']];\nconst headers = new Headers(meta);\n\n// You can in fact use any iterable objects, like a Map or even another Headers\nconst meta = new Map();\nmeta.set('Content-Type', 'text/xml');\nmeta.set('Breaking-Bad', '<3');\nconst headers = new Headers(meta);\nconst copyOfHeaders = new Headers(headers);\n```\n\n<a id=\"iface-body\"></a>\n\n### Interface: Body\n\n`Body` is an abstract interface with methods that are applicable to both `Request` and `Response` classes.\n\nThe following methods are not yet implemented in node-fetch at this moment:\n\n- `formData()`\n\n#### body.body\n\n<small>_(deviation from spec)_</small>\n\n- Node.js [`Readable` stream][node-readable]\n\nData are encapsulated in the `Body` object. Note that while the [Fetch Standard][whatwg-fetch] requires the property to always be a WHATWG `ReadableStream`, in node-fetch it is a Node.js [`Readable` stream][node-readable].\n\n#### body.bodyUsed\n\n<small>_(spec-compliant)_</small>\n\n- `Boolean`\n\nA boolean property for if this body has been consumed. Per the specs, a consumed body cannot be used again.\n\n#### body.arrayBuffer()\n\n#### body.blob()\n\n#### body.json()\n\n#### body.text()\n\n<small>_(spec-compliant)_</small>\n\n- Returns: `Promise`\n\nConsume the body and return a promise that will resolve to one of these formats.\n\n#### body.buffer()\n\n<small>_(node-fetch extension)_</small>\n\n- Returns: `Promise<Buffer>`\n\nConsume the body and return a promise that will resolve to a Buffer.\n\n<a id=\"class-fetcherror\"></a>\n\n### Class: FetchError\n\n<small>_(node-fetch extension)_</small>\n\nAn operational error in the fetching process. See [ERROR-HANDLING.md][] for more info.\n\n<a id=\"class-aborterror\"></a>\n\n### Class: AbortError\n\n<small>_(node-fetch extension)_</small>\n\nAn Error thrown when the request is aborted in response to an `AbortSignal`'s `abort` event. It has a `name` property of `AbortError`. See [ERROR-HANDLING.MD][] for more info.\n\n## TypeScript\n\n**Since `3.x` types are bundled with `node-fetch`, so you don't need to install any additional packages.**\n\nFor older versions please use the type definitions from [DefinitelyTyped](https://github.com/DefinitelyTyped/DefinitelyTyped):\n\n```sh\n$ npm install --save-dev @types/node-fetch\n```\n\n## Acknowledgement\n\nThanks to [github/fetch](https://github.com/github/fetch) for providing a solid implementation reference.\n\n## Team\n\n| [![David Frank](https://github.com/bitinn.png?size=100)](https://github.com/bitinn) | [![Jimmy Wärting](https://github.com/jimmywarting.png?size=100)](https://github.com/jimmywarting) | [![Antoni Kepinski](https://github.com/xxczaki.png?size=100)](https://github.com/xxczaki) | [![Richie Bendall](https://github.com/Richienb.png?size=100)](https://github.com/Richienb) | [![Gregor Martynus](https://github.com/gr2m.png?size=100)](https://github.com/gr2m) |\n| ----------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------- |\n| [David Frank](https://bitinn.net/)                                                  | [Jimmy Wärting](https://jimmy.warting.se/)                                                        | [Antoni Kepinski](https://kepinski.me)                                                    | [Richie Bendall](https://www.richie-bendall.ml/)                                           | [Gregor Martynus](https://twitter.com/gr2m)                                         |\n\n###### Former\n\n- [Timothy Gu](https://github.com/timothygu)\n- [Jared Kantrowitz](https://github.com/jkantr)\n\n## License\n\n[MIT](LICENSE.md)\n\n[whatwg-fetch]: https://fetch.spec.whatwg.org/\n[response-init]: https://fetch.spec.whatwg.org/#responseinit\n[node-readable]: https://nodejs.org/api/stream.html#stream_readable_streams\n[mdn-headers]: https://developer.mozilla.org/en-US/docs/Web/API/Headers\n[error-handling.md]: https://github.com/node-fetch/node-fetch/blob/master/docs/ERROR-HANDLING.md\n","module":"./src/index.js","sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"target":"esnext","lib":["es2018"],"allowSyntheticDefaultImports":true}},"xo":{"envs":["node","browser"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"unicorn/import-index":0,"capitalized-comments":0},"ignores":["dist","@types"],"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"new-cap":0,"guard-for-in":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}},{"files":"example.js","rules":{"import/no-extraneous-dependencies":0}}]},"runkitExampleFilename":"example.js","readmeFilename":"README.md","gitHead":"9b28c86d965c34bd4b412635c65819ef2a5339ca","_nodeVersion":"14.3.0","_npmVersion":"6.14.5","maintainers":[{"email":"xxczaki@pm.me","name":"akepinski"},{"email":"bitinn@gmail.com","name":"bitinn"},{"email":"jimmy@warting.se","name":"endless"},{"email":"timothygu99@gmail.com","name":"timothygu"}],"_npmUser":{"name":"akepinski","email":"xxczaki@pm.me"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.0.0-beta.6-exportfix_1590427834943_0.2966373959565298"},"_hasShrinkwrap":false},"3.0.0":{"_id":"node-fetch@3.0.0","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"3.0.0","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.7.1","busboy":"^0.3.1","c8":"^7.7.2","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","delay":"^5.0.0","form-data":"^4.0.0","formdata-node":"^3.5.4","mocha":"^8.3.2","p-timeout":"^5.0.0","tsd":"^0.14.0","xo":"^0.39.1"},"dependencies":{"data-uri-to-buffer":"^3.0.1","fetch-blob":"^3.1.2"},"engines":{"node":"^12.20.0 || ^14.13.1 || >=16.0.0"},"main":"./src/index.js","dist":{"shasum":"79da7146a520036f2c5f644e4a26095f17e411ea","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.0.0.tgz"},"sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"esModuleInterop":true}},"xo":{"envs":["node","browser"],"ignores":["example.js"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"import/no-named-as-default":0,"unicorn/import-index":0,"unicorn/no-array-reduce":0,"unicorn/prefer-node-protocol":0,"unicorn/numeric-separators-style":0,"unicorn/explicit-length-check":0,"capitalized-comments":0,"@typescript-eslint/member-ordering":0},"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"no-warning-comments":0,"new-cap":0,"guard-for-in":0,"unicorn/no-array-for-each":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}}]},"runkitExampleFilename":"example.js","gitHead":"d6e23a2a85f3364193c1bc85b80ef38c771b090b","_nodeVersion":"16.8.0","_npmVersion":"7.21.0","_npmUser":{"name":"endless","email":"jimmy@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.0.0_1630426944433_0.49173978227800874"},"_hasShrinkwrap":false},"3.1.0":{"_id":"node-fetch@3.1.0","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"3.1.0","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.7.1","busboy":"^0.3.1","c8":"^7.7.2","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","delay":"^5.0.0","form-data":"^4.0.0","formdata-node":"^4.2.4","mocha":"^9.1.3","p-timeout":"^5.0.0","tsd":"^0.14.0","xo":"^0.39.1"},"dependencies":{"data-uri-to-buffer":"^4.0.0","formdata-polyfill":"^4.0.10","fetch-blob":"^3.1.2"},"engines":{"node":"^12.20.0 || ^14.13.1 || >=16.0.0"},"main":"./src/index.js","dist":{"shasum":"714f4922dc270239487654eaeeab86b8206cb52e","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.1.0.tgz"},"sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"esModuleInterop":true}},"xo":{"envs":["node","browser"],"ignores":["example.js"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"import/no-named-as-default":0,"unicorn/import-index":0,"unicorn/no-array-reduce":0,"unicorn/prefer-node-protocol":0,"unicorn/numeric-separators-style":0,"unicorn/explicit-length-check":0,"capitalized-comments":0,"node/no-unsupported-features/es-syntax":0,"@typescript-eslint/member-ordering":0},"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"no-warning-comments":0,"new-cap":0,"guard-for-in":0,"unicorn/no-array-for-each":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}}]},"runkitExampleFilename":"example.js","gitHead":"109bd21313c277f043089f8c38b1a716c39ff86f","_nodeVersion":"17.0.1","_npmVersion":"8.1.0","_npmUser":{"name":"endless","email":"jimmy@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.1.0_1636395417407_0.8574820247956818"},"_hasShrinkwrap":false},"3.1.1":{"_id":"node-fetch@3.1.1","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"3.1.1","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.7.1","busboy":"^0.3.1","c8":"^7.7.2","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","delay":"^5.0.0","form-data":"^4.0.0","formdata-node":"^4.2.4","mocha":"^9.1.3","p-timeout":"^5.0.0","stream-consumers":"^1.0.1","tsd":"^0.14.0","xo":"^0.39.1"},"dependencies":{"data-uri-to-buffer":"^4.0.0","fetch-blob":"^3.1.3","formdata-polyfill":"^4.0.10"},"engines":{"node":"^12.20.0 || ^14.13.1 || >=16.0.0"},"main":"./src/index.js","dist":{"shasum":"d0d9607e455b3087e3092b821b5b1f1ebf4c2147","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.1.1.tgz"},"sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"esModuleInterop":true}},"xo":{"envs":["node","browser"],"ignores":["example.js"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"import/no-named-as-default":0,"unicorn/import-index":0,"unicorn/no-array-reduce":0,"unicorn/prefer-node-protocol":0,"unicorn/numeric-separators-style":0,"unicorn/explicit-length-check":0,"capitalized-comments":0,"node/no-unsupported-features/es-syntax":0,"@typescript-eslint/member-ordering":0},"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"no-warning-comments":0,"new-cap":0,"guard-for-in":0,"unicorn/no-array-for-each":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}}]},"runkitExampleFilename":"example.js","gitHead":"36e47e8a6406185921e4985dcbeff140d73eaa10","_nodeVersion":"17.3.0","_npmVersion":"8.3.0","_npmUser":{"name":"endless","email":"jimmy@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"},{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.1.1_1642336090375_0.17474613684700424"},"_hasShrinkwrap":false},"3.2.0":{"_id":"node-fetch@3.2.0","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"3.2.0","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.7.1","busboy":"^1.4.0","c8":"^7.7.2","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","form-data":"^4.0.0","formdata-node":"^4.2.4","mocha":"^9.1.3","p-timeout":"^5.0.0","stream-consumers":"^1.0.1","tsd":"^0.14.0","xo":"^0.39.1"},"dependencies":{"data-uri-to-buffer":"^4.0.0","fetch-blob":"^3.1.4","formdata-polyfill":"^4.0.10"},"engines":{"node":"^12.20.0 || ^14.13.1 || >=16.0.0"},"main":"./src/index.js","dist":{"shasum":"59390db4e489184fa35d4b74caf5510e8dfbaf3b","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.2.0.tgz"},"sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"esModuleInterop":true}},"xo":{"envs":["node","browser"],"ignores":["example.js"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"import/no-named-as-default":0,"unicorn/import-index":0,"unicorn/no-array-reduce":0,"unicorn/prefer-node-protocol":0,"unicorn/numeric-separators-style":0,"unicorn/explicit-length-check":0,"capitalized-comments":0,"node/no-unsupported-features/es-syntax":0,"@typescript-eslint/member-ordering":0},"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"no-warning-comments":0,"new-cap":0,"guard-for-in":0,"unicorn/no-array-for-each":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}}]},"runkitExampleFilename":"example.js","release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]},"gitHead":"81b1378bb3bda555d3d2114e7d3dfddbd91f210c","_nodeVersion":"16.13.2","_npmVersion":"8.1.2","_npmUser":{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"},{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.2.0_1642711398986_0.1632718206841841"},"_hasShrinkwrap":false},"3.2.1":{"_id":"node-fetch@3.2.1","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"3.2.1","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.7.1","busboy":"^1.4.0","c8":"^7.7.2","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","form-data":"^4.0.0","formdata-node":"^4.2.4","mocha":"^9.1.3","p-timeout":"^5.0.0","stream-consumers":"^1.0.1","tsd":"^0.14.0","xo":"^0.39.1"},"dependencies":{"data-uri-to-buffer":"^4.0.0","fetch-blob":"^3.1.4","formdata-polyfill":"^4.0.10"},"engines":{"node":"^12.20.0 || ^14.13.1 || >=16.0.0"},"main":"./src/index.js","dist":{"shasum":"002177382810cfb77858857f69a3621a86c45f26","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.2.1.tgz"},"sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"esModuleInterop":true}},"xo":{"envs":["node","browser"],"ignores":["example.js"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"import/no-named-as-default":0,"unicorn/import-index":0,"unicorn/no-array-reduce":0,"unicorn/prefer-node-protocol":0,"unicorn/numeric-separators-style":0,"unicorn/explicit-length-check":0,"capitalized-comments":0,"node/no-unsupported-features/es-syntax":0,"@typescript-eslint/member-ordering":0},"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"no-warning-comments":0,"new-cap":0,"guard-for-in":0,"unicorn/no-array-for-each":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}}]},"runkitExampleFilename":"example.js","release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]},"gitHead":"61b3b5a06384003d332581080af6522bec19417f","_nodeVersion":"16.14.0","_npmVersion":"8.3.1","_npmUser":{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"},{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.2.1_1646128498397_0.038169238426281504"},"_hasShrinkwrap":false},"3.2.2":{"_id":"node-fetch@3.2.2","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"3.2.2","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.7.1","busboy":"^1.4.0","c8":"^7.7.2","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","form-data":"^4.0.0","formdata-node":"^4.2.4","mocha":"^9.1.3","p-timeout":"^5.0.0","stream-consumers":"^1.0.1","tsd":"^0.14.0","xo":"^0.39.1"},"dependencies":{"data-uri-to-buffer":"^4.0.0","fetch-blob":"^3.1.4","formdata-polyfill":"^4.0.10"},"engines":{"node":"^12.20.0 || ^14.13.1 || >=16.0.0"},"main":"./src/index.js","dist":{"shasum":"16d33fbe32ca7c6ca1ca8ba5dfea1dd885c59f04","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.2.2.tgz"},"sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"esModuleInterop":true}},"xo":{"envs":["node","browser"],"ignores":["example.js"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"import/no-named-as-default":0,"unicorn/import-index":0,"unicorn/no-array-reduce":0,"unicorn/prefer-node-protocol":0,"unicorn/numeric-separators-style":0,"unicorn/explicit-length-check":0,"capitalized-comments":0,"node/no-unsupported-features/es-syntax":0,"@typescript-eslint/member-ordering":0},"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"no-warning-comments":0,"new-cap":0,"guard-for-in":0,"unicorn/no-array-for-each":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}}]},"runkitExampleFilename":"example.js","release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]},"gitHead":"a4ea5f9308f942400695cce261291d0a80cd1b02","_nodeVersion":"16.14.0","_npmVersion":"8.3.1","_npmUser":{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"},{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.2.2_1646650628521_0.4891031133718875"},"_hasShrinkwrap":false},"3.2.3":{"_id":"node-fetch@3.2.3","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"3.2.3","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.7.1","busboy":"^1.4.0","c8":"^7.7.2","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","form-data":"^4.0.0","formdata-node":"^4.2.4","mocha":"^9.1.3","p-timeout":"^5.0.0","stream-consumers":"^1.0.1","tsd":"^0.14.0","xo":"^0.39.1"},"dependencies":{"data-uri-to-buffer":"^4.0.0","fetch-blob":"^3.1.4","formdata-polyfill":"^4.0.10"},"engines":{"node":"^12.20.0 || ^14.13.1 || >=16.0.0"},"main":"./src/index.js","dist":{"shasum":"a03c9cc2044d21d1a021566bd52f080f333719a6","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.2.3.tgz"},"sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"esModuleInterop":true}},"xo":{"envs":["node","browser"],"ignores":["example.js"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"import/no-named-as-default":0,"unicorn/import-index":0,"unicorn/no-array-reduce":0,"unicorn/prefer-node-protocol":0,"unicorn/numeric-separators-style":0,"unicorn/explicit-length-check":0,"capitalized-comments":0,"node/no-unsupported-features/es-syntax":0,"@typescript-eslint/member-ordering":0},"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"no-warning-comments":0,"new-cap":0,"guard-for-in":0,"unicorn/no-array-for-each":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}}]},"runkitExampleFilename":"example.js","release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]},"gitHead":"6425e2021a7def096e13dbabcac2f10e6da83d11","_nodeVersion":"16.14.0","_npmVersion":"8.3.1","_npmUser":{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"},{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.2.3_1647035392795_0.1019260827976034"},"_hasShrinkwrap":false},"3.2.4":{"_id":"node-fetch@3.2.4","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"3.2.4","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.7.1","busboy":"^1.4.0","c8":"^7.7.2","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","form-data":"^4.0.0","formdata-node":"^4.2.4","mocha":"^9.1.3","p-timeout":"^5.0.0","stream-consumers":"^1.0.1","tsd":"^0.14.0","xo":"^0.39.1"},"dependencies":{"data-uri-to-buffer":"^4.0.0","fetch-blob":"^3.1.4","formdata-polyfill":"^4.0.10"},"engines":{"node":"^12.20.0 || ^14.13.1 || >=16.0.0"},"main":"./src/index.js","dist":{"shasum":"3fbca2d8838111048232de54cb532bd3cf134947","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.2.4.tgz"},"sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"esModuleInterop":true}},"xo":{"envs":["node","browser"],"ignores":["example.js"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"import/no-named-as-default":0,"unicorn/import-index":0,"unicorn/no-array-reduce":0,"unicorn/prefer-node-protocol":0,"unicorn/numeric-separators-style":0,"unicorn/explicit-length-check":0,"capitalized-comments":0,"node/no-unsupported-features/es-syntax":0,"@typescript-eslint/member-ordering":0},"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"no-warning-comments":0,"new-cap":0,"guard-for-in":0,"unicorn/no-array-for-each":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}}]},"runkitExampleFilename":"example.js","release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]},"gitHead":"004b3ac8324e6cdbfb5d04b8bbdc6664ea48fbcf","_nodeVersion":"16.14.2","_npmVersion":"8.5.0","_npmUser":{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"},{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.2.4_1651138445892_0.47448392096352143"},"_hasShrinkwrap":false},"3.2.5":{"_id":"node-fetch@3.2.5","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"3.2.5","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.7.1","busboy":"^1.4.0","c8":"^7.7.2","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","form-data":"^4.0.0","formdata-node":"^4.2.4","mocha":"^9.1.3","p-timeout":"^5.0.0","stream-consumers":"^1.0.1","tsd":"^0.14.0","xo":"^0.39.1"},"dependencies":{"data-uri-to-buffer":"^4.0.0","fetch-blob":"^3.1.4","formdata-polyfill":"^4.0.10"},"engines":{"node":"^12.20.0 || ^14.13.1 || >=16.0.0"},"main":"./src/index.js","dist":{"shasum":"7d31da657804db5185540ddac7ddd516a9a2bd26","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.2.5.tgz"},"sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"esModuleInterop":true}},"xo":{"envs":["node","browser"],"ignores":["example.js"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"import/no-named-as-default":0,"unicorn/import-index":0,"unicorn/no-array-reduce":0,"unicorn/prefer-node-protocol":0,"unicorn/numeric-separators-style":0,"unicorn/explicit-length-check":0,"capitalized-comments":0,"node/no-unsupported-features/es-syntax":0,"@typescript-eslint/member-ordering":0},"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"no-warning-comments":0,"new-cap":0,"guard-for-in":0,"unicorn/no-array-for-each":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}}]},"runkitExampleFilename":"example.js","release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]},"gitHead":"a92b5d5cf4457c2da95d8404b08cfd06a426a2fa","_nodeVersion":"16.15.0","_npmVersion":"8.5.5","_npmUser":{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"},{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.2.5_1654112671648_0.833397215874595"},"_hasShrinkwrap":false},"3.2.6":{"_id":"node-fetch@3.2.6","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"3.2.6","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.7.1","busboy":"^1.4.0","c8":"^7.7.2","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","form-data":"^4.0.0","formdata-node":"^4.2.4","mocha":"^9.1.3","p-timeout":"^5.0.0","stream-consumers":"^1.0.1","tsd":"^0.14.0","xo":"^0.39.1"},"dependencies":{"data-uri-to-buffer":"^4.0.0","fetch-blob":"^3.1.4","formdata-polyfill":"^4.0.10"},"engines":{"node":"^12.20.0 || ^14.13.1 || >=16.0.0"},"main":"./src/index.js","dist":{"shasum":"6d4627181697a9d9674aae0d61548e0d629b31b9","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.2.6.tgz"},"sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"esModuleInterop":true}},"xo":{"envs":["node","browser"],"ignores":["example.js"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"import/no-named-as-default":0,"unicorn/import-index":0,"unicorn/no-array-reduce":0,"unicorn/prefer-node-protocol":0,"unicorn/numeric-separators-style":0,"unicorn/explicit-length-check":0,"capitalized-comments":0,"node/no-unsupported-features/es-syntax":0,"@typescript-eslint/member-ordering":0},"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"no-warning-comments":0,"new-cap":0,"guard-for-in":0,"unicorn/no-array-for-each":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}}]},"runkitExampleFilename":"example.js","release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]},"gitHead":"1c5ed6b981e6c5dd28bd50f5ab5418e5bd262b99","_nodeVersion":"16.15.1","_npmVersion":"8.11.0","_npmUser":{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"},{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.2.6_1654772135599_0.6798685100898683"},"_hasShrinkwrap":false},"3.2.7":{"_id":"node-fetch@3.2.7","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"3.2.7","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.7.1","busboy":"^1.4.0","c8":"^7.7.2","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","form-data":"^4.0.0","formdata-node":"^4.2.4","mocha":"^9.1.3","p-timeout":"^5.0.0","stream-consumers":"^1.0.1","tsd":"^0.14.0","xo":"^0.39.1"},"dependencies":{"data-uri-to-buffer":"^4.0.0","fetch-blob":"^3.1.4","formdata-polyfill":"^4.0.10"},"engines":{"node":"^12.20.0 || ^14.13.1 || >=16.0.0"},"main":"./src/index.js","dist":{"shasum":"30739f7becd068ef8a741b8a9509409f0f835cf4","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.2.7.tgz"},"sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"esModuleInterop":true}},"xo":{"envs":["node","browser"],"ignores":["example.js"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"import/no-named-as-default":0,"unicorn/import-index":0,"unicorn/no-array-reduce":0,"unicorn/prefer-node-protocol":0,"unicorn/numeric-separators-style":0,"unicorn/explicit-length-check":0,"capitalized-comments":0,"node/no-unsupported-features/es-syntax":0,"@typescript-eslint/member-ordering":0},"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"no-warning-comments":0,"new-cap":0,"guard-for-in":0,"unicorn/no-array-for-each":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}}]},"runkitExampleFilename":"example.js","release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]},"gitHead":"4f43c9ed63da98f4b5167f0a8e447cd0f0133cd3","_nodeVersion":"16.15.1","_npmVersion":"8.11.0","_npmUser":{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"},{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.2.7_1657579561494_0.653545767003173"},"_hasShrinkwrap":false},"3.2.8":{"_id":"node-fetch@3.2.8","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"3.2.8","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.7.1","busboy":"^1.4.0","c8":"^7.7.2","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","form-data":"^4.0.0","formdata-node":"^4.2.4","mocha":"^9.1.3","p-timeout":"^5.0.0","stream-consumers":"^1.0.1","tsd":"^0.14.0","xo":"^0.39.1"},"dependencies":{"data-uri-to-buffer":"^4.0.0","fetch-blob":"^3.1.4","formdata-polyfill":"^4.0.10"},"engines":{"node":"^12.20.0 || ^14.13.1 || >=16.0.0"},"main":"./src/index.js","dist":{"shasum":"0d9516dcf43a758d78d6dbe538adf0b1f6a4944e","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.2.8.tgz"},"sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"esModuleInterop":true}},"xo":{"envs":["node","browser"],"ignores":["example.js"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"import/no-named-as-default":0,"unicorn/import-index":0,"unicorn/no-array-reduce":0,"unicorn/prefer-node-protocol":0,"unicorn/numeric-separators-style":0,"unicorn/explicit-length-check":0,"capitalized-comments":0,"node/no-unsupported-features/es-syntax":0,"@typescript-eslint/member-ordering":0},"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"no-warning-comments":0,"new-cap":0,"guard-for-in":0,"unicorn/no-array-for-each":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}}]},"runkitExampleFilename":"example.js","release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]},"gitHead":"11b703361134340a8361f591d6e3a0bcf6a261fa","_nodeVersion":"16.16.0","_npmVersion":"8.11.0","_npmUser":{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"},{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.2.8_1657643542724_0.45322373448868514"},"_hasShrinkwrap":false},"3.2.9":{"_id":"node-fetch@3.2.9","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"3.2.9","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.7.1","busboy":"^1.4.0","c8":"^7.7.2","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","form-data":"^4.0.0","formdata-node":"^4.2.4","mocha":"^9.1.3","p-timeout":"^5.0.0","stream-consumers":"^1.0.1","tsd":"^0.14.0","xo":"^0.39.1"},"dependencies":{"data-uri-to-buffer":"^4.0.0","fetch-blob":"^3.1.4","formdata-polyfill":"^4.0.10"},"engines":{"node":"^12.20.0 || ^14.13.1 || >=16.0.0"},"main":"./src/index.js","dist":{"shasum":"3f6070bf854de20f21b9fe8479f823462e615d7d","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.2.9.tgz"},"sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"esModuleInterop":true}},"xo":{"envs":["node","browser"],"ignores":["example.js"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"import/no-named-as-default":0,"unicorn/import-index":0,"unicorn/no-array-reduce":0,"unicorn/prefer-node-protocol":0,"unicorn/numeric-separators-style":0,"unicorn/explicit-length-check":0,"capitalized-comments":0,"node/no-unsupported-features/es-syntax":0,"@typescript-eslint/member-ordering":0},"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"no-warning-comments":0,"new-cap":0,"guard-for-in":0,"unicorn/no-array-for-each":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}}]},"runkitExampleFilename":"example.js","release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]},"gitHead":"e87b093fd678a9ea39c5b17b2a1bdfc4691eedc7","_nodeVersion":"16.16.0","_npmVersion":"8.11.0","_npmUser":{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"},{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.2.9_1658157670835_0.48376806435424236"},"_hasShrinkwrap":false},"3.2.10":{"_id":"node-fetch@3.2.10","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"3.2.10","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.7.1","busboy":"^1.4.0","c8":"^7.7.2","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","form-data":"^4.0.0","formdata-node":"^4.2.4","mocha":"^9.1.3","p-timeout":"^5.0.0","stream-consumers":"^1.0.1","tsd":"^0.14.0","xo":"^0.39.1"},"dependencies":{"data-uri-to-buffer":"^4.0.0","fetch-blob":"^3.1.4","formdata-polyfill":"^4.0.10"},"engines":{"node":"^12.20.0 || ^14.13.1 || >=16.0.0"},"main":"./src/index.js","dist":{"shasum":"e8347f94b54ae18b57c9c049ef641cef398a85c8","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.2.10.tgz"},"sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"esModuleInterop":true}},"xo":{"envs":["node","browser"],"ignores":["example.js"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"import/no-named-as-default":0,"unicorn/import-index":0,"unicorn/no-array-reduce":0,"unicorn/prefer-node-protocol":0,"unicorn/numeric-separators-style":0,"unicorn/explicit-length-check":0,"capitalized-comments":0,"node/no-unsupported-features/es-syntax":0,"@typescript-eslint/member-ordering":0},"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"no-warning-comments":0,"new-cap":0,"guard-for-in":0,"unicorn/no-array-for-each":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}}]},"runkitExampleFilename":"example.js","release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]},"gitHead":"28802387292baee467e042e168d92597b5bbbe3d","_nodeVersion":"16.16.0","_npmVersion":"8.11.0","_npmUser":{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"},{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.2.10_1659254545184_0.7336737707371426"},"_hasShrinkwrap":false},"3.3.0":{"_id":"node-fetch@3.3.0","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"3.3.0","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.7.1","busboy":"^1.4.0","c8":"^7.7.2","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","form-data":"^4.0.0","formdata-node":"^4.2.4","mocha":"^9.1.3","p-timeout":"^5.0.0","stream-consumers":"^1.0.1","tsd":"^0.14.0","xo":"^0.39.1"},"dependencies":{"data-uri-to-buffer":"^4.0.0","fetch-blob":"^3.1.4","formdata-polyfill":"^4.0.10"},"engines":{"node":"^12.20.0 || ^14.13.1 || >=16.0.0"},"main":"./src/index.js","dist":{"shasum":"37e71db4ecc257057af828d523a7243d651d91e4","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.3.0.tgz"},"sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"esModuleInterop":true}},"xo":{"envs":["node","browser"],"ignores":["example.js"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"import/no-named-as-default":0,"unicorn/import-index":0,"unicorn/no-array-reduce":0,"unicorn/prefer-node-protocol":0,"unicorn/numeric-separators-style":0,"unicorn/explicit-length-check":0,"capitalized-comments":0,"node/no-unsupported-features/es-syntax":0,"@typescript-eslint/member-ordering":0},"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"no-warning-comments":0,"new-cap":0,"guard-for-in":0,"unicorn/no-array-for-each":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}}]},"runkitExampleFilename":"example.js","release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]},"gitHead":"55a4870ae5f805d8ff9a890ea2c652c9977e048e","_nodeVersion":"16.18.0","_npmVersion":"8.19.2","_npmUser":{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"},{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.3.0_1668116850272_0.45059815705997797"},"_hasShrinkwrap":false},"3.3.1":{"_id":"node-fetch@3.3.1","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"3.3.1","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.7.1","busboy":"^1.4.0","c8":"^7.7.2","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","form-data":"^4.0.0","formdata-node":"^4.2.4","mocha":"^9.1.3","p-timeout":"^5.0.0","stream-consumers":"^1.0.1","tsd":"^0.14.0","xo":"^0.39.1"},"dependencies":{"data-uri-to-buffer":"^4.0.0","fetch-blob":"^3.1.4","formdata-polyfill":"^4.0.10"},"engines":{"node":"^12.20.0 || ^14.13.1 || >=16.0.0"},"main":"./src/index.js","dist":{"shasum":"b3eea7b54b3a48020e46f4f88b9c5a7430d20b2e","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.3.1.tgz"},"sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"esModuleInterop":true}},"xo":{"envs":["node","browser"],"ignores":["example.js"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"import/no-named-as-default":0,"unicorn/import-index":0,"unicorn/no-array-reduce":0,"unicorn/prefer-node-protocol":0,"unicorn/numeric-separators-style":0,"unicorn/explicit-length-check":0,"capitalized-comments":0,"node/no-unsupported-features/es-syntax":0,"@typescript-eslint/member-ordering":0},"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"no-warning-comments":0,"new-cap":0,"guard-for-in":0,"unicorn/no-array-for-each":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}}]},"runkitExampleFilename":"example.js","release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]},"gitHead":"7b86e946b02dfdd28f4f8fca3d73a022cbb5ca1e","_nodeVersion":"18.14.2","_npmVersion":"9.5.0","_npmUser":{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"},{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.3.1_1678531669225_0.2815289104736358"},"_hasShrinkwrap":false},"3.3.2":{"_id":"node-fetch@3.3.2","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"3.3.2","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.7.1","busboy":"^1.4.0","c8":"^7.7.2","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","form-data":"^4.0.0","formdata-node":"^4.2.4","mocha":"^9.1.3","p-timeout":"^5.0.0","stream-consumers":"^1.0.1","tsd":"^0.14.0","xo":"^0.39.1"},"dependencies":{"data-uri-to-buffer":"^4.0.0","fetch-blob":"^3.1.4","formdata-polyfill":"^4.0.10"},"engines":{"node":"^12.20.0 || ^14.13.1 || >=16.0.0"},"main":"./src/index.js","dist":{"shasum":"d1e889bacdf733b4ff3b2b243eb7a12866a0b78b","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-3.3.2.tgz"},"sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"esModuleInterop":true}},"xo":{"envs":["node","browser"],"ignores":["example.js"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"import/no-named-as-default":0,"unicorn/import-index":0,"unicorn/no-array-reduce":0,"unicorn/prefer-node-protocol":0,"unicorn/numeric-separators-style":0,"unicorn/explicit-length-check":0,"capitalized-comments":0,"node/no-unsupported-features/es-syntax":0,"@typescript-eslint/member-ordering":0},"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"no-warning-comments":0,"new-cap":0,"guard-for-in":0,"unicorn/no-array-for-each":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}}]},"runkitExampleFilename":"example.js","release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]},"gitHead":"8b3320d2a7c07bce4afc6b2bf6c3bbddda85b01f","_nodeVersion":"18.17.0","_npmVersion":"9.6.7","_npmUser":{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"},{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_3.3.2_1690285817409_0.8635909020297543"},"_hasShrinkwrap":false},"4.0.0-beta.1":{"_id":"node-fetch@4.0.0-beta.1","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"4.0.0-beta.1","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.7.1","busboy":"^1.4.0","c8":"^7.7.2","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","form-data":"^4.0.0","formdata-node":"^4.2.4","mocha":"^9.1.3","p-timeout":"^5.0.0","stream-consumers":"^1.0.1","tsd":"^0.14.0","xo":"^0.39.1"},"dependencies":{"data-uri-to-buffer":"^4.0.0","fetch-blob":"^3.1.4","formdata-polyfill":"^4.0.10"},"engines":{"node":"^14.17.1 || >=16.0.0"},"main":"./src/index.js","dist":{"shasum":"aa9578870652667d38e42e93564d45ee898e26d4","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-4.0.0-beta.1.tgz"},"readme":"<div align=\"center\">\n\t<img src=\"docs/media/Banner.svg\" alt=\"Node Fetch\"/>\n\t<br>\n\t<p>A light-weight module that brings <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\">Fetch API</a> to Node.js.</p>\n\t<a href=\"https://github.com/node-fetch/node-fetch/actions\"><img src=\"https://github.com/node-fetch/node-fetch/workflows/CI/badge.svg?branch=master\" alt=\"Build status\"></a>\n\t<a href=\"https://coveralls.io/github/node-fetch/node-fetch\"><img src=\"https://img.shields.io/coveralls/github/node-fetch/node-fetch\" alt=\"Coverage status\"></a>\n\t<a href=\"https://packagephobia.now.sh/result?p=node-fetch\"><img src=\"https://badgen.net/packagephobia/install/node-fetch\" alt=\"Current version\"></a>\n\t<a href=\"https://www.npmjs.com/package/node-fetch\"><img src=\"https://img.shields.io/npm/v/node-fetch\" alt=\"Install size\"></a>\n\t<a href=\"https://github.com/sindresorhus/awesome-nodejs\"><img src=\"https://awesome.re/mentioned-badge.svg\" alt=\"Mentioned in Awesome Node.js\"></a>\n\t<a href=\"https://discord.gg/Zxbndcm\"><img src=\"https://img.shields.io/discord/619915844268326952?color=%237289DA&label=Discord\" alt=\"Discord\"></a>\n\t<br>\n\t<br>\n\t<b>Consider supporting us on our Open Collective:</b>\n\t<br>\n\t<br>\n\t<a href=\"https://opencollective.com/node-fetch\"><img src=\"https://opencollective.com/node-fetch/donate/button.png?color=blue\" alt=\"Open Collective\"></a>\n</div>\n\n---\n\n**You might be looking for the [v2 docs](https://github.com/node-fetch/node-fetch/tree/2.x#readme)**\n\n<!-- TOC -->\n\n- [Motivation](#motivation)\n- [Features](#features)\n- [Difference from client-side fetch](#difference-from-client-side-fetch)\n- [Installation](#installation)\n- [Loading and configuring the module](#loading-and-configuring-the-module)\n- [Upgrading](#upgrading)\n- [Common Usage](#common-usage)\n\t- [Plain text or HTML](#plain-text-or-html)\n\t- [JSON](#json)\n\t- [Simple Post](#simple-post)\n\t- [Post with JSON](#post-with-json)\n\t- [Post with form parameters](#post-with-form-parameters)\n\t- [Handling exceptions](#handling-exceptions)\n\t- [Handling client and server errors](#handling-client-and-server-errors)\n\t- [Handling cookies](#handling-cookies)\n- [Advanced Usage](#advanced-usage)\n\t- [Streams](#streams)\n\t- [Accessing Headers and other Metadata](#accessing-headers-and-other-metadata)\n\t- [Extract Set-Cookie Header](#extract-set-cookie-header)\n\t- [Post data using a file](#post-data-using-a-file)\n\t- [Request cancellation with AbortSignal](#request-cancellation-with-abortsignal)\n- [API](#api)\n\t- [fetch(url[, options])](#fetchurl-options)\n\t- [Options](#options)\n\t\t- [Default Headers](#default-headers)\n\t\t- [Custom Agent](#custom-agent)\n\t\t- [Custom highWaterMark](#custom-highwatermark)\n\t\t- [Insecure HTTP Parser](#insecure-http-parser)\n\t- [Class: Request](#class-request)\n\t\t- [new Request(input[, options])](#new-requestinput-options)\n\t- [Class: Response](#class-response)\n\t\t- [new Response([body[, options]])](#new-responsebody-options)\n\t\t- [response.ok](#responseok)\n\t\t- [response.redirected](#responseredirected)\n\t\t- [response.type](#responsetype)\n\t- [Class: Headers](#class-headers)\n\t\t- [new Headers([init])](#new-headersinit)\n\t- [Interface: Body](#interface-body)\n\t\t- [body.body](#bodybody)\n\t\t- [body.bodyUsed](#bodybodyused)\n\t\t- [body.arrayBuffer()](#bodyarraybuffer)\n\t\t- [body.blob()](#bodyblob)\n\t\t- [body.formData()](#formdata)\n\t\t- [body.json()](#bodyjson)\n\t\t- [body.text()](#bodytext)\n\t- [Class: FetchError](#class-fetcherror)\n\t- [Class: AbortError](#class-aborterror)\n- [TypeScript](#typescript)\n- [Acknowledgement](#acknowledgement)\n- [Team](#team)\n\t\t\t\t- [Former](#former)\n- [License](#license)\n\n<!-- /TOC -->\n\n## Motivation\n\nInstead of implementing `XMLHttpRequest` in Node.js to run browser-specific [Fetch polyfill](https://github.com/github/fetch), why not go from native `http` to `fetch` API directly? Hence, `node-fetch`, minimal code for a `window.fetch` compatible API on Node.js runtime.\n\nSee Jason Miller's [isomorphic-unfetch](https://www.npmjs.com/package/isomorphic-unfetch) or Leonardo Quixada's [cross-fetch](https://github.com/lquixada/cross-fetch) for isomorphic usage (exports `node-fetch` for server-side, `whatwg-fetch` for client-side).\n\n## Features\n\n- Stay consistent with `window.fetch` API.\n- Make conscious trade-off when following [WHATWG fetch spec][whatwg-fetch] and [stream spec](https://streams.spec.whatwg.org/) implementation details, document known differences.\n- Use native promise and async functions.\n- Use web streams for body, on both request and response.\n- Decode content encoding (gzip/deflate/brotli) properly, and convert string output (such as `res.text()` and `res.json()`) to UTF-8 automatically.\n\n## Difference from client-side fetch\n\n- See known differences:\n\t- [As of v4.x](docs/v4-LIMITS.md)\n\t- [As of v3.x](docs/v3-LIMITS.md)\n\t- [As of v2.x](docs/v2-LIMITS.md)\n- If you happen to use a missing feature that `window.fetch` offers, feel free to open an issue.\n- Pull requests are welcomed too!\n\n## Installation\n\nCurrent beta release (`4.x`) requires at least Node.js 14.17.0.\n\n```sh\nnpm install node-fetch\n```\n\n## Loading and configuring the module\n\n### ES Modules (ESM)\n\n```js\nimport fetch from 'node-fetch';\n```\n\n### CommonJS\n\n`node-fetch` from v3 is an ESM-only module - you are not able to import it with `require()`.\n\nIf you cannot switch to ESM, please use v2 which remains compatible with CommonJS. Critical bug fixes will continue to be published for v2.\n\n```sh\nnpm install node-fetch@2\n```\n\nAlternatively, you can use the async `import()` function from CommonJS to load `node-fetch` asynchronously:\n\n```js\n// mod.cjs\nconst fetch = (...args) => import('node-fetch').then(({default: fetch}) => fetch(...args));\n```\n\n### Providing global access\n\nTo use `fetch()` without importing it, you can patch the `global` object in node:\n\n```js\n// fetch-polyfill.js\nimport fetch, {\n  Blob,\n  blobFrom,\n  blobFromSync,\n  File,\n  fileFrom,\n  fileFromSync,\n  FormData,\n  Headers,\n  Request,\n  Response,\n} from 'node-fetch'\n\nif (!globalThis.fetch) {\n  globalThis.fetch = fetch\n  globalThis.Headers = Headers\n  globalThis.Request = Request\n  globalThis.Response = Response\n}\n\n// index.js\nimport './fetch-polyfill'\n\n// ...\n```\n\n## Upgrading\n\nUsing an old version of node-fetch? Check out the following files:\n\n- [3.x to 4.x upgrade guide](docs/v4-UPGRADE-GUIDE.md)\n- [2.x to 3.x upgrade guide](docs/v3-UPGRADE-GUIDE.md)\n- [1.x to 2.x upgrade guide](docs/v2-UPGRADE-GUIDE.md)\n- [Changelog](docs/CHANGELOG.md)\n\n## Common Usage\n\nNOTE: The documentation below is up-to-date with `3.x` releases, if you are using an older version, please check how to [upgrade](#upgrading).\n\n### Plain text or HTML\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://github.com/');\nconst body = await response.text();\n\nconsole.log(body);\n```\n\n### JSON\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://api.github.com/users/github');\nconst data = await response.json();\n\nconsole.log(data);\n```\n\n### Simple Post\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: 'a=1'});\nconst data = await response.json();\n\nconsole.log(data);\n```\n\n### Post with JSON\n\n```js\nimport fetch from 'node-fetch';\n\nconst body = {a: 1};\n\nconst response = await fetch('https://httpbin.org/post', {\n\tmethod: 'post',\n\tbody: JSON.stringify(body),\n\theaders: {'Content-Type': 'application/json'}\n});\nconst data = await response.json();\n\nconsole.log(data);\n```\n\n### Post with form parameters\n\n`URLSearchParams` is available on the global object in Node.js as of v10.0.0. See [official documentation](https://nodejs.org/api/url.html#url_class_urlsearchparams) for more usage methods.\n\nNOTE: The `Content-Type` header is only set automatically to `x-www-form-urlencoded` when an instance of `URLSearchParams` is given as such:\n\n```js\nimport fetch from 'node-fetch';\n\nconst params = new URLSearchParams();\nparams.append('a', 1);\n\nconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: params});\nconst data = await response.json();\n\nconsole.log(data);\n```\n\n### Handling exceptions\n\nNOTE: 3xx-5xx responses are _NOT_ exceptions, and should be handled in `then()`, see the next section.\n\nWrapping the fetch function into a `try/catch` block will catch _all_ exceptions, such as errors originating from node core libraries, like network errors, and operational errors which are instances of FetchError. See the [error handling document][error-handling.md] for more details.\n\n```js\nimport fetch from 'node-fetch';\n\ntry {\n\tawait fetch('https://domain.invalid/');\n} catch (error) {\n\tconsole.log(error);\n}\n```\n\n### Handling client and server errors\n\nIt is common to create a helper function to check that the response contains no client (4xx) or server (5xx) error responses:\n\n```js\nimport fetch from 'node-fetch';\n\nclass HTTPResponseError extends Error {\n\tconstructor(response, ...args) {\n\t\tsuper(`HTTP Error Response: ${response.status} ${response.statusText}`, ...args);\n\t\tthis.response = response;\n\t}\n}\n\nconst checkStatus = response => {\n\tif (response.ok) {\n\t\t// response.status >= 200 && response.status < 300\n\t\treturn response;\n\t} else {\n\t\tthrow new HTTPResponseError(response);\n\t}\n}\n\nconst response = await fetch('https://httpbin.org/status/400');\n\ntry {\n\tcheckStatus(response);\n} catch (error) {\n\tconsole.error(error);\n\n\tconst errorBody = await error.response.text();\n\tconsole.error(`Error body: ${errorBody}`);\n}\n```\n\n### Handling cookies\n\nCookies are not stored by default. However, cookies can be extracted and passed by manipulating request and response headers. See [Extract Set-Cookie Header](#extract-set-cookie-header) for details.\n\n## Advanced Usage\n\n### Streams\n\nThe \"Node.js way\" is to use streams when possible. You can pipe `res.body` to another stream. This example uses [stream.pipeline](https://nodejs.org/api/stream.html#stream_stream_pipeline_streams_callback) to attach stream error handlers and wait for the download to complete.\n\n```js\nimport {createWriteStream} from 'node:fs';\nimport {pipeline} from 'node:stream';\nimport {promisify} from 'node:util'\nimport fetch from 'node-fetch';\n\nconst streamPipeline = promisify(pipeline);\n\nconst response = await fetch('https://github.githubassets.com/images/modules/logos_page/Octocat.png');\n\nif (!response.ok) throw new Error(`unexpected response ${response.statusText}`);\n\nawait streamPipeline(response.body, createWriteStream('./octocat.png'));\n```\n\nIn Node.js 14 you can also use async iterators to read `body`; however, be careful to catch\nerrors -- the longer a response runs, the more likely it is to encounter an error.\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://httpbin.org/stream/3');\n\ntry {\n\tfor await (const chunk of response.body) {\n\t\tconsole.dir(JSON.parse(chunk.toString()));\n\t}\n} catch (err) {\n\tconsole.error(err.stack);\n}\n```\n\nIn Node.js 12 you can also use async iterators to read `body`; however, async iterators with streams\ndid not mature until Node.js 14, so you need to do some extra work to ensure you handle errors\ndirectly from the stream and wait on it response to fully close.\n\n```js\nimport fetch from 'node-fetch';\n\nconst read = async body => {\n\tlet error;\n\tbody.on('error', err => {\n\t\terror = err;\n\t});\n\n\tfor await (const chunk of body) {\n\t\tconsole.dir(JSON.parse(chunk.toString()));\n\t}\n\n\treturn new Promise((resolve, reject) => {\n\t\tbody.on('close', () => {\n\t\t\terror ? reject(error) : resolve();\n\t\t});\n\t});\n};\n\ntry {\n\tconst response = await fetch('https://httpbin.org/stream/3');\n\tawait read(response.body);\n} catch (err) {\n\tconsole.error(err.stack);\n}\n```\n\n### Accessing Headers and other Metadata\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://github.com/');\n\nconsole.log(response.ok);\nconsole.log(response.status);\nconsole.log(response.statusText);\nconsole.log(response.headers.raw());\nconsole.log(response.headers.get('content-type'));\n```\n\n### Extract Set-Cookie Header\n\nUnlike browsers, you can access raw `Set-Cookie` headers manually using `Headers.raw()`. This is a `node-fetch` only API.\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://example.com');\n\n// Returns an array of values, instead of a string of comma-separated values\nconsole.log(response.headers.raw()['set-cookie']);\n```\n\n### Post data using a file\n\n```js\nimport fetch {\n  Blob,\n  blobFrom,\n  blobFromSync,\n  File,\n  fileFrom,\n  fileFromSync,\n} from 'node-fetch'\n\nconst mimetype = 'text/plain'\nconst blob = fileFromSync('./input.txt', mimetype)\nconst url = 'https://httpbin.org/post'\n\nconst response = await fetch(url, { method: 'POST', body: blob })\nconst data = await response.json()\n\nconsole.log(data)\n```\n\nnode-fetch comes with a spec-compliant [FormData] implementations for posting\nmultipart/form-data payloads\n\n```js\nimport fetch {FormData, File, fileFrom} from 'node-fetch'\n\nconst httpbin = 'https://httpbin.org/post'\nconst formData = new FormData()\nconst binary = new Uint8Array([ 97, 98, 99 ])\nconst abc = new File([binary], 'abc.txt'), { type: 'text/plain' })\n\nformData.set('greeting', 'Hello, world!')\nformData.set('file-upload', abc, 'new name.txt')\n\nconst response = await fetch(httpbin, { method: 'POST', body: formData })\nconst data = await response.json()\n\nconsole.log(data)\n```\n\nIf you for some reason need to post a stream coming from any arbitrary place,\nthen you can append a [Blob] or a [File] look-a-like item.\n\nThe minium requirement is that it has:\n1. A `Symbol.toStringTag` getter or property that is either `Blob` or `File`\n2. A known size.\n3. And either a `stream()` method or a `arrayBuffer()` method that returns a ArrayBuffer.\n\nThe `stream()` must return any async iterable object as long as it yields Uint8Array (or Buffer)\nso Node.Readable streams and whatwg streams works just fine.\n\n```js\nformData.append('upload', {\n\t[Symbol.toStringTag]: 'Blob',\n\tsize: 3,\n  *stream() {\n    yield new Uint8Array([97, 98, 99])\n\t},\n\tarrayBuffer() {\n\t\treturn new Uint8Array([97, 98, 99]).buffer\n\t}\n}, 'abc.txt')\n```\n\n### Request cancellation with AbortSignal\n\nYou may cancel requests with `AbortController`. A suggested implementation is [`abort-controller`](https://www.npmjs.com/package/abort-controller).\n\nAn example of timing out a request after 150ms could be achieved as the following:\n\n```js\nimport fetch from 'node-fetch';\n\n// AbortController was added in node v14.17.0 globally\nconst AbortController = globalThis.AbortController || await import('abort-controller')\n\nconst controller = new AbortController();\nconst timeout = setTimeout(() => {\n\tcontroller.abort();\n}, 150);\n\ntry {\n\tconst response = await fetch('https://example.com', {signal: controller.signal});\n\tconst data = await response.json();\n} catch (error) {\n\tif (error instanceof fetch.AbortError) {\n\t\tconsole.log('request was aborted');\n\t}\n} finally {\n\tclearTimeout(timeout);\n}\n```\n\nSee [test cases](https://github.com/node-fetch/node-fetch/blob/master/test/) for more examples.\n\n## API\n\n### fetch(url[, options])\n\n- `url` A string representing the URL for fetching\n- `options` [Options](#fetch-options) for the HTTP(S) request\n- Returns: <code>Promise&lt;[Response](#class-response)&gt;</code>\n\nPerform an HTTP(S) fetch.\n\n`url` should be an absolute URL, such as `https://example.com/`. A path-relative URL (`/file/under/root`) or protocol-relative URL (`//can-be-http-or-https.com/`) will result in a rejected `Promise`.\n\n<a id=\"fetch-options\"></a>\n\n### Options\n\nThe default values are shown after each option key.\n\n```js\n{\n\t// These properties are part of the Fetch Standard\n\tmethod: 'GET',\n\theaders: {},            // Request headers. format is the identical to that accepted by the Headers constructor (see below)\n\tbody: null,             // Request body. can be null, or a Node.js Readable stream\n\tredirect: 'follow',     // Set to `manual` to extract redirect headers, `error` to reject redirect\n\tsignal: null,           // Pass an instance of AbortSignal to optionally abort requests\n\n\t// The following properties are node-fetch extensions\n\tfollow: 20,             // maximum redirect count. 0 to not follow redirect\n\tcompress: true,         // support gzip/deflate content encoding. false to disable\n\tsize: 0,                // maximum response body size in bytes. 0 to disable\n\tagent: null,            // http(s).Agent instance or function that returns an instance (see below)\n\thighWaterMark: 16384,   // the maximum number of bytes to store in the internal buffer before ceasing to read from the underlying resource.\n\tinsecureHTTPParser: false\t// Use an insecure HTTP parser that accepts invalid HTTP headers when `true`.\n}\n```\n\n#### Default Headers\n\nIf no values are set, the following request headers will be sent automatically:\n\n| Header              | Value                                                  |\n| ------------------- | ------------------------------------------------------ |\n| `Accept-Encoding`   | `gzip,deflate,br` _(when `options.compress === true`)_ |\n| `Accept`            | `*/*`                                                  |\n| `Connection`        | `close` _(when no `options.agent` is present)_         |\n| `Content-Length`    | _(automatically calculated, if possible)_              |\n| `Host`              | _(host and port information from the target URI)_      |\n| `Transfer-Encoding` | `chunked` _(when `req.body` is a stream)_              |\n| `User-Agent`        | `node-fetch`                                           |\n\n\nNote: when `body` is a `Stream`, `Content-Length` is not set automatically.\n\n#### Custom Agent\n\nThe `agent` option allows you to specify networking related options which are out of the scope of Fetch, including and not limited to the following:\n\n- Support self-signed certificate\n- Use only IPv4 or IPv6\n- Custom DNS Lookup\n\nSee [`http.Agent`](https://nodejs.org/api/http.html#http_new_agent_options) for more information.\n\nIn addition, the `agent` option accepts a function that returns `http`(s)`.Agent` instance given current [URL](https://nodejs.org/api/url.html), this is useful during a redirection chain across HTTP and HTTPS protocol.\n\n```js\nimport http from 'node:http';\nimport https from 'node:https';\n\nconst httpAgent = new http.Agent({\n\tkeepAlive: true\n});\nconst httpsAgent = new https.Agent({\n\tkeepAlive: true\n});\n\nconst options = {\n\tagent: function(_parsedURL) {\n\t\tif (_parsedURL.protocol == 'http:') {\n\t\t\treturn httpAgent;\n\t\t} else {\n\t\t\treturn httpsAgent;\n\t\t}\n\t}\n};\n```\n\n<a id=\"custom-highWaterMark\"></a>\n\n#### Custom highWaterMark\n\nStream on Node.js have a smaller internal buffer size (16kB, aka `highWaterMark`) from client-side browsers (>1MB, not consistent across browsers). Because of that, when you are writing an isomorphic app and using `res.clone()`, it will hang with large response in Node.\n\nThe recommended way to fix this problem is to resolve cloned response in parallel:\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://example.com');\nconst r1 = await response.clone();\n\nconst results = await Promise.all([response.json(), r1.text()]);\n\nconsole.log(results[0]);\nconsole.log(results[1]);\n```\n\nIf for some reason you don't like the solution above, since `3.x` you are able to modify the `highWaterMark` option:\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://example.com', {\n\t// About 1MB\n\thighWaterMark: 1024 * 1024\n});\n\nconst result = await res.clone().arrayBuffer();\nconsole.dir(result);\n```\n\n#### Insecure HTTP Parser\n\nPassed through to the `insecureHTTPParser` option on http(s).request. See [`http.request`](https://nodejs.org/api/http.html#http_http_request_url_options_callback) for more information.\n\n#### Manual Redirect\n\nThe `redirect: 'manual'` option for node-fetch is different from the browser & specification, which\nresults in an [opaque-redirect filtered response](https://fetch.spec.whatwg.org/#concept-filtered-response-opaque-redirect).\nnode-fetch gives you the typical [basic filtered response](https://fetch.spec.whatwg.org/#concept-filtered-response-basic) instead.\n\n```js\nconst fetch = require('node-fetch');\n\nconst response = await fetch('https://httpbin.org/status/301', { redirect: 'manual' });\n\nif (response.status === 301 || response.status === 302) {\n\tconst locationURL = new URL(response.headers.get('location'), response.url);\n\tconst response2 = await fetch(locationURL, { redirect: 'manual' });\n\tconsole.dir(response2);\n}\n```\n\n<a id=\"class-request\"></a>\n\n### Class: Request\n\nAn HTTP(S) request containing information about URL, method, headers, and the body. This class implements the [Body](#iface-body) interface.\n\nDue to the nature of Node.js, the following properties are not implemented at this moment:\n\n- `type`\n- `destination`\n- `mode`\n- `credentials`\n- `cache`\n- `integrity`\n- `keepalive`\n\nThe following node-fetch extension properties are provided:\n\n- `follow`\n- `compress`\n- `counter`\n- `agent`\n- `highWaterMark`\n\nSee [options](#fetch-options) for exact meaning of these extensions.\n\n#### new Request(input[, options])\n\n<small>_(spec-compliant)_</small>\n\n- `input` A string representing a URL, or another `Request` (which will be cloned)\n- `options` [Options][#fetch-options] for the HTTP(S) request\n\nConstructs a new `Request` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Request/Request).\n\nIn most cases, directly `fetch(url, options)` is simpler than creating a `Request` object.\n\n<a id=\"class-response\"></a>\n\n### Class: Response\n\nAn HTTP(S) response. This class implements the [Body](#iface-body) interface.\n\nThe following properties are not implemented in node-fetch at this moment:\n\n- `trailer`\n\n#### new Response([body[, options]])\n\n<small>_(spec-compliant)_</small>\n\n- `body` A `String` or [`Readable` stream][node-readable]\n- `options` A [`ResponseInit`][response-init] options dictionary\n\nConstructs a new `Response` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Response/Response).\n\nBecause Node.js does not implement service workers (for which this class was designed), one rarely has to construct a `Response` directly.\n\n#### response.ok\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request ended normally. Will evaluate to true if the response status was greater than or equal to 200 but smaller than 300.\n\n#### response.redirected\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request has been redirected at least once. Will evaluate to true if the internal redirect counter is greater than 0.\n\n#### response.type\n\n<small>_(deviation from spec)_</small>\n\nConvenience property representing the response's type. node-fetch only supports `'default'` and `'error'` and does not make use of [filtered responses](https://fetch.spec.whatwg.org/#concept-filtered-response).\n\n<a id=\"class-headers\"></a>\n\n### Class: Headers\n\nThis class allows manipulating and iterating over a set of HTTP headers. All methods specified in the [Fetch Standard][whatwg-fetch] are implemented.\n\n#### new Headers([init])\n\n<small>_(spec-compliant)_</small>\n\n- `init` Optional argument to pre-fill the `Headers` object\n\nConstruct a new `Headers` object. `init` can be either `null`, a `Headers` object, an key-value map object or any iterable object.\n\n```js\n// Example adapted from https://fetch.spec.whatwg.org/#example-headers-class\nimport {Headers} from 'node-fetch';\n\nconst meta = {\n\t'Content-Type': 'text/xml'\n};\nconst headers = new Headers(meta);\n\n// The above is equivalent to\nconst meta = [['Content-Type', 'text/xml']];\nconst headers = new Headers(meta);\n\n// You can in fact use any iterable objects, like a Map or even another Headers\nconst meta = new Map();\nmeta.set('Content-Type', 'text/xml');\nconst headers = new Headers(meta);\nconst copyOfHeaders = new Headers(headers);\n```\n\n<a id=\"iface-body\"></a>\n\n### Interface: Body\n\n`Body` is an abstract interface with methods that are applicable to both `Request` and `Response` classes.\n\n#### body.body\n\n<small>_(deviation from spec)_</small>\n\n- Node.js [`Readable` stream][node-readable]\n\nData are encapsulated in the `Body` object. Note that while the [Fetch Standard][whatwg-fetch] requires the property to always be a WHATWG `ReadableStream`, in node-fetch it is a Node.js [`Readable` stream][node-readable].\n\n#### body.bodyUsed\n\n<small>_(spec-compliant)_</small>\n\n- `Boolean`\n\nA boolean property for if this body has been consumed. Per the specs, a consumed body cannot be used again.\n\n#### body.arrayBuffer()\n\n#### body.formData()\n\n#### body.blob()\n\n#### body.json()\n\n#### body.text()\n\n`fetch` comes with methods to parse `multipart/form-data` payloads as well as\n`x-www-form-urlencoded` bodies using `.formData()` this comes from the idea that\nService Worker can intercept such messages before it's sent to the server to\nalter them. This is useful for anybody building a server so you can use it to\nparse & consume payloads.\n\n<details>\n<summary>Code example</summary>\n\n```js\nimport http from 'node:http'\nimport { Response } from 'node-fetch'\n\nhttp.createServer(async function (req, res) {\n  const formData = await new Response(req, {\n    headers: req.headers // Pass along the boundary value\n  }).formData()\n  const allFields = [...formData]\n\n  const file = formData.get('uploaded-files')\n  const arrayBuffer = await file.arrayBuffer()\n  const text = await file.text()\n  const whatwgReadableStream = file.stream()\n\n  // other was to consume the request could be to do:\n  const json = await new Response(req).json()\n  const text = await new Response(req).text()\n  const arrayBuffer = await new Response(req).arrayBuffer()\n  const blob = await new Response(req, {\n    headers: req.headers // So that `type` inherits `Content-Type`\n  }.blob()\n})\n```\n\n</details>\n\n<a id=\"class-fetcherror\"></a>\n\n### Class: FetchError\n\n<small>_(node-fetch extension)_</small>\n\nAn operational error in the fetching process. See [ERROR-HANDLING.md][] for more info.\n\n<a id=\"class-aborterror\"></a>\n\n### Class: AbortError\n\n<small>_(node-fetch extension)_</small>\n\nAn Error thrown when the request is aborted in response to an `AbortSignal`'s `abort` event. It has a `name` property of `AbortError`. See [ERROR-HANDLING.MD][] for more info.\n\n## TypeScript\n\n**Since `3.x` types are bundled with `node-fetch`, so you don't need to install any additional packages.**\n\nFor older versions please use the type definitions from [DefinitelyTyped](https://github.com/DefinitelyTyped/DefinitelyTyped):\n\n```sh\nnpm install --save-dev @types/node-fetch@2.x\n```\n\n## Acknowledgement\n\nThanks to [github/fetch](https://github.com/github/fetch) for providing a solid implementation reference.\n\n## Team\n\n| [![David Frank](https://github.com/bitinn.png?size=100)](https://github.com/bitinn) | [![Jimmy Wärting](https://github.com/jimmywarting.png?size=100)](https://github.com/jimmywarting) | [![Antoni Kepinski](https://github.com/xxczaki.png?size=100)](https://github.com/xxczaki) | [![Richie Bendall](https://github.com/Richienb.png?size=100)](https://github.com/Richienb) | [![Gregor Martynus](https://github.com/gr2m.png?size=100)](https://github.com/gr2m) |\n| ----------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------- |\n| [David Frank](https://bitinn.net/)                                                  | [Jimmy Wärting](https://jimmy.warting.se/)                                                        | [Antoni Kepinski](https://kepinski.ch)                                                    | [Richie Bendall](https://www.richie-bendall.ml/)                                           | [Gregor Martynus](https://twitter.com/gr2m)                                         |\n\n###### Former\n\n- [Timothy Gu](https://github.com/timothygu)\n- [Jared Kantrowitz](https://github.com/jkantr)\n\n## License\n\n[MIT](LICENSE.md)\n\n[whatwg-fetch]: https://fetch.spec.whatwg.org/\n[response-init]: https://fetch.spec.whatwg.org/#responseinit\n[node-readable]: https://nodejs.org/api/stream.html#stream_readable_streams\n[mdn-headers]: https://developer.mozilla.org/en-US/docs/Web/API/Headers\n[error-handling.md]: https://github.com/node-fetch/node-fetch/blob/master/docs/ERROR-HANDLING.md\n[FormData]: https://developer.mozilla.org/en-US/docs/Web/API/FormData\n[Blob]: https://developer.mozilla.org/en-US/docs/Web/API/Blob\n[File]: https://developer.mozilla.org/en-US/docs/Web/API/File\n","sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"esModuleInterop":true}},"xo":{"envs":["node","browser"],"ignores":["example.js"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"import/no-named-as-default":0,"unicorn/import-index":0,"unicorn/no-array-reduce":0,"unicorn/prefer-node-protocol":0,"unicorn/numeric-separators-style":0,"unicorn/explicit-length-check":0,"capitalized-comments":0,"node/no-unsupported-features/es-syntax":0,"@typescript-eslint/member-ordering":0},"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"no-warning-comments":0,"new-cap":0,"guard-for-in":0,"unicorn/no-array-for-each":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}}]},"runkitExampleFilename":"example.js","release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]},"readmeFilename":"README.md","gitHead":"8c1fe4141604793be82120520afc677c1454ed1b","_nodeVersion":"16.13.2","_npmVersion":"8.1.2","_npmUser":{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"},{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_4.0.0-beta.1_1643243270114_0.23131160202884615"},"_hasShrinkwrap":false},"4.0.0-beta.2":{"_id":"node-fetch@4.0.0-beta.2","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"4.0.0-beta.2","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.7.1","busboy":"^1.4.0","c8":"^7.7.2","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","form-data":"^4.0.0","formdata-node":"^4.2.4","mocha":"^9.1.3","p-timeout":"^5.0.0","stream-consumers":"^1.0.1","tsd":"^0.14.0","xo":"^0.39.1"},"dependencies":{"data-uri-to-buffer":"^4.0.0","fetch-blob":"^3.1.4","formdata-polyfill":"^4.0.10"},"engines":{"node":"^14.17.1 || >=16.0.0"},"main":"./src/index.js","dist":{"shasum":"b00dac03861ad9948fc4c6bea9fbd3527cb5ab6d","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-4.0.0-beta.2.tgz"},"readme":"<div align=\"center\">\n\t<img src=\"docs/media/Banner.svg\" alt=\"Node Fetch\"/>\n\t<br>\n\t<p>A light-weight module that brings <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\">Fetch API</a> to Node.js.</p>\n\t<a href=\"https://github.com/node-fetch/node-fetch/actions\"><img src=\"https://github.com/node-fetch/node-fetch/workflows/CI/badge.svg?branch=master\" alt=\"Build status\"></a>\n\t<a href=\"https://coveralls.io/github/node-fetch/node-fetch\"><img src=\"https://img.shields.io/coveralls/github/node-fetch/node-fetch\" alt=\"Coverage status\"></a>\n\t<a href=\"https://packagephobia.now.sh/result?p=node-fetch\"><img src=\"https://badgen.net/packagephobia/install/node-fetch\" alt=\"Current version\"></a>\n\t<a href=\"https://www.npmjs.com/package/node-fetch\"><img src=\"https://img.shields.io/npm/v/node-fetch\" alt=\"Install size\"></a>\n\t<a href=\"https://github.com/sindresorhus/awesome-nodejs\"><img src=\"https://awesome.re/mentioned-badge.svg\" alt=\"Mentioned in Awesome Node.js\"></a>\n\t<a href=\"https://discord.gg/Zxbndcm\"><img src=\"https://img.shields.io/discord/619915844268326952?color=%237289DA&label=Discord\" alt=\"Discord\"></a>\n\t<br>\n\t<br>\n\t<b>Consider supporting us on our Open Collective:</b>\n\t<br>\n\t<br>\n\t<a href=\"https://opencollective.com/node-fetch\"><img src=\"https://opencollective.com/node-fetch/donate/button.png?color=blue\" alt=\"Open Collective\"></a>\n</div>\n\n---\n\n**You might be looking for the [v2 docs](https://github.com/node-fetch/node-fetch/tree/2.x#readme)**\n\n<!-- TOC -->\n\n- [Motivation](#motivation)\n- [Features](#features)\n- [Difference from client-side fetch](#difference-from-client-side-fetch)\n- [Installation](#installation)\n- [Loading and configuring the module](#loading-and-configuring-the-module)\n- [Upgrading](#upgrading)\n- [Common Usage](#common-usage)\n\t- [Plain text or HTML](#plain-text-or-html)\n\t- [JSON](#json)\n\t- [Simple Post](#simple-post)\n\t- [Post with JSON](#post-with-json)\n\t- [Post with form parameters](#post-with-form-parameters)\n\t- [Handling exceptions](#handling-exceptions)\n\t- [Handling client and server errors](#handling-client-and-server-errors)\n\t- [Handling cookies](#handling-cookies)\n- [Advanced Usage](#advanced-usage)\n\t- [Streams](#streams)\n\t- [Accessing Headers and other Metadata](#accessing-headers-and-other-metadata)\n\t- [Extract Set-Cookie Header](#extract-set-cookie-header)\n\t- [Post data using a file](#post-data-using-a-file)\n\t- [Request cancellation with AbortSignal](#request-cancellation-with-abortsignal)\n- [API](#api)\n\t- [fetch(url[, options])](#fetchurl-options)\n\t- [Options](#options)\n\t\t- [Default Headers](#default-headers)\n\t\t- [Custom Agent](#custom-agent)\n\t\t- [Custom highWaterMark](#custom-highwatermark)\n\t\t- [Insecure HTTP Parser](#insecure-http-parser)\n\t- [Class: Request](#class-request)\n\t\t- [new Request(input[, options])](#new-requestinput-options)\n\t- [Class: Response](#class-response)\n\t\t- [new Response([body[, options]])](#new-responsebody-options)\n\t\t- [response.ok](#responseok)\n\t\t- [response.redirected](#responseredirected)\n\t\t- [response.type](#responsetype)\n\t- [Class: Headers](#class-headers)\n\t\t- [new Headers([init])](#new-headersinit)\n\t- [Interface: Body](#interface-body)\n\t\t- [body.body](#bodybody)\n\t\t- [body.bodyUsed](#bodybodyused)\n\t\t- [body.arrayBuffer()](#bodyarraybuffer)\n\t\t- [body.blob()](#bodyblob)\n\t\t- [body.formData()](#formdata)\n\t\t- [body.json()](#bodyjson)\n\t\t- [body.text()](#bodytext)\n\t- [Class: FetchError](#class-fetcherror)\n\t- [Class: AbortError](#class-aborterror)\n- [TypeScript](#typescript)\n- [Acknowledgement](#acknowledgement)\n- [Team](#team)\n\t\t\t\t- [Former](#former)\n- [License](#license)\n\n<!-- /TOC -->\n\n## Motivation\n\nInstead of implementing `XMLHttpRequest` in Node.js to run browser-specific [Fetch polyfill](https://github.com/github/fetch), why not go from native `http` to `fetch` API directly? Hence, `node-fetch`, minimal code for a `window.fetch` compatible API on Node.js runtime.\n\nSee Jason Miller's [isomorphic-unfetch](https://www.npmjs.com/package/isomorphic-unfetch) or Leonardo Quixada's [cross-fetch](https://github.com/lquixada/cross-fetch) for isomorphic usage (exports `node-fetch` for server-side, `whatwg-fetch` for client-side).\n\n## Features\n\n- Stay consistent with `window.fetch` API.\n- Make conscious trade-off when following [WHATWG fetch spec][whatwg-fetch] and [stream spec](https://streams.spec.whatwg.org/) implementation details, document known differences.\n- Use native promise and async functions.\n- Use web streams for body, on both request and response.\n- Decode content encoding (gzip/deflate/brotli) properly, and convert string output (such as `res.text()` and `res.json()`) to UTF-8 automatically.\n\n## Difference from client-side fetch\n\n- See known differences:\n\t- [As of v4.x](docs/v4-LIMITS.md)\n\t- [As of v3.x](docs/v3-LIMITS.md)\n\t- [As of v2.x](docs/v2-LIMITS.md)\n- If you happen to use a missing feature that `window.fetch` offers, feel free to open an issue.\n- Pull requests are welcomed too!\n\n## Installation\n\nCurrent beta release (`4.x`) requires at least Node.js 14.17.0.\n\n```sh\nnpm install node-fetch\n```\n\n## Loading and configuring the module\n\n### ES Modules (ESM)\n\n```js\nimport fetch from 'node-fetch';\n```\n\n### CommonJS\n\n`node-fetch` from v3 is an ESM-only module - you are not able to import it with `require()`.\n\nIf you cannot switch to ESM, please use v2 which remains compatible with CommonJS. Critical bug fixes will continue to be published for v2.\n\n```sh\nnpm install node-fetch@2\n```\n\nAlternatively, you can use the async `import()` function from CommonJS to load `node-fetch` asynchronously:\n\n```js\n// mod.cjs\nconst fetch = (...args) => import('node-fetch').then(({default: fetch}) => fetch(...args));\n```\n\n### Providing global access\n\nTo use `fetch()` without importing it, you can patch the `global` object in node:\n\n```js\n// fetch-polyfill.js\nimport fetch, {\n  Blob,\n  blobFrom,\n  blobFromSync,\n  File,\n  fileFrom,\n  fileFromSync,\n  FormData,\n  Headers,\n  Request,\n  Response,\n} from 'node-fetch'\n\nif (!globalThis.fetch) {\n  globalThis.fetch = fetch\n  globalThis.Headers = Headers\n  globalThis.Request = Request\n  globalThis.Response = Response\n}\n\n// index.js\nimport './fetch-polyfill'\n\n// ...\n```\n\n## Upgrading\n\nUsing an old version of node-fetch? Check out the following files:\n\n- [3.x to 4.x upgrade guide](docs/v4-UPGRADE-GUIDE.md)\n- [2.x to 3.x upgrade guide](docs/v3-UPGRADE-GUIDE.md)\n- [1.x to 2.x upgrade guide](docs/v2-UPGRADE-GUIDE.md)\n- [Changelog](docs/CHANGELOG.md)\n\n## Common Usage\n\nNOTE: The documentation below is up-to-date with `3.x` releases, if you are using an older version, please check how to [upgrade](#upgrading).\n\n### Plain text or HTML\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://github.com/');\nconst body = await response.text();\n\nconsole.log(body);\n```\n\n### JSON\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://api.github.com/users/github');\nconst data = await response.json();\n\nconsole.log(data);\n```\n\n### Simple Post\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: 'a=1'});\nconst data = await response.json();\n\nconsole.log(data);\n```\n\n### Post with JSON\n\n```js\nimport fetch from 'node-fetch';\n\nconst body = {a: 1};\n\nconst response = await fetch('https://httpbin.org/post', {\n\tmethod: 'post',\n\tbody: JSON.stringify(body),\n\theaders: {'Content-Type': 'application/json'}\n});\nconst data = await response.json();\n\nconsole.log(data);\n```\n\n### Post with form parameters\n\n`URLSearchParams` is available on the global object in Node.js as of v10.0.0. See [official documentation](https://nodejs.org/api/url.html#url_class_urlsearchparams) for more usage methods.\n\nNOTE: The `Content-Type` header is only set automatically to `x-www-form-urlencoded` when an instance of `URLSearchParams` is given as such:\n\n```js\nimport fetch from 'node-fetch';\n\nconst params = new URLSearchParams();\nparams.append('a', 1);\n\nconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: params});\nconst data = await response.json();\n\nconsole.log(data);\n```\n\n### Handling exceptions\n\nNOTE: 3xx-5xx responses are _NOT_ exceptions, and should be handled in `then()`, see the next section.\n\nWrapping the fetch function into a `try/catch` block will catch _all_ exceptions, such as errors originating from node core libraries, like network errors, and operational errors which are instances of FetchError. See the [error handling document][error-handling.md] for more details.\n\n```js\nimport fetch from 'node-fetch';\n\ntry {\n\tawait fetch('https://domain.invalid/');\n} catch (error) {\n\tconsole.log(error);\n}\n```\n\n### Handling client and server errors\n\nIt is common to create a helper function to check that the response contains no client (4xx) or server (5xx) error responses:\n\n```js\nimport fetch from 'node-fetch';\n\nclass HTTPResponseError extends Error {\n\tconstructor(response, ...args) {\n\t\tsuper(`HTTP Error Response: ${response.status} ${response.statusText}`, ...args);\n\t\tthis.response = response;\n\t}\n}\n\nconst checkStatus = response => {\n\tif (response.ok) {\n\t\t// response.status >= 200 && response.status < 300\n\t\treturn response;\n\t} else {\n\t\tthrow new HTTPResponseError(response);\n\t}\n}\n\nconst response = await fetch('https://httpbin.org/status/400');\n\ntry {\n\tcheckStatus(response);\n} catch (error) {\n\tconsole.error(error);\n\n\tconst errorBody = await error.response.text();\n\tconsole.error(`Error body: ${errorBody}`);\n}\n```\n\n### Handling cookies\n\nCookies are not stored by default. However, cookies can be extracted and passed by manipulating request and response headers. See [Extract Set-Cookie Header](#extract-set-cookie-header) for details.\n\n## Advanced Usage\n\n### Streams\n\nThe \"Node.js way\" is to use streams when possible. You can pipe `res.body` to another stream. This example uses [stream.pipeline](https://nodejs.org/api/stream.html#stream_stream_pipeline_streams_callback) to attach stream error handlers and wait for the download to complete.\n\n```js\nimport {createWriteStream} from 'node:fs';\nimport {pipeline} from 'node:stream';\nimport {promisify} from 'node:util'\nimport fetch from 'node-fetch';\n\nconst streamPipeline = promisify(pipeline);\n\nconst response = await fetch('https://github.githubassets.com/images/modules/logos_page/Octocat.png');\n\nif (!response.ok) throw new Error(`unexpected response ${response.statusText}`);\n\nawait streamPipeline(response.body, createWriteStream('./octocat.png'));\n```\n\nIn Node.js 14 you can also use async iterators to read `body`; however, be careful to catch\nerrors -- the longer a response runs, the more likely it is to encounter an error.\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://httpbin.org/stream/3');\n\ntry {\n\tfor await (const chunk of response.body) {\n\t\tconsole.dir(JSON.parse(chunk.toString()));\n\t}\n} catch (err) {\n\tconsole.error(err.stack);\n}\n```\n\nIn Node.js 12 you can also use async iterators to read `body`; however, async iterators with streams\ndid not mature until Node.js 14, so you need to do some extra work to ensure you handle errors\ndirectly from the stream and wait on it response to fully close.\n\n```js\nimport fetch from 'node-fetch';\n\nconst read = async body => {\n\tlet error;\n\tbody.on('error', err => {\n\t\terror = err;\n\t});\n\n\tfor await (const chunk of body) {\n\t\tconsole.dir(JSON.parse(chunk.toString()));\n\t}\n\n\treturn new Promise((resolve, reject) => {\n\t\tbody.on('close', () => {\n\t\t\terror ? reject(error) : resolve();\n\t\t});\n\t});\n};\n\ntry {\n\tconst response = await fetch('https://httpbin.org/stream/3');\n\tawait read(response.body);\n} catch (err) {\n\tconsole.error(err.stack);\n}\n```\n\n### Accessing Headers and other Metadata\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://github.com/');\n\nconsole.log(response.ok);\nconsole.log(response.status);\nconsole.log(response.statusText);\nconsole.log(response.headers.raw());\nconsole.log(response.headers.get('content-type'));\n```\n\n### Extract Set-Cookie Header\n\nUnlike browsers, you can access raw `Set-Cookie` headers manually using `Headers.raw()`. This is a `node-fetch` only API.\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://example.com');\n\n// Returns an array of values, instead of a string of comma-separated values\nconsole.log(response.headers.raw()['set-cookie']);\n```\n\n### Post data using a file\n\n```js\nimport fetch {\n  Blob,\n  blobFrom,\n  blobFromSync,\n  File,\n  fileFrom,\n  fileFromSync,\n} from 'node-fetch'\n\nconst mimetype = 'text/plain'\nconst blob = fileFromSync('./input.txt', mimetype)\nconst url = 'https://httpbin.org/post'\n\nconst response = await fetch(url, { method: 'POST', body: blob })\nconst data = await response.json()\n\nconsole.log(data)\n```\n\nnode-fetch comes with a spec-compliant [FormData] implementations for posting\nmultipart/form-data payloads\n\n```js\nimport fetch {FormData, File, fileFrom} from 'node-fetch'\n\nconst httpbin = 'https://httpbin.org/post'\nconst formData = new FormData()\nconst binary = new Uint8Array([ 97, 98, 99 ])\nconst abc = new File([binary], 'abc.txt'), { type: 'text/plain' })\n\nformData.set('greeting', 'Hello, world!')\nformData.set('file-upload', abc, 'new name.txt')\n\nconst response = await fetch(httpbin, { method: 'POST', body: formData })\nconst data = await response.json()\n\nconsole.log(data)\n```\n\nIf you for some reason need to post a stream coming from any arbitrary place,\nthen you can append a [Blob] or a [File] look-a-like item.\n\nThe minium requirement is that it has:\n1. A `Symbol.toStringTag` getter or property that is either `Blob` or `File`\n2. A known size.\n3. And either a `stream()` method or a `arrayBuffer()` method that returns a ArrayBuffer.\n\nThe `stream()` must return any async iterable object as long as it yields Uint8Array (or Buffer)\nso Node.Readable streams and whatwg streams works just fine.\n\n```js\nformData.append('upload', {\n\t[Symbol.toStringTag]: 'Blob',\n\tsize: 3,\n  *stream() {\n    yield new Uint8Array([97, 98, 99])\n\t},\n\tarrayBuffer() {\n\t\treturn new Uint8Array([97, 98, 99]).buffer\n\t}\n}, 'abc.txt')\n```\n\n### Request cancellation with AbortSignal\n\nYou may cancel requests with `AbortController`. A suggested implementation is [`abort-controller`](https://www.npmjs.com/package/abort-controller).\n\nAn example of timing out a request after 150ms could be achieved as the following:\n\n```js\nimport fetch from 'node-fetch';\n\n// AbortController was added in node v14.17.0 globally\nconst AbortController = globalThis.AbortController || await import('abort-controller')\n\nconst controller = new AbortController();\nconst timeout = setTimeout(() => {\n\tcontroller.abort();\n}, 150);\n\ntry {\n\tconst response = await fetch('https://example.com', {signal: controller.signal});\n\tconst data = await response.json();\n} catch (error) {\n\tif (error instanceof fetch.AbortError) {\n\t\tconsole.log('request was aborted');\n\t}\n} finally {\n\tclearTimeout(timeout);\n}\n```\n\nSee [test cases](https://github.com/node-fetch/node-fetch/blob/master/test/) for more examples.\n\n## API\n\n### fetch(url[, options])\n\n- `url` A string representing the URL for fetching\n- `options` [Options](#fetch-options) for the HTTP(S) request\n- Returns: <code>Promise&lt;[Response](#class-response)&gt;</code>\n\nPerform an HTTP(S) fetch.\n\n`url` should be an absolute URL, such as `https://example.com/`. A path-relative URL (`/file/under/root`) or protocol-relative URL (`//can-be-http-or-https.com/`) will result in a rejected `Promise`.\n\n<a id=\"fetch-options\"></a>\n\n### Options\n\nThe default values are shown after each option key.\n\n```js\n{\n\t// These properties are part of the Fetch Standard\n\tmethod: 'GET',\n\theaders: {},            // Request headers. format is the identical to that accepted by the Headers constructor (see below)\n\tbody: null,             // Request body. can be null, or a Node.js Readable stream\n\tredirect: 'follow',     // Set to `manual` to extract redirect headers, `error` to reject redirect\n\tsignal: null,           // Pass an instance of AbortSignal to optionally abort requests\n\n\t// The following properties are node-fetch extensions\n\tfollow: 20,             // maximum redirect count. 0 to not follow redirect\n\tcompress: true,         // support gzip/deflate content encoding. false to disable\n\tsize: 0,                // maximum response body size in bytes. 0 to disable\n\tagent: null,            // http(s).Agent instance or function that returns an instance (see below)\n\thighWaterMark: 16384,   // the maximum number of bytes to store in the internal buffer before ceasing to read from the underlying resource.\n\tinsecureHTTPParser: false\t// Use an insecure HTTP parser that accepts invalid HTTP headers when `true`.\n}\n```\n\n#### Default Headers\n\nIf no values are set, the following request headers will be sent automatically:\n\n| Header              | Value                                                  |\n| ------------------- | ------------------------------------------------------ |\n| `Accept-Encoding`   | `gzip,deflate,br` _(when `options.compress === true`)_ |\n| `Accept`            | `*/*`                                                  |\n| `Connection`        | `close` _(when no `options.agent` is present)_         |\n| `Content-Length`    | _(automatically calculated, if possible)_              |\n| `Host`              | _(host and port information from the target URI)_      |\n| `Transfer-Encoding` | `chunked` _(when `req.body` is a stream)_              |\n| `User-Agent`        | `node-fetch`                                           |\n\n\nNote: when `body` is a `Stream`, `Content-Length` is not set automatically.\n\n#### Custom Agent\n\nThe `agent` option allows you to specify networking related options which are out of the scope of Fetch, including and not limited to the following:\n\n- Support self-signed certificate\n- Use only IPv4 or IPv6\n- Custom DNS Lookup\n\nSee [`http.Agent`](https://nodejs.org/api/http.html#http_new_agent_options) for more information.\n\nIn addition, the `agent` option accepts a function that returns `http`(s)`.Agent` instance given current [URL](https://nodejs.org/api/url.html), this is useful during a redirection chain across HTTP and HTTPS protocol.\n\n```js\nimport http from 'node:http';\nimport https from 'node:https';\n\nconst httpAgent = new http.Agent({\n\tkeepAlive: true\n});\nconst httpsAgent = new https.Agent({\n\tkeepAlive: true\n});\n\nconst options = {\n\tagent: function(_parsedURL) {\n\t\tif (_parsedURL.protocol == 'http:') {\n\t\t\treturn httpAgent;\n\t\t} else {\n\t\t\treturn httpsAgent;\n\t\t}\n\t}\n};\n```\n\n<a id=\"custom-highWaterMark\"></a>\n\n#### Custom highWaterMark\n\nStream on Node.js have a smaller internal buffer size (16kB, aka `highWaterMark`) from client-side browsers (>1MB, not consistent across browsers). Because of that, when you are writing an isomorphic app and using `res.clone()`, it will hang with large response in Node.\n\nThe recommended way to fix this problem is to resolve cloned response in parallel:\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://example.com');\nconst r1 = await response.clone();\n\nconst results = await Promise.all([response.json(), r1.text()]);\n\nconsole.log(results[0]);\nconsole.log(results[1]);\n```\n\nIf for some reason you don't like the solution above, since `3.x` you are able to modify the `highWaterMark` option:\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://example.com', {\n\t// About 1MB\n\thighWaterMark: 1024 * 1024\n});\n\nconst result = await res.clone().arrayBuffer();\nconsole.dir(result);\n```\n\n#### Insecure HTTP Parser\n\nPassed through to the `insecureHTTPParser` option on http(s).request. See [`http.request`](https://nodejs.org/api/http.html#http_http_request_url_options_callback) for more information.\n\n#### Manual Redirect\n\nThe `redirect: 'manual'` option for node-fetch is different from the browser & specification, which\nresults in an [opaque-redirect filtered response](https://fetch.spec.whatwg.org/#concept-filtered-response-opaque-redirect).\nnode-fetch gives you the typical [basic filtered response](https://fetch.spec.whatwg.org/#concept-filtered-response-basic) instead.\n\n```js\nconst fetch = require('node-fetch');\n\nconst response = await fetch('https://httpbin.org/status/301', { redirect: 'manual' });\n\nif (response.status === 301 || response.status === 302) {\n\tconst locationURL = new URL(response.headers.get('location'), response.url);\n\tconst response2 = await fetch(locationURL, { redirect: 'manual' });\n\tconsole.dir(response2);\n}\n```\n\n<a id=\"class-request\"></a>\n\n### Class: Request\n\nAn HTTP(S) request containing information about URL, method, headers, and the body. This class implements the [Body](#iface-body) interface.\n\nDue to the nature of Node.js, the following properties are not implemented at this moment:\n\n- `type`\n- `destination`\n- `mode`\n- `credentials`\n- `cache`\n- `integrity`\n- `keepalive`\n\nThe following node-fetch extension properties are provided:\n\n- `follow`\n- `compress`\n- `counter`\n- `agent`\n- `highWaterMark`\n\nSee [options](#fetch-options) for exact meaning of these extensions.\n\n#### new Request(input[, options])\n\n<small>_(spec-compliant)_</small>\n\n- `input` A string representing a URL, or another `Request` (which will be cloned)\n- `options` [Options][#fetch-options] for the HTTP(S) request\n\nConstructs a new `Request` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Request/Request).\n\nIn most cases, directly `fetch(url, options)` is simpler than creating a `Request` object.\n\n<a id=\"class-response\"></a>\n\n### Class: Response\n\nAn HTTP(S) response. This class implements the [Body](#iface-body) interface.\n\nThe following properties are not implemented in node-fetch at this moment:\n\n- `trailer`\n\n#### new Response([body[, options]])\n\n<small>_(spec-compliant)_</small>\n\n- `body` A `String` or [`Readable` stream][node-readable]\n- `options` A [`ResponseInit`][response-init] options dictionary\n\nConstructs a new `Response` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Response/Response).\n\nBecause Node.js does not implement service workers (for which this class was designed), one rarely has to construct a `Response` directly.\n\n#### response.ok\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request ended normally. Will evaluate to true if the response status was greater than or equal to 200 but smaller than 300.\n\n#### response.redirected\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request has been redirected at least once. Will evaluate to true if the internal redirect counter is greater than 0.\n\n#### response.type\n\n<small>_(deviation from spec)_</small>\n\nConvenience property representing the response's type. node-fetch only supports `'default'` and `'error'` and does not make use of [filtered responses](https://fetch.spec.whatwg.org/#concept-filtered-response).\n\n<a id=\"class-headers\"></a>\n\n### Class: Headers\n\nThis class allows manipulating and iterating over a set of HTTP headers. All methods specified in the [Fetch Standard][whatwg-fetch] are implemented.\n\n#### new Headers([init])\n\n<small>_(spec-compliant)_</small>\n\n- `init` Optional argument to pre-fill the `Headers` object\n\nConstruct a new `Headers` object. `init` can be either `null`, a `Headers` object, an key-value map object or any iterable object.\n\n```js\n// Example adapted from https://fetch.spec.whatwg.org/#example-headers-class\nimport {Headers} from 'node-fetch';\n\nconst meta = {\n\t'Content-Type': 'text/xml'\n};\nconst headers = new Headers(meta);\n\n// The above is equivalent to\nconst meta = [['Content-Type', 'text/xml']];\nconst headers = new Headers(meta);\n\n// You can in fact use any iterable objects, like a Map or even another Headers\nconst meta = new Map();\nmeta.set('Content-Type', 'text/xml');\nconst headers = new Headers(meta);\nconst copyOfHeaders = new Headers(headers);\n```\n\n<a id=\"iface-body\"></a>\n\n### Interface: Body\n\n`Body` is an abstract interface with methods that are applicable to both `Request` and `Response` classes.\n\n#### body.body\n\n<small>_(deviation from spec)_</small>\n\n- Node.js [`Readable` stream][node-readable]\n\nData are encapsulated in the `Body` object. Note that while the [Fetch Standard][whatwg-fetch] requires the property to always be a WHATWG `ReadableStream`, in node-fetch it is a Node.js [`Readable` stream][node-readable].\n\n#### body.bodyUsed\n\n<small>_(spec-compliant)_</small>\n\n- `Boolean`\n\nA boolean property for if this body has been consumed. Per the specs, a consumed body cannot be used again.\n\n#### body.arrayBuffer()\n\n#### body.formData()\n\n#### body.blob()\n\n#### body.json()\n\n#### body.text()\n\n`fetch` comes with methods to parse `multipart/form-data` payloads as well as\n`x-www-form-urlencoded` bodies using `.formData()` this comes from the idea that\nService Worker can intercept such messages before it's sent to the server to\nalter them. This is useful for anybody building a server so you can use it to\nparse & consume payloads.\n\n<details>\n<summary>Code example</summary>\n\n```js\nimport http from 'node:http'\nimport { Response } from 'node-fetch'\n\nhttp.createServer(async function (req, res) {\n  const formData = await new Response(req, {\n    headers: req.headers // Pass along the boundary value\n  }).formData()\n  const allFields = [...formData]\n\n  const file = formData.get('uploaded-files')\n  const arrayBuffer = await file.arrayBuffer()\n  const text = await file.text()\n  const whatwgReadableStream = file.stream()\n\n  // other was to consume the request could be to do:\n  const json = await new Response(req).json()\n  const text = await new Response(req).text()\n  const arrayBuffer = await new Response(req).arrayBuffer()\n  const blob = await new Response(req, {\n    headers: req.headers // So that `type` inherits `Content-Type`\n  }.blob()\n})\n```\n\n</details>\n\n<a id=\"class-fetcherror\"></a>\n\n### Class: FetchError\n\n<small>_(node-fetch extension)_</small>\n\nAn operational error in the fetching process. See [ERROR-HANDLING.md][] for more info.\n\n<a id=\"class-aborterror\"></a>\n\n### Class: AbortError\n\n<small>_(node-fetch extension)_</small>\n\nAn Error thrown when the request is aborted in response to an `AbortSignal`'s `abort` event. It has a `name` property of `AbortError`. See [ERROR-HANDLING.MD][] for more info.\n\n## TypeScript\n\n**Since `3.x` types are bundled with `node-fetch`, so you don't need to install any additional packages.**\n\nFor older versions please use the type definitions from [DefinitelyTyped](https://github.com/DefinitelyTyped/DefinitelyTyped):\n\n```sh\nnpm install --save-dev @types/node-fetch@2.x\n```\n\n## Acknowledgement\n\nThanks to [github/fetch](https://github.com/github/fetch) for providing a solid implementation reference.\n\n## Team\n\n| [![David Frank](https://github.com/bitinn.png?size=100)](https://github.com/bitinn) | [![Jimmy Wärting](https://github.com/jimmywarting.png?size=100)](https://github.com/jimmywarting) | [![Antoni Kepinski](https://github.com/xxczaki.png?size=100)](https://github.com/xxczaki) | [![Richie Bendall](https://github.com/Richienb.png?size=100)](https://github.com/Richienb) | [![Gregor Martynus](https://github.com/gr2m.png?size=100)](https://github.com/gr2m) |\n| ----------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------- |\n| [David Frank](https://bitinn.net/)                                                  | [Jimmy Wärting](https://jimmy.warting.se/)                                                        | [Antoni Kepinski](https://kepinski.ch)                                                    | [Richie Bendall](https://www.richie-bendall.ml/)                                           | [Gregor Martynus](https://twitter.com/gr2m)                                         |\n\n###### Former\n\n- [Timothy Gu](https://github.com/timothygu)\n- [Jared Kantrowitz](https://github.com/jkantr)\n\n## License\n\n[MIT](LICENSE.md)\n\n[whatwg-fetch]: https://fetch.spec.whatwg.org/\n[response-init]: https://fetch.spec.whatwg.org/#responseinit\n[node-readable]: https://nodejs.org/api/stream.html#stream_readable_streams\n[mdn-headers]: https://developer.mozilla.org/en-US/docs/Web/API/Headers\n[error-handling.md]: https://github.com/node-fetch/node-fetch/blob/master/docs/ERROR-HANDLING.md\n[FormData]: https://developer.mozilla.org/en-US/docs/Web/API/FormData\n[Blob]: https://developer.mozilla.org/en-US/docs/Web/API/Blob\n[File]: https://developer.mozilla.org/en-US/docs/Web/API/File\n","sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"esModuleInterop":true}},"xo":{"envs":["node","browser"],"ignores":["example.js"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"import/no-named-as-default":0,"unicorn/import-index":0,"unicorn/no-array-reduce":0,"unicorn/prefer-node-protocol":0,"unicorn/numeric-separators-style":0,"unicorn/explicit-length-check":0,"capitalized-comments":0,"node/no-unsupported-features/es-syntax":0,"@typescript-eslint/member-ordering":0},"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"no-warning-comments":0,"new-cap":0,"guard-for-in":0,"unicorn/no-array-for-each":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}}]},"runkitExampleFilename":"example.js","release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]},"readmeFilename":"README.md","gitHead":"1c775f16e50724ea6721e9f7482351341eb1b198","_nodeVersion":"16.13.2","_npmVersion":"8.1.2","_npmUser":{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"},{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_4.0.0-beta.2_1643323218614_0.1556713475747067"},"_hasShrinkwrap":false},"4.0.0-beta.3":{"_id":"node-fetch@4.0.0-beta.3","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"4.0.0-beta.3","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.7.1","busboy":"^1.4.0","c8":"^7.7.2","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","form-data":"^4.0.0","formdata-node":"^4.2.4","mocha":"^9.1.3","p-timeout":"^5.0.0","stream-consumers":"^1.0.1","tsd":"^0.14.0","xo":"^0.39.1"},"dependencies":{"data-uri-to-buffer":"^4.0.0","fetch-blob":"^3.1.4","formdata-polyfill":"^4.0.10"},"engines":{"node":"^14.17.1 || >=16.0.0"},"main":"./src/index.js","dist":{"shasum":"36920e2b17041d000f3b0c13ad9624c9f31b575d","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-4.0.0-beta.3.tgz"},"readme":"<div align=\"center\">\n\t<img src=\"docs/media/Banner.svg\" alt=\"Node Fetch\"/>\n\t<br>\n\t<p>A light-weight module that brings <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\">Fetch API</a> to Node.js.</p>\n\t<a href=\"https://github.com/node-fetch/node-fetch/actions\"><img src=\"https://github.com/node-fetch/node-fetch/workflows/CI/badge.svg?branch=master\" alt=\"Build status\"></a>\n\t<a href=\"https://coveralls.io/github/node-fetch/node-fetch\"><img src=\"https://img.shields.io/coveralls/github/node-fetch/node-fetch\" alt=\"Coverage status\"></a>\n\t<a href=\"https://packagephobia.now.sh/result?p=node-fetch\"><img src=\"https://badgen.net/packagephobia/install/node-fetch\" alt=\"Current version\"></a>\n\t<a href=\"https://www.npmjs.com/package/node-fetch\"><img src=\"https://img.shields.io/npm/v/node-fetch\" alt=\"Install size\"></a>\n\t<a href=\"https://github.com/sindresorhus/awesome-nodejs\"><img src=\"https://awesome.re/mentioned-badge.svg\" alt=\"Mentioned in Awesome Node.js\"></a>\n\t<a href=\"https://discord.gg/Zxbndcm\"><img src=\"https://img.shields.io/discord/619915844268326952?color=%237289DA&label=Discord\" alt=\"Discord\"></a>\n\t<br>\n\t<br>\n\t<b>Consider supporting us on our Open Collective:</b>\n\t<br>\n\t<br>\n\t<a href=\"https://opencollective.com/node-fetch\"><img src=\"https://opencollective.com/node-fetch/donate/button.png?color=blue\" alt=\"Open Collective\"></a>\n</div>\n\n---\n\n**You might be looking for the [v2 docs](https://github.com/node-fetch/node-fetch/tree/2.x#readme)**\n\n<!-- TOC -->\n\n- [Motivation](#motivation)\n- [Features](#features)\n- [Difference from client-side fetch](#difference-from-client-side-fetch)\n- [Installation](#installation)\n- [Loading and configuring the module](#loading-and-configuring-the-module)\n- [Upgrading](#upgrading)\n- [Common Usage](#common-usage)\n\t- [Plain text or HTML](#plain-text-or-html)\n\t- [JSON](#json)\n\t- [Simple Post](#simple-post)\n\t- [Post with JSON](#post-with-json)\n\t- [Post with form parameters](#post-with-form-parameters)\n\t- [Handling exceptions](#handling-exceptions)\n\t- [Handling client and server errors](#handling-client-and-server-errors)\n\t- [Handling cookies](#handling-cookies)\n- [Advanced Usage](#advanced-usage)\n\t- [Streams](#streams)\n\t- [Accessing Headers and other Metadata](#accessing-headers-and-other-metadata)\n\t- [Extract Set-Cookie Header](#extract-set-cookie-header)\n\t- [Post data using a file](#post-data-using-a-file)\n\t- [Request cancellation with AbortSignal](#request-cancellation-with-abortsignal)\n- [API](#api)\n\t- [fetch(url[, options])](#fetchurl-options)\n\t- [Options](#options)\n\t\t- [Default Headers](#default-headers)\n\t\t- [Custom Agent](#custom-agent)\n\t\t- [Custom highWaterMark](#custom-highwatermark)\n\t\t- [Insecure HTTP Parser](#insecure-http-parser)\n\t- [Class: Request](#class-request)\n\t\t- [new Request(input[, options])](#new-requestinput-options)\n\t- [Class: Response](#class-response)\n\t\t- [new Response([body[, options]])](#new-responsebody-options)\n\t\t- [response.ok](#responseok)\n\t\t- [response.redirected](#responseredirected)\n\t\t- [response.type](#responsetype)\n\t- [Class: Headers](#class-headers)\n\t\t- [new Headers([init])](#new-headersinit)\n\t- [Interface: Body](#interface-body)\n\t\t- [body.body](#bodybody)\n\t\t- [body.bodyUsed](#bodybodyused)\n\t\t- [body.arrayBuffer()](#bodyarraybuffer)\n\t\t- [body.blob()](#bodyblob)\n\t\t- [body.formData()](#formdata)\n\t\t- [body.json()](#bodyjson)\n\t\t- [body.text()](#bodytext)\n\t- [Class: FetchError](#class-fetcherror)\n\t- [Class: AbortError](#class-aborterror)\n- [TypeScript](#typescript)\n- [Acknowledgement](#acknowledgement)\n- [Team](#team)\n\t\t\t\t- [Former](#former)\n- [License](#license)\n\n<!-- /TOC -->\n\n## Motivation\n\nInstead of implementing `XMLHttpRequest` in Node.js to run browser-specific [Fetch polyfill](https://github.com/github/fetch), why not go from native `http` to `fetch` API directly? Hence, `node-fetch`, minimal code for a `window.fetch` compatible API on Node.js runtime.\n\nSee Jason Miller's [isomorphic-unfetch](https://www.npmjs.com/package/isomorphic-unfetch) or Leonardo Quixada's [cross-fetch](https://github.com/lquixada/cross-fetch) for isomorphic usage (exports `node-fetch` for server-side, `whatwg-fetch` for client-side).\n\n## Features\n\n- Stay consistent with `window.fetch` API.\n- Make conscious trade-off when following [WHATWG fetch spec][whatwg-fetch] and [stream spec](https://streams.spec.whatwg.org/) implementation details, document known differences.\n- Use native promise and async functions.\n- Use web streams for body, on both request and response.\n- Decode content encoding (gzip/deflate/brotli) properly, and convert string output (such as `res.text()` and `res.json()`) to UTF-8 automatically.\n\n## Difference from client-side fetch\n\n- See known differences:\n\t- [As of v4.x](docs/v4-LIMITS.md)\n\t- [As of v3.x](docs/v3-LIMITS.md)\n\t- [As of v2.x](docs/v2-LIMITS.md)\n- If you happen to use a missing feature that `window.fetch` offers, feel free to open an issue.\n- Pull requests are welcomed too!\n\n## Installation\n\nCurrent beta release (`4.x`) requires at least Node.js 14.17.0.\n\n```sh\nnpm install node-fetch\n```\n\n## Loading and configuring the module\n\n### ES Modules (ESM)\n\n```js\nimport fetch from 'node-fetch';\n```\n\n### CommonJS\n\n`node-fetch` from v3 is an ESM-only module - you are not able to import it with `require()`.\n\nIf you cannot switch to ESM, please use v2 which remains compatible with CommonJS. Critical bug fixes will continue to be published for v2.\n\n```sh\nnpm install node-fetch@2\n```\n\nAlternatively, you can use the async `import()` function from CommonJS to load `node-fetch` asynchronously:\n\n```js\n// mod.cjs\nconst fetch = (...args) => import('node-fetch').then(({default: fetch}) => fetch(...args));\n```\n\n### Providing global access\n\nTo use `fetch()` without importing it, you can patch the `global` object in node:\n\n```js\n// fetch-polyfill.js\nimport fetch, {\n  Blob,\n  blobFrom,\n  blobFromSync,\n  File,\n  fileFrom,\n  fileFromSync,\n  FormData,\n  Headers,\n  Request,\n  Response,\n} from 'node-fetch'\n\nif (!globalThis.fetch) {\n  globalThis.fetch = fetch\n  globalThis.Headers = Headers\n  globalThis.Request = Request\n  globalThis.Response = Response\n}\n\n// index.js\nimport './fetch-polyfill'\n\n// ...\n```\n\n## Upgrading\n\nUsing an old version of node-fetch? Check out the following files:\n\n- [3.x to 4.x upgrade guide](docs/v4-UPGRADE-GUIDE.md)\n- [2.x to 3.x upgrade guide](docs/v3-UPGRADE-GUIDE.md)\n- [1.x to 2.x upgrade guide](docs/v2-UPGRADE-GUIDE.md)\n- [Changelog](docs/CHANGELOG.md)\n\n## Common Usage\n\nNOTE: The documentation below is up-to-date with `3.x` releases, if you are using an older version, please check how to [upgrade](#upgrading).\n\n### Plain text or HTML\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://github.com/');\nconst body = await response.text();\n\nconsole.log(body);\n```\n\n### JSON\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://api.github.com/users/github');\nconst data = await response.json();\n\nconsole.log(data);\n```\n\n### Simple Post\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: 'a=1'});\nconst data = await response.json();\n\nconsole.log(data);\n```\n\n### Post with JSON\n\n```js\nimport fetch from 'node-fetch';\n\nconst body = {a: 1};\n\nconst response = await fetch('https://httpbin.org/post', {\n\tmethod: 'post',\n\tbody: JSON.stringify(body),\n\theaders: {'Content-Type': 'application/json'}\n});\nconst data = await response.json();\n\nconsole.log(data);\n```\n\n### Post with form parameters\n\n`URLSearchParams` is available on the global object in Node.js as of v10.0.0. See [official documentation](https://nodejs.org/api/url.html#url_class_urlsearchparams) for more usage methods.\n\nNOTE: The `Content-Type` header is only set automatically to `x-www-form-urlencoded` when an instance of `URLSearchParams` is given as such:\n\n```js\nimport fetch from 'node-fetch';\n\nconst params = new URLSearchParams();\nparams.append('a', 1);\n\nconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: params});\nconst data = await response.json();\n\nconsole.log(data);\n```\n\n### Handling exceptions\n\nNOTE: 3xx-5xx responses are _NOT_ exceptions, and should be handled in `then()`, see the next section.\n\nWrapping the fetch function into a `try/catch` block will catch _all_ exceptions, such as errors originating from node core libraries, like network errors, and operational errors which are instances of FetchError. See the [error handling document][error-handling.md] for more details.\n\n```js\nimport fetch from 'node-fetch';\n\ntry {\n\tawait fetch('https://domain.invalid/');\n} catch (error) {\n\tconsole.log(error);\n}\n```\n\n### Handling client and server errors\n\nIt is common to create a helper function to check that the response contains no client (4xx) or server (5xx) error responses:\n\n```js\nimport fetch from 'node-fetch';\n\nclass HTTPResponseError extends Error {\n\tconstructor(response, ...args) {\n\t\tsuper(`HTTP Error Response: ${response.status} ${response.statusText}`, ...args);\n\t\tthis.response = response;\n\t}\n}\n\nconst checkStatus = response => {\n\tif (response.ok) {\n\t\t// response.status >= 200 && response.status < 300\n\t\treturn response;\n\t} else {\n\t\tthrow new HTTPResponseError(response);\n\t}\n}\n\nconst response = await fetch('https://httpbin.org/status/400');\n\ntry {\n\tcheckStatus(response);\n} catch (error) {\n\tconsole.error(error);\n\n\tconst errorBody = await error.response.text();\n\tconsole.error(`Error body: ${errorBody}`);\n}\n```\n\n### Handling cookies\n\nCookies are not stored by default. However, cookies can be extracted and passed by manipulating request and response headers. See [Extract Set-Cookie Header](#extract-set-cookie-header) for details.\n\n## Advanced Usage\n\n### Streams\n\nThe \"Node.js way\" is to use streams when possible. You can pipe `res.body` to another stream. This example uses [stream.pipeline](https://nodejs.org/api/stream.html#stream_stream_pipeline_streams_callback) to attach stream error handlers and wait for the download to complete.\n\n```js\nimport {createWriteStream} from 'node:fs';\nimport {pipeline} from 'node:stream';\nimport {promisify} from 'node:util'\nimport fetch from 'node-fetch';\n\nconst streamPipeline = promisify(pipeline);\n\nconst response = await fetch('https://github.githubassets.com/images/modules/logos_page/Octocat.png');\n\nif (!response.ok) throw new Error(`unexpected response ${response.statusText}`);\n\nawait streamPipeline(response.body, createWriteStream('./octocat.png'));\n```\n\nIn Node.js 14 you can also use async iterators to read `body`; however, be careful to catch\nerrors -- the longer a response runs, the more likely it is to encounter an error.\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://httpbin.org/stream/3');\n\ntry {\n\tfor await (const chunk of response.body) {\n\t\tconsole.dir(JSON.parse(chunk.toString()));\n\t}\n} catch (err) {\n\tconsole.error(err.stack);\n}\n```\n\nIn Node.js 12 you can also use async iterators to read `body`; however, async iterators with streams\ndid not mature until Node.js 14, so you need to do some extra work to ensure you handle errors\ndirectly from the stream and wait on it response to fully close.\n\n```js\nimport fetch from 'node-fetch';\n\nconst read = async body => {\n\tlet error;\n\tbody.on('error', err => {\n\t\terror = err;\n\t});\n\n\tfor await (const chunk of body) {\n\t\tconsole.dir(JSON.parse(chunk.toString()));\n\t}\n\n\treturn new Promise((resolve, reject) => {\n\t\tbody.on('close', () => {\n\t\t\terror ? reject(error) : resolve();\n\t\t});\n\t});\n};\n\ntry {\n\tconst response = await fetch('https://httpbin.org/stream/3');\n\tawait read(response.body);\n} catch (err) {\n\tconsole.error(err.stack);\n}\n```\n\n### Accessing Headers and other Metadata\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://github.com/');\n\nconsole.log(response.ok);\nconsole.log(response.status);\nconsole.log(response.statusText);\nconsole.log(response.headers.raw());\nconsole.log(response.headers.get('content-type'));\n```\n\n### Extract Set-Cookie Header\n\nUnlike browsers, you can access raw `Set-Cookie` headers manually using `Headers.raw()`. This is a `node-fetch` only API.\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://example.com');\n\n// Returns an array of values, instead of a string of comma-separated values\nconsole.log(response.headers.raw()['set-cookie']);\n```\n\n### Post data using a file\n\n```js\nimport fetch {\n  Blob,\n  blobFrom,\n  blobFromSync,\n  File,\n  fileFrom,\n  fileFromSync,\n} from 'node-fetch'\n\nconst mimetype = 'text/plain'\nconst blob = fileFromSync('./input.txt', mimetype)\nconst url = 'https://httpbin.org/post'\n\nconst response = await fetch(url, { method: 'POST', body: blob })\nconst data = await response.json()\n\nconsole.log(data)\n```\n\nnode-fetch comes with a spec-compliant [FormData] implementations for posting\nmultipart/form-data payloads\n\n```js\nimport fetch {FormData, File, fileFrom} from 'node-fetch'\n\nconst httpbin = 'https://httpbin.org/post'\nconst formData = new FormData()\nconst binary = new Uint8Array([ 97, 98, 99 ])\nconst abc = new File([binary], 'abc.txt'), { type: 'text/plain' })\n\nformData.set('greeting', 'Hello, world!')\nformData.set('file-upload', abc, 'new name.txt')\n\nconst response = await fetch(httpbin, { method: 'POST', body: formData })\nconst data = await response.json()\n\nconsole.log(data)\n```\n\nIf you for some reason need to post a stream coming from any arbitrary place,\nthen you can append a [Blob] or a [File] look-a-like item.\n\nThe minium requirement is that it has:\n1. A `Symbol.toStringTag` getter or property that is either `Blob` or `File`\n2. A known size.\n3. And either a `stream()` method or a `arrayBuffer()` method that returns a ArrayBuffer.\n\nThe `stream()` must return any async iterable object as long as it yields Uint8Array (or Buffer)\nso Node.Readable streams and whatwg streams works just fine.\n\n```js\nformData.append('upload', {\n\t[Symbol.toStringTag]: 'Blob',\n\tsize: 3,\n  *stream() {\n    yield new Uint8Array([97, 98, 99])\n\t},\n\tarrayBuffer() {\n\t\treturn new Uint8Array([97, 98, 99]).buffer\n\t}\n}, 'abc.txt')\n```\n\n### Request cancellation with AbortSignal\n\nYou may cancel requests with `AbortController`. A suggested implementation is [`abort-controller`](https://www.npmjs.com/package/abort-controller).\n\nAn example of timing out a request after 150ms could be achieved as the following:\n\n```js\nimport fetch from 'node-fetch';\n\n// AbortController was added in node v14.17.0 globally\nconst AbortController = globalThis.AbortController || await import('abort-controller')\n\nconst controller = new AbortController();\nconst timeout = setTimeout(() => {\n\tcontroller.abort();\n}, 150);\n\ntry {\n\tconst response = await fetch('https://example.com', {signal: controller.signal});\n\tconst data = await response.json();\n} catch (error) {\n\tif (error instanceof fetch.AbortError) {\n\t\tconsole.log('request was aborted');\n\t}\n} finally {\n\tclearTimeout(timeout);\n}\n```\n\nSee [test cases](https://github.com/node-fetch/node-fetch/blob/master/test/) for more examples.\n\n## API\n\n### fetch(url[, options])\n\n- `url` A string representing the URL for fetching\n- `options` [Options](#fetch-options) for the HTTP(S) request\n- Returns: <code>Promise&lt;[Response](#class-response)&gt;</code>\n\nPerform an HTTP(S) fetch.\n\n`url` should be an absolute URL, such as `https://example.com/`. A path-relative URL (`/file/under/root`) or protocol-relative URL (`//can-be-http-or-https.com/`) will result in a rejected `Promise`.\n\n<a id=\"fetch-options\"></a>\n\n### Options\n\nThe default values are shown after each option key.\n\n```js\n{\n\t// These properties are part of the Fetch Standard\n\tmethod: 'GET',\n\theaders: {},            // Request headers. format is the identical to that accepted by the Headers constructor (see below)\n\tbody: null,             // Request body. can be null, or a Node.js Readable stream\n\tredirect: 'follow',     // Set to `manual` to extract redirect headers, `error` to reject redirect\n\tsignal: null,           // Pass an instance of AbortSignal to optionally abort requests\n\n\t// The following properties are node-fetch extensions\n\tfollow: 20,             // maximum redirect count. 0 to not follow redirect\n\tcompress: true,         // support gzip/deflate content encoding. false to disable\n\tsize: 0,                // maximum response body size in bytes. 0 to disable\n\tagent: null,            // http(s).Agent instance or function that returns an instance (see below)\n\thighWaterMark: 16384,   // the maximum number of bytes to store in the internal buffer before ceasing to read from the underlying resource.\n\tinsecureHTTPParser: false\t// Use an insecure HTTP parser that accepts invalid HTTP headers when `true`.\n}\n```\n\n#### Default Headers\n\nIf no values are set, the following request headers will be sent automatically:\n\n| Header              | Value                                                  |\n| ------------------- | ------------------------------------------------------ |\n| `Accept-Encoding`   | `gzip,deflate,br` _(when `options.compress === true`)_ |\n| `Accept`            | `*/*`                                                  |\n| `Connection`        | `close` _(when no `options.agent` is present)_         |\n| `Content-Length`    | _(automatically calculated, if possible)_              |\n| `Host`              | _(host and port information from the target URI)_      |\n| `Transfer-Encoding` | `chunked` _(when `req.body` is a stream)_              |\n| `User-Agent`        | `node-fetch`                                           |\n\n\nNote: when `body` is a `Stream`, `Content-Length` is not set automatically.\n\n#### Custom Agent\n\nThe `agent` option allows you to specify networking related options which are out of the scope of Fetch, including and not limited to the following:\n\n- Support self-signed certificate\n- Use only IPv4 or IPv6\n- Custom DNS Lookup\n\nSee [`http.Agent`](https://nodejs.org/api/http.html#http_new_agent_options) for more information.\n\nIn addition, the `agent` option accepts a function that returns `http`(s)`.Agent` instance given current [URL](https://nodejs.org/api/url.html), this is useful during a redirection chain across HTTP and HTTPS protocol.\n\n```js\nimport http from 'node:http';\nimport https from 'node:https';\n\nconst httpAgent = new http.Agent({\n\tkeepAlive: true\n});\nconst httpsAgent = new https.Agent({\n\tkeepAlive: true\n});\n\nconst options = {\n\tagent: function(_parsedURL) {\n\t\tif (_parsedURL.protocol == 'http:') {\n\t\t\treturn httpAgent;\n\t\t} else {\n\t\t\treturn httpsAgent;\n\t\t}\n\t}\n};\n```\n\n<a id=\"custom-highWaterMark\"></a>\n\n#### Custom highWaterMark\n\nStream on Node.js have a smaller internal buffer size (16kB, aka `highWaterMark`) from client-side browsers (>1MB, not consistent across browsers). Because of that, when you are writing an isomorphic app and using `res.clone()`, it will hang with large response in Node.\n\nThe recommended way to fix this problem is to resolve cloned response in parallel:\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://example.com');\nconst r1 = await response.clone();\n\nconst results = await Promise.all([response.json(), r1.text()]);\n\nconsole.log(results[0]);\nconsole.log(results[1]);\n```\n\nIf for some reason you don't like the solution above, since `3.x` you are able to modify the `highWaterMark` option:\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://example.com', {\n\t// About 1MB\n\thighWaterMark: 1024 * 1024\n});\n\nconst result = await res.clone().arrayBuffer();\nconsole.dir(result);\n```\n\n#### Insecure HTTP Parser\n\nPassed through to the `insecureHTTPParser` option on http(s).request. See [`http.request`](https://nodejs.org/api/http.html#http_http_request_url_options_callback) for more information.\n\n#### Manual Redirect\n\nThe `redirect: 'manual'` option for node-fetch is different from the browser & specification, which\nresults in an [opaque-redirect filtered response](https://fetch.spec.whatwg.org/#concept-filtered-response-opaque-redirect).\nnode-fetch gives you the typical [basic filtered response](https://fetch.spec.whatwg.org/#concept-filtered-response-basic) instead.\n\n```js\nconst fetch = require('node-fetch');\n\nconst response = await fetch('https://httpbin.org/status/301', { redirect: 'manual' });\n\nif (response.status === 301 || response.status === 302) {\n\tconst locationURL = new URL(response.headers.get('location'), response.url);\n\tconst response2 = await fetch(locationURL, { redirect: 'manual' });\n\tconsole.dir(response2);\n}\n```\n\n<a id=\"class-request\"></a>\n\n### Class: Request\n\nAn HTTP(S) request containing information about URL, method, headers, and the body. This class implements the [Body](#iface-body) interface.\n\nDue to the nature of Node.js, the following properties are not implemented at this moment:\n\n- `type`\n- `destination`\n- `mode`\n- `credentials`\n- `cache`\n- `integrity`\n- `keepalive`\n\nThe following node-fetch extension properties are provided:\n\n- `follow`\n- `compress`\n- `counter`\n- `agent`\n- `highWaterMark`\n\nSee [options](#fetch-options) for exact meaning of these extensions.\n\n#### new Request(input[, options])\n\n<small>_(spec-compliant)_</small>\n\n- `input` A string representing a URL, or another `Request` (which will be cloned)\n- `options` [Options][#fetch-options] for the HTTP(S) request\n\nConstructs a new `Request` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Request/Request).\n\nIn most cases, directly `fetch(url, options)` is simpler than creating a `Request` object.\n\n<a id=\"class-response\"></a>\n\n### Class: Response\n\nAn HTTP(S) response. This class implements the [Body](#iface-body) interface.\n\nThe following properties are not implemented in node-fetch at this moment:\n\n- `trailer`\n\n#### new Response([body[, options]])\n\n<small>_(spec-compliant)_</small>\n\n- `body` A `String` or [`Readable` stream][node-readable]\n- `options` A [`ResponseInit`][response-init] options dictionary\n\nConstructs a new `Response` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Response/Response).\n\nBecause Node.js does not implement service workers (for which this class was designed), one rarely has to construct a `Response` directly.\n\n#### response.ok\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request ended normally. Will evaluate to true if the response status was greater than or equal to 200 but smaller than 300.\n\n#### response.redirected\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request has been redirected at least once. Will evaluate to true if the internal redirect counter is greater than 0.\n\n#### response.type\n\n<small>_(deviation from spec)_</small>\n\nConvenience property representing the response's type. node-fetch only supports `'default'` and `'error'` and does not make use of [filtered responses](https://fetch.spec.whatwg.org/#concept-filtered-response).\n\n<a id=\"class-headers\"></a>\n\n### Class: Headers\n\nThis class allows manipulating and iterating over a set of HTTP headers. All methods specified in the [Fetch Standard][whatwg-fetch] are implemented.\n\n#### new Headers([init])\n\n<small>_(spec-compliant)_</small>\n\n- `init` Optional argument to pre-fill the `Headers` object\n\nConstruct a new `Headers` object. `init` can be either `null`, a `Headers` object, an key-value map object or any iterable object.\n\n```js\n// Example adapted from https://fetch.spec.whatwg.org/#example-headers-class\nimport {Headers} from 'node-fetch';\n\nconst meta = {\n\t'Content-Type': 'text/xml'\n};\nconst headers = new Headers(meta);\n\n// The above is equivalent to\nconst meta = [['Content-Type', 'text/xml']];\nconst headers = new Headers(meta);\n\n// You can in fact use any iterable objects, like a Map or even another Headers\nconst meta = new Map();\nmeta.set('Content-Type', 'text/xml');\nconst headers = new Headers(meta);\nconst copyOfHeaders = new Headers(headers);\n```\n\n<a id=\"iface-body\"></a>\n\n### Interface: Body\n\n`Body` is an abstract interface with methods that are applicable to both `Request` and `Response` classes.\n\n#### body.body\n\n<small>_(deviation from spec)_</small>\n\n- Node.js [`Readable` stream][node-readable]\n\nData are encapsulated in the `Body` object. Note that while the [Fetch Standard][whatwg-fetch] requires the property to always be a WHATWG `ReadableStream`, in node-fetch it is a Node.js [`Readable` stream][node-readable].\n\n#### body.bodyUsed\n\n<small>_(spec-compliant)_</small>\n\n- `Boolean`\n\nA boolean property for if this body has been consumed. Per the specs, a consumed body cannot be used again.\n\n#### body.arrayBuffer()\n\n#### body.formData()\n\n#### body.blob()\n\n#### body.json()\n\n#### body.text()\n\n`fetch` comes with methods to parse `multipart/form-data` payloads as well as\n`x-www-form-urlencoded` bodies using `.formData()` this comes from the idea that\nService Worker can intercept such messages before it's sent to the server to\nalter them. This is useful for anybody building a server so you can use it to\nparse & consume payloads.\n\n<details>\n<summary>Code example</summary>\n\n```js\nimport http from 'node:http'\nimport { Response } from 'node-fetch'\n\nhttp.createServer(async function (req, res) {\n  const formData = await new Response(req, {\n    headers: req.headers // Pass along the boundary value\n  }).formData()\n  const allFields = [...formData]\n\n  const file = formData.get('uploaded-files')\n  const arrayBuffer = await file.arrayBuffer()\n  const text = await file.text()\n  const whatwgReadableStream = file.stream()\n\n  // other was to consume the request could be to do:\n  const json = await new Response(req).json()\n  const text = await new Response(req).text()\n  const arrayBuffer = await new Response(req).arrayBuffer()\n  const blob = await new Response(req, {\n    headers: req.headers // So that `type` inherits `Content-Type`\n  }.blob()\n})\n```\n\n</details>\n\n<a id=\"class-fetcherror\"></a>\n\n### Class: FetchError\n\n<small>_(node-fetch extension)_</small>\n\nAn operational error in the fetching process. See [ERROR-HANDLING.md][] for more info.\n\n<a id=\"class-aborterror\"></a>\n\n### Class: AbortError\n\n<small>_(node-fetch extension)_</small>\n\nAn Error thrown when the request is aborted in response to an `AbortSignal`'s `abort` event. It has a `name` property of `AbortError`. See [ERROR-HANDLING.MD][] for more info.\n\n## TypeScript\n\n**Since `3.x` types are bundled with `node-fetch`, so you don't need to install any additional packages.**\n\nFor older versions please use the type definitions from [DefinitelyTyped](https://github.com/DefinitelyTyped/DefinitelyTyped):\n\n```sh\nnpm install --save-dev @types/node-fetch@2.x\n```\n\n## Acknowledgement\n\nThanks to [github/fetch](https://github.com/github/fetch) for providing a solid implementation reference.\n\n## Team\n\n| [![David Frank](https://github.com/bitinn.png?size=100)](https://github.com/bitinn) | [![Jimmy Wärting](https://github.com/jimmywarting.png?size=100)](https://github.com/jimmywarting) | [![Antoni Kepinski](https://github.com/xxczaki.png?size=100)](https://github.com/xxczaki) | [![Richie Bendall](https://github.com/Richienb.png?size=100)](https://github.com/Richienb) | [![Gregor Martynus](https://github.com/gr2m.png?size=100)](https://github.com/gr2m) |\n| ----------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------- |\n| [David Frank](https://bitinn.net/)                                                  | [Jimmy Wärting](https://jimmy.warting.se/)                                                        | [Antoni Kepinski](https://kepinski.ch)                                                    | [Richie Bendall](https://www.richie-bendall.ml/)                                           | [Gregor Martynus](https://twitter.com/gr2m)                                         |\n\n###### Former\n\n- [Timothy Gu](https://github.com/timothygu)\n- [Jared Kantrowitz](https://github.com/jkantr)\n\n## License\n\n[MIT](LICENSE.md)\n\n[whatwg-fetch]: https://fetch.spec.whatwg.org/\n[response-init]: https://fetch.spec.whatwg.org/#responseinit\n[node-readable]: https://nodejs.org/api/stream.html#stream_readable_streams\n[mdn-headers]: https://developer.mozilla.org/en-US/docs/Web/API/Headers\n[error-handling.md]: https://github.com/node-fetch/node-fetch/blob/master/docs/ERROR-HANDLING.md\n[FormData]: https://developer.mozilla.org/en-US/docs/Web/API/FormData\n[Blob]: https://developer.mozilla.org/en-US/docs/Web/API/Blob\n[File]: https://developer.mozilla.org/en-US/docs/Web/API/File\n","sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"esModuleInterop":true}},"xo":{"envs":["node","browser"],"ignores":["example.js"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"import/no-named-as-default":0,"unicorn/import-index":0,"unicorn/no-array-reduce":0,"unicorn/prefer-node-protocol":0,"unicorn/numeric-separators-style":0,"unicorn/explicit-length-check":0,"capitalized-comments":0,"node/no-unsupported-features/es-syntax":0,"@typescript-eslint/member-ordering":0},"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"no-warning-comments":0,"new-cap":0,"guard-for-in":0,"unicorn/no-array-for-each":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}}]},"runkitExampleFilename":"example.js","release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]},"readmeFilename":"README.md","gitHead":"fcd8bdd6d93402df728f90a8b67adec1ce5ea1ab","_nodeVersion":"16.13.2","_npmVersion":"8.1.2","_npmUser":{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"},{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_4.0.0-beta.3_1643323377903_0.18754722639862065"},"_hasShrinkwrap":false},"4.0.0-beta.4":{"_id":"node-fetch@4.0.0-beta.4","name":"node-fetch","description":"A light-weight module that brings Fetch API to node.js","version":"4.0.0-beta.4","keywords":["fetch","http","promise","request","curl","wget","xhr","whatwg"],"homepage":"https://github.com/node-fetch/node-fetch","author":{"name":"David Frank"},"repository":{"type":"git","url":"git+https://github.com/node-fetch/node-fetch.git"},"bugs":{"url":"https://github.com/node-fetch/node-fetch/issues"},"license":"MIT","scripts":{"test":"mocha","coverage":"c8 report --reporter=text-lcov | coveralls","test-types":"tsd","lint":"xo"},"directories":{},"devDependencies":{"abort-controller":"^3.0.0","abortcontroller-polyfill":"^1.7.1","busboy":"^1.4.0","c8":"^7.7.2","chai":"^4.3.4","chai-as-promised":"^7.1.1","chai-iterator":"^3.0.2","chai-string":"^1.5.0","coveralls":"^3.1.0","formdata-node":"^4.2.4","mocha":"^9.1.3","p-timeout":"^5.0.0","stream-consumers":"^1.0.1","tsd":"^0.14.0","xo":"^0.39.1"},"dependencies":{"data-uri-to-buffer":"^4.0.0","fetch-blob":"^3.1.4","formdata-polyfill":"^4.0.10"},"engines":{"node":"^14.17.1 || >=16.0.0"},"main":"./src/index.js","dist":{"shasum":"edd784c33e8c795bf4dd2bf0b90e2d10e1e6c0ab","tarball":"https://pkgs.dev.azure.com/dnceng/public/_packaging/dotnet-public-npm/npm/registry/node-fetch/-/node-fetch-4.0.0-beta.4.tgz"},"readme":"<div align=\"center\">\n\t<img src=\"docs/media/Banner.svg\" alt=\"Node Fetch\"/>\n\t<br>\n\t<p>A light-weight module that brings <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\">Fetch API</a> to Node.js.</p>\n\t<a href=\"https://github.com/node-fetch/node-fetch/actions\"><img src=\"https://github.com/node-fetch/node-fetch/workflows/CI/badge.svg?branch=master\" alt=\"Build status\"></a>\n\t<a href=\"https://coveralls.io/github/node-fetch/node-fetch\"><img src=\"https://img.shields.io/coveralls/github/node-fetch/node-fetch\" alt=\"Coverage status\"></a>\n\t<a href=\"https://packagephobia.now.sh/result?p=node-fetch\"><img src=\"https://badgen.net/packagephobia/install/node-fetch\" alt=\"Current version\"></a>\n\t<a href=\"https://www.npmjs.com/package/node-fetch\"><img src=\"https://img.shields.io/npm/v/node-fetch\" alt=\"Install size\"></a>\n\t<a href=\"https://github.com/sindresorhus/awesome-nodejs\"><img src=\"https://awesome.re/mentioned-badge.svg\" alt=\"Mentioned in Awesome Node.js\"></a>\n\t<a href=\"https://discord.gg/Zxbndcm\"><img src=\"https://img.shields.io/discord/619915844268326952?color=%237289DA&label=Discord\" alt=\"Discord\"></a>\n\t<br>\n\t<br>\n\t<b>Consider supporting us on our Open Collective:</b>\n\t<br>\n\t<br>\n\t<a href=\"https://opencollective.com/node-fetch\"><img src=\"https://opencollective.com/node-fetch/donate/button.png?color=blue\" alt=\"Open Collective\"></a>\n</div>\n\n---\n\n**You might be looking for the [v2 docs](https://github.com/node-fetch/node-fetch/tree/2.x#readme)**\n\n<!-- TOC -->\n\n- [Motivation](#motivation)\n- [Features](#features)\n- [Difference from client-side fetch](#difference-from-client-side-fetch)\n- [Installation](#installation)\n- [Loading and configuring the module](#loading-and-configuring-the-module)\n- [Upgrading](#upgrading)\n- [Common Usage](#common-usage)\n\t- [Plain text or HTML](#plain-text-or-html)\n\t- [JSON](#json)\n\t- [Simple Post](#simple-post)\n\t- [Post with JSON](#post-with-json)\n\t- [Post with form parameters](#post-with-form-parameters)\n\t- [Handling exceptions](#handling-exceptions)\n\t- [Handling client and server errors](#handling-client-and-server-errors)\n\t- [Handling cookies](#handling-cookies)\n- [Advanced Usage](#advanced-usage)\n\t- [Streams](#streams)\n\t- [Accessing Headers and other Metadata](#accessing-headers-and-other-metadata)\n\t- [Extract Set-Cookie Header](#extract-set-cookie-header)\n\t- [Post data using a file](#post-data-using-a-file)\n\t- [Request cancellation with AbortSignal](#request-cancellation-with-abortsignal)\n- [API](#api)\n\t- [fetch(url[, options])](#fetchurl-options)\n\t- [Options](#options)\n\t\t- [Default Headers](#default-headers)\n\t\t- [Custom Agent](#custom-agent)\n\t\t- [Custom highWaterMark](#custom-highwatermark)\n\t\t- [Insecure HTTP Parser](#insecure-http-parser)\n\t- [Class: Request](#class-request)\n\t\t- [new Request(input[, options])](#new-requestinput-options)\n\t- [Class: Response](#class-response)\n\t\t- [new Response([body[, options]])](#new-responsebody-options)\n\t\t- [response.ok](#responseok)\n\t\t- [response.redirected](#responseredirected)\n\t\t- [response.type](#responsetype)\n\t- [Class: Headers](#class-headers)\n\t\t- [new Headers([init])](#new-headersinit)\n\t- [Interface: Body](#interface-body)\n\t\t- [body.body](#bodybody)\n\t\t- [body.bodyUsed](#bodybodyused)\n\t\t- [body.arrayBuffer()](#bodyarraybuffer)\n\t\t- [body.blob()](#bodyblob)\n\t\t- [body.formData()](#formdata)\n\t\t- [body.json()](#bodyjson)\n\t\t- [body.text()](#bodytext)\n\t- [Class: FetchError](#class-fetcherror)\n\t- [Class: AbortError](#class-aborterror)\n- [TypeScript](#typescript)\n- [Acknowledgement](#acknowledgement)\n- [Team](#team)\n\t\t\t\t- [Former](#former)\n- [License](#license)\n\n<!-- /TOC -->\n\n## Motivation\n\nInstead of implementing `XMLHttpRequest` in Node.js to run browser-specific [Fetch polyfill](https://github.com/github/fetch), why not go from native `http` to `fetch` API directly? Hence, `node-fetch`, minimal code for a `window.fetch` compatible API on Node.js runtime.\n\nSee Jason Miller's [isomorphic-unfetch](https://www.npmjs.com/package/isomorphic-unfetch) or Leonardo Quixada's [cross-fetch](https://github.com/lquixada/cross-fetch) for isomorphic usage (exports `node-fetch` for server-side, `whatwg-fetch` for client-side).\n\n## Features\n\n- Stay consistent with `window.fetch` API.\n- Make conscious trade-off when following [WHATWG fetch spec][whatwg-fetch] and [stream spec](https://streams.spec.whatwg.org/) implementation details, document known differences.\n- Use native promise and async functions.\n- Use web streams for body, on both request and response.\n- Decode content encoding (gzip/deflate/brotli) properly, and convert string output (such as `res.text()` and `res.json()`) to UTF-8 automatically.\n\n## Difference from client-side fetch\n\n- See known differences:\n\t- [As of v4.x](docs/v4-LIMITS.md)\n\t- [As of v3.x](docs/v3-LIMITS.md)\n\t- [As of v2.x](docs/v2-LIMITS.md)\n- If you happen to use a missing feature that `window.fetch` offers, feel free to open an issue.\n- Pull requests are welcomed too!\n\n## Installation\n\nCurrent beta release (`4.x`) requires at least Node.js 14.17.0.\n\n```sh\nnpm install node-fetch\n```\n\n## Loading and configuring the module\n\n### ES Modules (ESM)\n\n```js\nimport fetch from 'node-fetch';\n```\n\n### CommonJS\n\n`node-fetch` from v3 is an ESM-only module - you are not able to import it with `require()`.\n\nIf you cannot switch to ESM, please use v2 which remains compatible with CommonJS. Critical bug fixes will continue to be published for v2.\n\n```sh\nnpm install node-fetch@2\n```\n\nAlternatively, you can use the async `import()` function from CommonJS to load `node-fetch` asynchronously:\n\n```js\n// mod.cjs\nconst fetch = (...args) => import('node-fetch').then(({default: fetch}) => fetch(...args));\n```\n\n### Providing global access\n\nTo use `fetch()` without importing it, you can patch the `global` object in node:\n\n```js\n// fetch-polyfill.js\nimport fetch, {\n  Blob,\n  blobFrom,\n  blobFromSync,\n  File,\n  fileFrom,\n  fileFromSync,\n  FormData,\n  Headers,\n  Request,\n  Response,\n} from 'node-fetch'\n\nif (!globalThis.fetch) {\n  globalThis.fetch = fetch\n  globalThis.Headers = Headers\n  globalThis.Request = Request\n  globalThis.Response = Response\n}\n\n// index.js\nimport './fetch-polyfill'\n\n// ...\n```\n\n## Upgrading\n\nUsing an old version of node-fetch? Check out the following files:\n\n- [3.x to 4.x upgrade guide](docs/v4-UPGRADE-GUIDE.md)\n- [2.x to 3.x upgrade guide](docs/v3-UPGRADE-GUIDE.md)\n- [1.x to 2.x upgrade guide](docs/v2-UPGRADE-GUIDE.md)\n- [Changelog](docs/CHANGELOG.md)\n\n## Common Usage\n\nNOTE: The documentation below is up-to-date with `3.x` releases, if you are using an older version, please check how to [upgrade](#upgrading).\n\n### Plain text or HTML\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://github.com/');\nconst body = await response.text();\n\nconsole.log(body);\n```\n\n### JSON\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://api.github.com/users/github');\nconst data = await response.json();\n\nconsole.log(data);\n```\n\n### Simple Post\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: 'a=1'});\nconst data = await response.json();\n\nconsole.log(data);\n```\n\n### Post with JSON\n\n```js\nimport fetch from 'node-fetch';\n\nconst body = {a: 1};\n\nconst response = await fetch('https://httpbin.org/post', {\n\tmethod: 'post',\n\tbody: JSON.stringify(body),\n\theaders: {'Content-Type': 'application/json'}\n});\nconst data = await response.json();\n\nconsole.log(data);\n```\n\n### Post with form parameters\n\n`URLSearchParams` is available on the global object in Node.js as of v10.0.0. See [official documentation](https://nodejs.org/api/url.html#url_class_urlsearchparams) for more usage methods.\n\nNOTE: The `Content-Type` header is only set automatically to `x-www-form-urlencoded` when an instance of `URLSearchParams` is given as such:\n\n```js\nimport fetch from 'node-fetch';\n\nconst params = new URLSearchParams();\nparams.append('a', 1);\n\nconst response = await fetch('https://httpbin.org/post', {method: 'POST', body: params});\nconst data = await response.json();\n\nconsole.log(data);\n```\n\n### Handling exceptions\n\nNOTE: 3xx-5xx responses are _NOT_ exceptions, and should be handled in `then()`, see the next section.\n\nWrapping the fetch function into a `try/catch` block will catch _all_ exceptions, such as errors originating from node core libraries, like network errors, and operational errors which are instances of FetchError. See the [error handling document][error-handling.md] for more details.\n\n```js\nimport fetch from 'node-fetch';\n\ntry {\n\tawait fetch('https://domain.invalid/');\n} catch (error) {\n\tconsole.log(error);\n}\n```\n\n### Handling client and server errors\n\nIt is common to create a helper function to check that the response contains no client (4xx) or server (5xx) error responses:\n\n```js\nimport fetch from 'node-fetch';\n\nclass HTTPResponseError extends Error {\n\tconstructor(response, ...args) {\n\t\tsuper(`HTTP Error Response: ${response.status} ${response.statusText}`, ...args);\n\t\tthis.response = response;\n\t}\n}\n\nconst checkStatus = response => {\n\tif (response.ok) {\n\t\t// response.status >= 200 && response.status < 300\n\t\treturn response;\n\t} else {\n\t\tthrow new HTTPResponseError(response);\n\t}\n}\n\nconst response = await fetch('https://httpbin.org/status/400');\n\ntry {\n\tcheckStatus(response);\n} catch (error) {\n\tconsole.error(error);\n\n\tconst errorBody = await error.response.text();\n\tconsole.error(`Error body: ${errorBody}`);\n}\n```\n\n### Handling cookies\n\nCookies are not stored by default. However, cookies can be extracted and passed by manipulating request and response headers. See [Extract Set-Cookie Header](#extract-set-cookie-header) for details.\n\n## Advanced Usage\n\n### Streams\n\nThe \"Node.js way\" is to use streams when possible. You can pipe `res.body` to another stream. This example uses [stream.pipeline](https://nodejs.org/api/stream.html#stream_stream_pipeline_streams_callback) to attach stream error handlers and wait for the download to complete.\n\n```js\nimport {createWriteStream} from 'node:fs';\nimport {pipeline} from 'node:stream';\nimport {promisify} from 'node:util'\nimport fetch from 'node-fetch';\n\nconst streamPipeline = promisify(pipeline);\n\nconst response = await fetch('https://github.githubassets.com/images/modules/logos_page/Octocat.png');\n\nif (!response.ok) throw new Error(`unexpected response ${response.statusText}`);\n\nawait streamPipeline(response.body, createWriteStream('./octocat.png'));\n```\n\nIn Node.js 14 you can also use async iterators to read `body`; however, be careful to catch\nerrors -- the longer a response runs, the more likely it is to encounter an error.\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://httpbin.org/stream/3');\n\ntry {\n\tfor await (const chunk of response.body) {\n\t\tconsole.dir(JSON.parse(chunk.toString()));\n\t}\n} catch (err) {\n\tconsole.error(err.stack);\n}\n```\n\nIn Node.js 12 you can also use async iterators to read `body`; however, async iterators with streams\ndid not mature until Node.js 14, so you need to do some extra work to ensure you handle errors\ndirectly from the stream and wait on it response to fully close.\n\n```js\nimport fetch from 'node-fetch';\n\nconst read = async body => {\n\tlet error;\n\tbody.on('error', err => {\n\t\terror = err;\n\t});\n\n\tfor await (const chunk of body) {\n\t\tconsole.dir(JSON.parse(chunk.toString()));\n\t}\n\n\treturn new Promise((resolve, reject) => {\n\t\tbody.on('close', () => {\n\t\t\terror ? reject(error) : resolve();\n\t\t});\n\t});\n};\n\ntry {\n\tconst response = await fetch('https://httpbin.org/stream/3');\n\tawait read(response.body);\n} catch (err) {\n\tconsole.error(err.stack);\n}\n```\n\n### Accessing Headers and other Metadata\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://github.com/');\n\nconsole.log(response.ok);\nconsole.log(response.status);\nconsole.log(response.statusText);\nconsole.log(response.headers.raw());\nconsole.log(response.headers.get('content-type'));\n```\n\n### Extract Set-Cookie Header\n\nUnlike browsers, you can access raw `Set-Cookie` headers manually using `Headers.raw()`. This is a `node-fetch` only API.\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://example.com');\n\n// Returns an array of values, instead of a string of comma-separated values\nconsole.log(response.headers.raw()['set-cookie']);\n```\n\n### Post data using a file\n\n```js\nimport fetch {\n  Blob,\n  blobFrom,\n  blobFromSync,\n  File,\n  fileFrom,\n  fileFromSync,\n} from 'node-fetch'\n\nconst mimetype = 'text/plain'\nconst blob = fileFromSync('./input.txt', mimetype)\nconst url = 'https://httpbin.org/post'\n\nconst response = await fetch(url, { method: 'POST', body: blob })\nconst data = await response.json()\n\nconsole.log(data)\n```\n\nnode-fetch comes with a spec-compliant [FormData] implementations for posting\nmultipart/form-data payloads\n\n```js\nimport fetch {FormData, File, fileFrom} from 'node-fetch'\n\nconst httpbin = 'https://httpbin.org/post'\nconst formData = new FormData()\nconst binary = new Uint8Array([ 97, 98, 99 ])\nconst abc = new File([binary], 'abc.txt'), { type: 'text/plain' })\n\nformData.set('greeting', 'Hello, world!')\nformData.set('file-upload', abc, 'new name.txt')\n\nconst response = await fetch(httpbin, { method: 'POST', body: formData })\nconst data = await response.json()\n\nconsole.log(data)\n```\n\nIf you for some reason need to post a stream coming from any arbitrary place,\nthen you can append a [Blob] or a [File] look-a-like item.\n\nThe minium requirement is that it has:\n1. A `Symbol.toStringTag` getter or property that is either `Blob` or `File`\n2. A known size.\n3. And either a `stream()` method or a `arrayBuffer()` method that returns a ArrayBuffer.\n\nThe `stream()` must return any async iterable object as long as it yields Uint8Array (or Buffer)\nso Node.Readable streams and whatwg streams works just fine.\n\n```js\nformData.append('upload', {\n\t[Symbol.toStringTag]: 'Blob',\n\tsize: 3,\n  *stream() {\n    yield new Uint8Array([97, 98, 99])\n\t},\n\tarrayBuffer() {\n\t\treturn new Uint8Array([97, 98, 99]).buffer\n\t}\n}, 'abc.txt')\n```\n\n### Request cancellation with AbortSignal\n\nYou may cancel requests with `AbortController`. A suggested implementation is [`abort-controller`](https://www.npmjs.com/package/abort-controller).\n\nAn example of timing out a request after 150ms could be achieved as the following:\n\n```js\nimport fetch from 'node-fetch';\n\n// AbortController was added in node v14.17.0 globally\nconst AbortController = globalThis.AbortController || await import('abort-controller')\n\nconst controller = new AbortController();\nconst timeout = setTimeout(() => {\n\tcontroller.abort();\n}, 150);\n\ntry {\n\tconst response = await fetch('https://example.com', {signal: controller.signal});\n\tconst data = await response.json();\n} catch (error) {\n\tif (error instanceof fetch.AbortError) {\n\t\tconsole.log('request was aborted');\n\t}\n} finally {\n\tclearTimeout(timeout);\n}\n```\n\nSee [test cases](https://github.com/node-fetch/node-fetch/blob/master/test/) for more examples.\n\n## API\n\n### fetch(url[, options])\n\n- `url` A string representing the URL for fetching\n- `options` [Options](#fetch-options) for the HTTP(S) request\n- Returns: <code>Promise&lt;[Response](#class-response)&gt;</code>\n\nPerform an HTTP(S) fetch.\n\n`url` should be an absolute URL, such as `https://example.com/`. A path-relative URL (`/file/under/root`) or protocol-relative URL (`//can-be-http-or-https.com/`) will result in a rejected `Promise`.\n\n<a id=\"fetch-options\"></a>\n\n### Options\n\nThe default values are shown after each option key.\n\n```js\n{\n\t// These properties are part of the Fetch Standard\n\tmethod: 'GET',\n\theaders: {},            // Request headers. format is the identical to that accepted by the Headers constructor (see below)\n\tbody: null,             // Request body. can be null, or a Node.js Readable stream\n\tredirect: 'follow',     // Set to `manual` to extract redirect headers, `error` to reject redirect\n\tsignal: null,           // Pass an instance of AbortSignal to optionally abort requests\n\n\t// The following properties are node-fetch extensions\n\tfollow: 20,             // maximum redirect count. 0 to not follow redirect\n\tcompress: true,         // support gzip/deflate content encoding. false to disable\n\tsize: 0,                // maximum response body size in bytes. 0 to disable\n\tagent: null,            // http(s).Agent instance or function that returns an instance (see below)\n\thighWaterMark: 16384,   // the maximum number of bytes to store in the internal buffer before ceasing to read from the underlying resource.\n\tinsecureHTTPParser: false\t// Use an insecure HTTP parser that accepts invalid HTTP headers when `true`.\n}\n```\n\n#### Default Headers\n\nIf no values are set, the following request headers will be sent automatically:\n\n| Header              | Value                                                  |\n| ------------------- | ------------------------------------------------------ |\n| `Accept-Encoding`   | `gzip,deflate,br` _(when `options.compress === true`)_ |\n| `Accept`            | `*/*`                                                  |\n| `Connection`        | `close` _(when no `options.agent` is present)_         |\n| `Content-Length`    | _(automatically calculated, if possible)_              |\n| `Host`              | _(host and port information from the target URI)_      |\n| `Transfer-Encoding` | `chunked` _(when `req.body` is a stream)_              |\n| `User-Agent`        | `node-fetch`                                           |\n\n\nNote: when `body` is a `Stream`, `Content-Length` is not set automatically.\n\n#### Custom Agent\n\nThe `agent` option allows you to specify networking related options which are out of the scope of Fetch, including and not limited to the following:\n\n- Support self-signed certificate\n- Use only IPv4 or IPv6\n- Custom DNS Lookup\n\nSee [`http.Agent`](https://nodejs.org/api/http.html#http_new_agent_options) for more information.\n\nIn addition, the `agent` option accepts a function that returns `http`(s)`.Agent` instance given current [URL](https://nodejs.org/api/url.html), this is useful during a redirection chain across HTTP and HTTPS protocol.\n\n```js\nimport http from 'node:http';\nimport https from 'node:https';\n\nconst httpAgent = new http.Agent({\n\tkeepAlive: true\n});\nconst httpsAgent = new https.Agent({\n\tkeepAlive: true\n});\n\nconst options = {\n\tagent: function(_parsedURL) {\n\t\tif (_parsedURL.protocol == 'http:') {\n\t\t\treturn httpAgent;\n\t\t} else {\n\t\t\treturn httpsAgent;\n\t\t}\n\t}\n};\n```\n\n<a id=\"custom-highWaterMark\"></a>\n\n#### Custom highWaterMark\n\nStream on Node.js have a smaller internal buffer size (16kB, aka `highWaterMark`) from client-side browsers (>1MB, not consistent across browsers). Because of that, when you are writing an isomorphic app and using `res.clone()`, it will hang with large response in Node.\n\nThe recommended way to fix this problem is to resolve cloned response in parallel:\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://example.com');\nconst r1 = await response.clone();\n\nconst results = await Promise.all([response.json(), r1.text()]);\n\nconsole.log(results[0]);\nconsole.log(results[1]);\n```\n\nIf for some reason you don't like the solution above, since `3.x` you are able to modify the `highWaterMark` option:\n\n```js\nimport fetch from 'node-fetch';\n\nconst response = await fetch('https://example.com', {\n\t// About 1MB\n\thighWaterMark: 1024 * 1024\n});\n\nconst result = await res.clone().arrayBuffer();\nconsole.dir(result);\n```\n\n#### Insecure HTTP Parser\n\nPassed through to the `insecureHTTPParser` option on http(s).request. See [`http.request`](https://nodejs.org/api/http.html#http_http_request_url_options_callback) for more information.\n\n#### Manual Redirect\n\nThe `redirect: 'manual'` option for node-fetch is different from the browser & specification, which\nresults in an [opaque-redirect filtered response](https://fetch.spec.whatwg.org/#concept-filtered-response-opaque-redirect).\nnode-fetch gives you the typical [basic filtered response](https://fetch.spec.whatwg.org/#concept-filtered-response-basic) instead.\n\n```js\nconst fetch = require('node-fetch');\n\nconst response = await fetch('https://httpbin.org/status/301', { redirect: 'manual' });\n\nif (response.status === 301 || response.status === 302) {\n\tconst locationURL = new URL(response.headers.get('location'), response.url);\n\tconst response2 = await fetch(locationURL, { redirect: 'manual' });\n\tconsole.dir(response2);\n}\n```\n\n<a id=\"class-request\"></a>\n\n### Class: Request\n\nAn HTTP(S) request containing information about URL, method, headers, and the body. This class implements the [Body](#iface-body) interface.\n\nDue to the nature of Node.js, the following properties are not implemented at this moment:\n\n- `type`\n- `destination`\n- `mode`\n- `credentials`\n- `cache`\n- `integrity`\n- `keepalive`\n\nThe following node-fetch extension properties are provided:\n\n- `follow`\n- `compress`\n- `counter`\n- `agent`\n- `highWaterMark`\n\nSee [options](#fetch-options) for exact meaning of these extensions.\n\n#### new Request(input[, options])\n\n<small>_(spec-compliant)_</small>\n\n- `input` A string representing a URL, or another `Request` (which will be cloned)\n- `options` [Options][#fetch-options] for the HTTP(S) request\n\nConstructs a new `Request` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Request/Request).\n\nIn most cases, directly `fetch(url, options)` is simpler than creating a `Request` object.\n\n<a id=\"class-response\"></a>\n\n### Class: Response\n\nAn HTTP(S) response. This class implements the [Body](#iface-body) interface.\n\nThe following properties are not implemented in node-fetch at this moment:\n\n- `trailer`\n\n#### new Response([body[, options]])\n\n<small>_(spec-compliant)_</small>\n\n- `body` A `String` or [`Readable` stream][node-readable]\n- `options` A [`ResponseInit`][response-init] options dictionary\n\nConstructs a new `Response` object. The constructor is identical to that in the [browser](https://developer.mozilla.org/en-US/docs/Web/API/Response/Response).\n\nBecause Node.js does not implement service workers (for which this class was designed), one rarely has to construct a `Response` directly.\n\n#### response.ok\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request ended normally. Will evaluate to true if the response status was greater than or equal to 200 but smaller than 300.\n\n#### response.redirected\n\n<small>_(spec-compliant)_</small>\n\nConvenience property representing if the request has been redirected at least once. Will evaluate to true if the internal redirect counter is greater than 0.\n\n#### response.type\n\n<small>_(deviation from spec)_</small>\n\nConvenience property representing the response's type. node-fetch only supports `'default'` and `'error'` and does not make use of [filtered responses](https://fetch.spec.whatwg.org/#concept-filtered-response).\n\n<a id=\"class-headers\"></a>\n\n### Class: Headers\n\nThis class allows manipulating and iterating over a set of HTTP headers. All methods specified in the [Fetch Standard][whatwg-fetch] are implemented.\n\n#### new Headers([init])\n\n<small>_(spec-compliant)_</small>\n\n- `init` Optional argument to pre-fill the `Headers` object\n\nConstruct a new `Headers` object. `init` can be either `null`, a `Headers` object, an key-value map object or any iterable object.\n\n```js\n// Example adapted from https://fetch.spec.whatwg.org/#example-headers-class\nimport {Headers} from 'node-fetch';\n\nconst meta = {\n\t'Content-Type': 'text/xml'\n};\nconst headers = new Headers(meta);\n\n// The above is equivalent to\nconst meta = [['Content-Type', 'text/xml']];\nconst headers = new Headers(meta);\n\n// You can in fact use any iterable objects, like a Map or even another Headers\nconst meta = new Map();\nmeta.set('Content-Type', 'text/xml');\nconst headers = new Headers(meta);\nconst copyOfHeaders = new Headers(headers);\n```\n\n<a id=\"iface-body\"></a>\n\n### Interface: Body\n\n`Body` is an abstract interface with methods that are applicable to both `Request` and `Response` classes.\n\n#### body.body\n\n<small>_(deviation from spec)_</small>\n\n- Node.js [`Readable` stream][node-readable]\n\nData are encapsulated in the `Body` object. Note that while the [Fetch Standard][whatwg-fetch] requires the property to always be a WHATWG `ReadableStream`, in node-fetch it is a Node.js [`Readable` stream][node-readable].\n\n#### body.bodyUsed\n\n<small>_(spec-compliant)_</small>\n\n- `Boolean`\n\nA boolean property for if this body has been consumed. Per the specs, a consumed body cannot be used again.\n\n#### body.arrayBuffer()\n\n#### body.formData()\n\n#### body.blob()\n\n#### body.json()\n\n#### body.text()\n\n`fetch` comes with methods to parse `multipart/form-data` payloads as well as\n`x-www-form-urlencoded` bodies using `.formData()` this comes from the idea that\nService Worker can intercept such messages before it's sent to the server to\nalter them. This is useful for anybody building a server so you can use it to\nparse & consume payloads.\n\n<details>\n<summary>Code example</summary>\n\n```js\nimport http from 'node:http'\nimport { Response } from 'node-fetch'\n\nhttp.createServer(async function (req, res) {\n  const formData = await new Response(req, {\n    headers: req.headers // Pass along the boundary value\n  }).formData()\n  const allFields = [...formData]\n\n  const file = formData.get('uploaded-files')\n  const arrayBuffer = await file.arrayBuffer()\n  const text = await file.text()\n  const whatwgReadableStream = file.stream()\n\n  // other was to consume the request could be to do:\n  const json = await new Response(req).json()\n  const text = await new Response(req).text()\n  const arrayBuffer = await new Response(req).arrayBuffer()\n  const blob = await new Response(req, {\n    headers: req.headers // So that `type` inherits `Content-Type`\n  }.blob()\n})\n```\n\n</details>\n\n<a id=\"class-fetcherror\"></a>\n\n### Class: FetchError\n\n<small>_(node-fetch extension)_</small>\n\nAn operational error in the fetching process. See [ERROR-HANDLING.md][] for more info.\n\n<a id=\"class-aborterror\"></a>\n\n### Class: AbortError\n\n<small>_(node-fetch extension)_</small>\n\nAn Error thrown when the request is aborted in response to an `AbortSignal`'s `abort` event. It has a `name` property of `AbortError`. See [ERROR-HANDLING.MD][] for more info.\n\n## TypeScript\n\n**Since `3.x` types are bundled with `node-fetch`, so you don't need to install any additional packages.**\n\nFor older versions please use the type definitions from [DefinitelyTyped](https://github.com/DefinitelyTyped/DefinitelyTyped):\n\n```sh\nnpm install --save-dev @types/node-fetch@2.x\n```\n\n## Acknowledgement\n\nThanks to [github/fetch](https://github.com/github/fetch) for providing a solid implementation reference.\n\n## Team\n\n| [![David Frank](https://github.com/bitinn.png?size=100)](https://github.com/bitinn) | [![Jimmy Wärting](https://github.com/jimmywarting.png?size=100)](https://github.com/jimmywarting) | [![Antoni Kepinski](https://github.com/xxczaki.png?size=100)](https://github.com/xxczaki) | [![Richie Bendall](https://github.com/Richienb.png?size=100)](https://github.com/Richienb) | [![Gregor Martynus](https://github.com/gr2m.png?size=100)](https://github.com/gr2m) |\n| ----------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------- |\n| [David Frank](https://bitinn.net/)                                                  | [Jimmy Wärting](https://jimmy.warting.se/)                                                        | [Antoni Kepinski](https://kepinski.ch)                                                    | [Richie Bendall](https://www.richie-bendall.ml/)                                           | [Gregor Martynus](https://twitter.com/gr2m)                                         |\n\n###### Former\n\n- [Timothy Gu](https://github.com/timothygu)\n- [Jared Kantrowitz](https://github.com/jkantr)\n\n## License\n\n[MIT](LICENSE.md)\n\n[whatwg-fetch]: https://fetch.spec.whatwg.org/\n[response-init]: https://fetch.spec.whatwg.org/#responseinit\n[node-readable]: https://nodejs.org/api/stream.html#stream_readable_streams\n[mdn-headers]: https://developer.mozilla.org/en-US/docs/Web/API/Headers\n[error-handling.md]: https://github.com/node-fetch/node-fetch/blob/master/docs/ERROR-HANDLING.md\n[FormData]: https://developer.mozilla.org/en-US/docs/Web/API/FormData\n[Blob]: https://developer.mozilla.org/en-US/docs/Web/API/Blob\n[File]: https://developer.mozilla.org/en-US/docs/Web/API/File\n","sideEffects":false,"type":"module","types":"./@types/index.d.ts","funding":{"type":"opencollective","url":"https://opencollective.com/node-fetch"},"tsd":{"cwd":"@types","compilerOptions":{"esModuleInterop":true}},"xo":{"envs":["node","browser"],"ignores":["example.js"],"rules":{"complexity":0,"import/extensions":0,"import/no-useless-path-segments":0,"import/no-anonymous-default-export":0,"import/no-named-as-default":0,"unicorn/import-index":0,"unicorn/no-array-reduce":0,"unicorn/prefer-node-protocol":0,"unicorn/numeric-separators-style":0,"unicorn/explicit-length-check":0,"capitalized-comments":0,"node/no-unsupported-features/es-syntax":0,"@typescript-eslint/member-ordering":0},"overrides":[{"files":"test/**/*.js","envs":["node","mocha"],"rules":{"max-nested-callbacks":0,"no-unused-expressions":0,"no-warning-comments":0,"new-cap":0,"guard-for-in":0,"unicorn/no-array-for-each":0,"unicorn/prevent-abbreviations":0,"promise/prefer-await-to-then":0,"ava/no-import-test-files":0}}]},"runkitExampleFilename":"example.js","release":{"branches":["+([0-9]).x","main","next",{"name":"beta","prerelease":true}]},"readmeFilename":"README.md","gitHead":"bd3c4844dae343977d4f240aa9d0f7a3c0a0da12","_nodeVersion":"16.13.2","_npmVersion":"8.1.2","_npmUser":{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"},"maintainers":[{"name":"endless","email":"jimmy@warting.se"},{"name":"bitinn","email":"bitinn@gmail.com"},{"name":"timothygu","email":"timothygu99@gmail.com"},{"name":"akepinski","email":"npm@kepinski.ch"},{"name":"node-fetch-bot","email":"jimmy+node-fetch@warting.se"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-fetch_4.0.0-beta.4_1643323521623_0.48981533709184544"},"_hasShrinkwrap":false}},"time":{"created":"2022-06-29T18:21:08Z","modified":"2023-12-19T06:19:09Z","0.1.0":"2022-06-29T18:21:08Z","1.0.0":"2022-06-29T18:21:08Z","1.0.1":"2022-06-29T18:21:08Z","1.0.2":"2022-06-29T18:21:08Z","1.0.3":"2022-06-29T18:21:08Z","1.0.4":"2022-06-29T18:21:08Z","1.0.5":"2022-06-29T18:21:08Z","1.0.6":"2022-06-29T18:21:08Z","1.1.0":"2022-06-29T18:21:08Z","1.1.1":"2022-06-29T18:21:08Z","1.1.2":"2022-06-29T18:21:08Z","1.2.0":"2022-06-29T18:21:08Z","1.2.1":"2022-06-29T18:21:08Z","1.3.0":"2022-06-29T18:21:08Z","1.3.1":"2022-06-29T18:21:08Z","1.3.2":"2022-06-29T18:21:08Z","1.3.3":"2022-06-29T18:21:08Z","1.4.0":"2022-06-29T18:21:08Z","1.4.1":"2022-06-29T18:21:08Z","1.5.0":"2022-06-29T18:21:08Z","1.5.1":"2022-06-29T18:21:08Z","1.5.2":"2022-06-29T18:21:08Z","1.5.3":"2022-06-29T18:21:08Z","1.6.0":"2022-06-29T18:21:08Z","1.6.1":"2022-06-29T18:21:08Z","1.6.2":"2022-06-29T18:21:08Z","1.6.3":"2022-06-29T18:21:08Z","1.7.0":"2022-06-29T18:21:08Z","1.7.1":"2022-06-29T18:21:08Z","1.7.2":"2022-06-29T18:21:08Z","1.7.3":"2022-06-29T18:21:08Z","2.0.0-alpha.1":"2022-06-29T18:21:08Z","2.0.0-alpha.3":"2022-06-29T18:21:08Z","2.0.0-alpha.4":"2022-06-29T18:21:08Z","2.0.0-alpha.5":"2022-06-29T18:21:08Z","2.0.0-alpha.6":"2022-06-29T18:21:08Z","2.0.0-alpha.7":"2022-06-29T18:21:08Z","2.0.0-alpha.8":"2022-06-29T18:21:08Z","2.0.0-alpha.9":"2022-06-29T18:21:08Z","2.0.0":"2022-06-29T18:21:08Z","2.1.0":"2022-06-29T18:21:08Z","2.1.1":"2022-06-29T18:21:08Z","2.1.2":"2022-06-29T18:21:08Z","2.2.0":"2022-06-29T18:21:08Z","2.2.1":"2022-06-29T18:21:08Z","2.3.0":"2022-06-29T18:21:08Z","2.4.0":"2022-06-29T18:21:08Z","2.4.1":"2022-06-29T18:21:08Z","2.5.0":"2022-06-29T18:21:08Z","2.6.0":"2022-06-29T18:21:08Z","2.6.1":"2022-08-31T06:58:59Z","2.6.2":"2022-06-29T18:21:08Z","2.6.3":"2022-06-29T18:21:08Z","2.6.4":"2022-06-29T18:21:08Z","2.6.5":"2022-06-29T18:21:08Z","2.6.6":"2022-06-29T18:21:08Z","2.6.7":"2022-06-29T18:21:09Z","2.6.8":"2023-08-07T20:04:52Z","2.6.9":"2023-02-12T19:48:15Z","2.6.10":"2023-05-08T17:54:11Z","2.6.11":"2023-05-16T12:42:42Z","2.6.12":"2023-08-07T20:29:06Z","2.6.13":"2023-08-22T22:36:41Z","2.7.0":"2023-12-19T06:19:09Z","3.0.0-beta.1":"2022-06-29T18:21:08Z","3.0.0-beta.2":"2022-06-29T18:21:08Z","3.0.0-beta.3":"2022-06-29T18:21:08Z","3.0.0-beta.4":"2022-06-29T18:21:08Z","3.0.0-beta.5":"2022-06-29T18:21:08Z","3.0.0-beta.6":"2022-06-29T18:21:08Z","3.0.0-beta.7":"2022-06-29T18:21:08Z","3.0.0-beta.8":"2022-06-29T18:21:08Z","3.0.0-beta.9":"2022-06-29T18:21:08Z","3.0.0-beta.10":"2022-06-29T18:21:08Z","3.0.0-beta.6-exportfix":"2022-06-29T18:21:08Z","3.0.0":"2022-06-29T18:21:08Z","3.1.0":"2022-06-29T18:21:08Z","3.1.1":"2022-06-29T18:21:08Z","3.2.0":"2022-06-29T18:21:08Z","3.2.1":"2022-06-29T18:21:08Z","3.2.2":"2022-06-29T18:21:08Z","3.2.3":"2022-06-29T18:21:08Z","3.2.4":"2022-06-29T18:21:08Z","3.2.5":"2022-06-29T18:21:08Z","3.2.6":"2022-06-29T18:21:08Z","3.2.7":"2022-07-12T00:19:25Z","3.2.8":"2022-07-12T17:42:46Z","3.2.9":"2022-07-18T16:58:08Z","3.2.10":"2022-07-31T08:39:39Z","3.3.0":"2022-11-10T23:41:02Z","3.3.1":"2023-03-11T11:44:53Z","3.3.2":"2023-07-25T11:52:59Z","4.0.0-beta.1":"2022-06-29T18:21:08Z","4.0.0-beta.2":"2022-06-29T18:21:08Z","4.0.0-beta.3":"2022-06-29T18:21:08Z","4.0.0-beta.4":"2022-06-29T18:21:08Z"}}