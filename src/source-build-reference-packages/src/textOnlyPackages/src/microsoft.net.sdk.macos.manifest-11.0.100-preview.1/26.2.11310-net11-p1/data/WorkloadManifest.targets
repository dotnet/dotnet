<Project>
	<!-- Load the correct workload depending on the TargetPlatformVersion -->
	<ImportGroup Condition=" '$(TargetPlatformIdentifier)' == 'macOS' And '$(UsingAppleNETSdk)' != 'true' And $([MSBuild]::VersionEquals($(TargetFrameworkVersion), '10.0')) And ('$(TargetPlatformVersion)' == '26.0' Or ('$(TargetPlatformVersion)' == '' And '$(OutputType)' == 'Library' And '$(IsAppExtension)' != 'true' And '$(UseFloatingTargetPlatformVersion)' != 'true' And '$(BundleOriginalResources)' != 'false'))">
		<Import Project="Sdk.props" Sdk="Microsoft.macOS.Sdk.net10.0_26.0" />
	</ImportGroup>

	<ImportGroup Condition=" '$(TargetPlatformIdentifier)' == 'macOS' And '$(UsingAppleNETSdk)' != 'true' And $([MSBuild]::VersionEquals($(TargetFrameworkVersion), '10.0')) And '$(TargetPlatformVersion)' == '26.2'">
		<Import Project="Sdk.props" Sdk="Microsoft.macOS.Sdk.net10.0_26.2" />
	</ImportGroup>

	<ImportGroup Condition=" '$(TargetPlatformIdentifier)' == 'macOS' And '$(UsingAppleNETSdk)' != 'true' And $([MSBuild]::VersionEquals($(TargetFrameworkVersion), '11.0')) And ('$(TargetPlatformVersion)' == '26.2' Or ('$(TargetPlatformVersion)' == '' And '$(OutputType)' == 'Library' And '$(IsAppExtension)' != 'true' And '$(UseFloatingTargetPlatformVersion)' != 'true' And '$(BundleOriginalResources)' != 'false'))">
		<Import Project="Sdk.props" Sdk="Microsoft.macOS.Sdk.net11.0_26.2" />
	</ImportGroup>

	<!-- If no TargetPlatformVersion is specified, load a default workload depending on the target framework version, and that workload will validate the TargetPlatformVersion value and show an error if applicable -->
	<ImportGroup Condition=" '$(TargetPlatformIdentifier)' == 'macOS' And '$(UsingAppleNETSdk)' != 'true' And $([MSBuild]::VersionEquals($(TargetFrameworkVersion), '10.0'))">
		<Import Project="Sdk.props" Sdk="Microsoft.macOS.Sdk.net10.0_26.2" />
	</ImportGroup>

	<ImportGroup Condition=" '$(TargetPlatformIdentifier)' == 'macOS' And '$(UsingAppleNETSdk)' != 'true' And $([MSBuild]::VersionEquals($(TargetFrameworkVersion), '11.0'))">
		<Import Project="Sdk.props" Sdk="Microsoft.macOS.Sdk.net11.0_26.2" />
	</ImportGroup>

	<!-- Detect if the target framework version is outside our supported range, and show the corresponding error -->
	<ImportGroup Condition=" '$(TargetPlatformIdentifier)' == 'macOS' And '$(UsingAppleNETSdk)' != 'true'">
		<Import Project="Sdk-eol.props" Sdk="Microsoft.macOS.Sdk.net11.0_26.2" Condition=" $([MSBuild]::VersionLessThan($(TargetFrameworkVersion), '10.0'))" />
		<Import Project="Sdk.props" Sdk="Microsoft.macOS.Sdk.net11.0_26.2" Condition=" $([MSBuild]::VersionGreaterThan($(TargetFrameworkVersion), '11.0'))" />
	</ImportGroup>

	<ItemGroup Condition=" '$(TargetFrameworkIdentifier)' == '.NETCoreApp' and $([MSBuild]::VersionGreaterThanOrEquals($(TargetFrameworkVersion), '6.0')) ">
		<SdkSupportedTargetPlatformIdentifier Include="macos" DisplayName="macOS" />
	</ItemGroup>
</Project>

